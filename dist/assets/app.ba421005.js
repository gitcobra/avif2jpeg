var Qe=(B,i)=>()=>(i||B((i={exports:{}}).exports,i),i.exports);import{d as he,r as p,u as We,a as qe,o as je,w as me,b as T,c as Z,e as f,f as Ze,n as Ye,F as re,g as u,h as t,i as we,j as e,N as ie,t as y,k as Je,l as Ke,m as Xe,p as et,q as tt,s as ut,v as m,x as ot,y as O,z as Le,A as $,B as ue,C as Ne,D as F,E as oe,G as nt,H as q,I as at,J as lt,K as it,L as rt,M as st,O as ct,P as dt,Q as pt,R as ft,S as gt,T as vt,U as At,V as mt,W as yt,X as ht,Y as Et,Z as Ft,_ as _t,$ as Bt,a0 as bt}from"./vendor.1a8ea462.js";var gu=Qe((ze,De)=>{(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))C(r);new MutationObserver(r=>{for(const E of r)if(E.type==="childList")for(const S of E.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&C(S)}).observe(document,{childList:!0,subtree:!0});function n(r){const E={};return r.integrity&&(E.integrity=r.integrity),r.referrerpolicy&&(E.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?E.credentials="include":r.crossorigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function C(r){if(r.ep)return;r.ep=!0;const E=n(r);fetch(r.href,E)}})();let Ae=["image/png"];var Ct=function(){typeof De=="object"&&typeof ze=="object"&&(De.exports=s);for(var B=typeof Uint8Array<"u",i=B?Uint8Array:Array,n=new(B?Uint32Array:Array)(256),C=0;C<256;C++){for(var r=C,E=0;E<8;E++)r=1&r?3988292384^r>>>1:r>>>1;n[C]=r}function S(g){var A=[];return encodeURIComponent(g).replace(/%(..)|(.)/g,function(L,I,b){A.push(I?parseInt(I,16):b.charCodeAt(0))}),B?new i(A):A}function k(g){return[255&g,g>>8&255,g>>16&255,g>>24&255]}function s(){this._d={},this._lfh=[],this._curLFHind=0,this._cdh=[],this._cdhLen=0,this._c=0}return s.prototype={add:function(g,A){if(!g)throw new Error("path is empty");if(g=String(g).replace(/\\/g,"/"),/\/{2,}|\\|^\/|^[a-z]+:/i.test(g))throw new Error('invalid path. containing a drive letter, a leading slash, or empty directory name: "'+g+'"');var L=0,I=0;if(A!==void 0){if(!/[^/]+$/.test(g))throw new Error('needs a file name: "'+g+'"');if(!((A=typeof A=="string"?S(A):A)instanceof i))try{if(!(A.buffer||A instanceof Array||A instanceof ArrayBuffer||A instanceof Buffer))throw new Error;A=new Uint8Array(A.buffer||A)}catch{throw new Error("data must be one of type Array, TypedArray, ArrayBuffer, Buffer, or string.")}if(this.has(g))throw new Error("the file already exists: "+g);L=A.length,I=function(_){for(var D=4294967295,U=0,J=_.length;U<J;U++)D=n[255&(D^_[U])]^D>>>8;return(4294967295^D)>>>0}(A)}for(var b=new Date,w=k(b.getFullYear()-1980<<25|b.getMonth()+1<<21|b.getDate()<<16|b.getHours()<<11|b.getMinutes()<<5|b.getSeconds()/2),j=g.replace(/\/+$/,"").split("/"),P="";j.length;){P+=j.shift();var H,N,l,c,v=A&&j.length===0;P+=v?"":"/",this._d[P]||(this._d[P]=!0,this._c++,N=(H=S(P)).length,c=k(l=v?L:0),this._lfh.push([80,75,3,4]),c=[10,0,0,8,0,0].concat(w,k(v?I:0),c,c,[255&N,N>>8&255,0,0]),this._lfh.push(c,H),this._cdh.push([80,75,1,2,10,0].concat(c,[0,0,0,0,0,0,v?0:16,0,0,0],k(this._curLFHind)),H),this._cdhLen+=46+N,this._curLFHind+=30+N+l)}A&&this._lfh.push(A)},has:function(g){return!!this._d[g.replace(/\/+$/,"")]},zip:function(){var g=[80,75,5,6,0,0,0,0,255&this._c,this._c>>8,255&this._c,this._c>>8].concat(k(this._cdhLen),k(this._curLFHind),[0,0]),A=this._lfh.concat(this._cdh,[g]);if(i===Array)I=[].concat.apply([],A);else for(var L=0,I=new i(this._curLFHind+this._cdhLen+g.length),b=0;b<A.length;b++){var w=A[b];I.set(w,L),L+=w.length}return I},url:function(){if(typeof Blob!="function"||typeof URL!="function")return null;var g=this.zip(),g=new Blob([g],{type:"application/zip"});return window.URL.createObjectURL(g)}},s}();const wt=he({__name:"converter",props:{target:[HTMLElement,Document],format:{type:String,default:Ae[0],validator(B){return Ae.includes(B)}},quality:{type:Number,default:95,validator(B){return B>=0&&B<=100}},accept:String,processing:Boolean,input:Array,sendmessage:[Array,String],style:Object,retainExtension:Boolean},emits:["mounted","start","progress","success","failure","complete","prevent","noimage","avifsupport","imgload","consumeMessage"],setup(B,{emit:i}){const n=B;let C=!1,r=!1,E=[];const S=p(null);let k,s;if(n.target&&!(n.target instanceof Node))throw new Error("target attribute must be a HTMLElement");const g=p(null),A=p(null);We();const L=qe();je(async()=>{s=S.value.getContext("2d"),A.value=n.style;const l=g.value;k=n.target||l,I(k,s),Ae=H(),i("mounted",{formats:Ae}),i("avifsupport",await P())}),me(()=>n.input,l=>{l!=null&&l.length&&(E=l,w(l,s))}),me(()=>n.sendmessage,l=>{if(!!l){if(typeof l=="string")switch(l){case"destroy":L.destroyAll();break;case"reconvert":const c=E;c!=null&&c.length&&w(c,s);break}else if(l instanceof Array){const[c={},v="info"]=l;L[v](c)}i("consumeMessage")}}),me(()=>n.processing,l=>{l||(r=!0)});function I(l,c){document.ondragstart=v=>v.preventDefault(),document.ondragover=v=>v.preventDefault(),l.ondrop=async v=>{var _,D;v.preventDefault(),E=[...((_=v.dataTransfer)==null?void 0:_.files)||[]],w((D=v.dataTransfer)==null?void 0:D.files,c)}}function b(l){let c;if(l instanceof Event)c=l.target.files;else if(l instanceof File)c=[l];else if(l instanceof FileList||l instanceof Array)c=l;else return console.log("could not find any file"),[];return[...c]}function w(l,c){if(C){i("prevent");return}let v=b(l);const _=String(n.accept).toLowerCase().replace(/\s+/g,"");if(_){const D=_.split(",");if(v=v.filter(U=>D.includes(U.name.replace(/^.+(\.[^.]+)$/,"$1").toLowerCase())),!v.length){i("noimage");return}}C=!0,r=!1,j(v,c)}async function j(l,c){const v=c.canvas,_=new Ct,D=n.format,U=n.quality/100,J=[...D.matchAll(/.+\/(.+)/g)][0][1].replace(/jpeg/,"jpg");i("start",{list:l,length:l.length});const Ee=new Date().getTime(),G=l.length;let R=0,Q=0,W=0,M=null,K="",X="";for(const x of l){if(r)break;const z=x.name,xe=x.size,pe=x.relativePath||x.webkitRelativePath,V=document.createElement("img");i("progress",{name:z,index:R,length:G,success:Q,failure:W}),R++,X=URL.createObjectURL(x),V.src=X;const fe=await N(V).then(()=>!0).catch(()=>!1);if(!V.complete||!fe||r){if(W++,i("failure",{file:x,name:z,success:Q,failure:W,index:R,length:G}),r)break;continue}const se=V.width,ce=V.height;v.width=se,v.height=ce,c.drawImage(V,0,0,se,ce,0,0,se,ce),i("imgload",{width:V.width,height:V.height,img:V});const de=await new Promise(_e=>{const Be=le=>{M=le,_e(le==null?void 0:le.arrayBuffer())};v.toBlob(Be,D,U)});if(r)break;if(!de){console.log("failed to toBlob",z),W++,i("failure",{name:z});continue}const Fe=de.byteLength,Y=(pe||z).replace(n.retainExtension?"":/\.(jpe?g|gif|png|avif|webp|bmp)$/i,"")+"."+J;_.add(Y,de),Q++,K=Y,i("success",{name:z,success:Q,failure:W,index:R,length:G,inputSize:xe,outputSize:Fe})}let ee,te;if(M){ee=URL.createObjectURL(M);const x=new FileReader;x.readAsDataURL(M),te=await N(x).then(z=>z.target.result)}const ne=new Date().getTime()-Ee,ae=_.url();i("complete",{aborted:r,success:Q,failure:W,index:R,length:G,zip:ae,lastImage:ee,lastImageDataURL:te,name:K,inputFileCount:E.length,elapsedTime:ne}),C=!1}function P(){const l="data:image/avif;base64,AAAAHGZ0eXBtaWYxAAAAAG1pZjFhdmlmbWlhZgAAAPJtZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAABEAAAQABAAAAAAEWAAEAAAAgAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUltYWdlAAAAAHFpcHJwAAAAUmlwY28AAAAUaXNwZQAAAAAAAAAIAAAACAAAABBwYXNwAAAAAQAAAAEAAAAWYXYxQ4EgAAAKCDgIv2kBDQAgAAAAEHBpeGkAAAAAAwgICAAAABdpcG1hAAAAAAAAAAEAAQQBAoOEAAAAKG1kYXQKCDgIv2kBDQAgMhQWQAAASAAADAZuZXHwA9LzjNWygA==",c=document.createElement("img"),v=N(c).then(()=>!0,()=>!1);return c.src=l,v}function H(){const l=["image/png","image/jpeg","image/gif","image/bmp","image/avif","image/webp"],c=document.createElement("canvas");c.width=1,c.height=1;const v=[];for(const _ of l)c.toDataURL(_).indexOf(_)>=0&&v.push(_);return v}function N(l){if(typeof l.onload>"u")throw new Error(`it doesn't have "onload" property.`);return new Promise((c,v)=>{l.onload=c,l.onerror=v})}return(l,c)=>(T(),Z(re,null,[f("div",{ref_key:"container",ref:g,class:"droptarget",style:Ye(A.value)},[Ze(l.$slots,"default",{},void 0,!0)],4),f("canvas",{ref_key:"canvas",ref:S,style:{position:"absolute",width:"1px",height:"1px","z-index":"-999"}},null,512)],64))}}),Dt=(B,i)=>{const n=B.__vccOpts||B;for(const[C,r]of i)n[C]=r;return n},xt=Dt(wt,[["__scopeId","data-v-1ecc8abc"]]),Tt=f("h3",null,"Used Framework and Libraries",-1),kt=["href"],It=he({__name:"licenses",setup(B){const i=p(!1),n={Vue:"https://github.com/vuejs/core/blob/main/LICENSE",Vite:"https://github.com/vitejs/vite/blob/main/LICENSE","Vite SSG":"https://github.com/antfu/vite-ssg/blob/main/LICENSE","Naive UI":"https://github.com/TuSimple/naive-ui/blob/main/LICENSE",Ionicons:"https://github.com/ionic-team/ionicons/blob/main/LICENSE"};return(C,r)=>(T(),Z(re,null,[f("a",{href:"#",onClick:r[0]||(r[0]=E=>i.value=!0),style:{color:"black","font-size":"small"}},"Licenses"),u(e(ie),{preset:"dialog",ref:"dialog",show:i.value,"onUpdate:show":r[1]||(r[1]=E=>i.value=E),"positive-text":"OK",title:"Licenses"},{default:t(()=>[Tt,f("ul",null,[(T(),Z(re,null,we(n,(E,S)=>f("li",null,[f("a",{href:E},y(S),9,kt)])),64))])]),_:1},8,["show"])],64))}}),St=0,Lt=39,Nt="",Ce={major:St,build:Lt,tag:Nt},jt=he({__name:"version",setup(B){const i=`${Ce.major}.${String(Ce.build).padStart(3,"0")}${Ce.tag}`;return(n,C)=>" v"+y(i)}}),zt=F(" English "),Pt=F(" Switch to English "),Ut=F(" \u65E5\u672C\u8A9E "),Mt=F(" \u65E5\u672C\u8A9E\u306B\u5207\u308A\u66FF\u3048 "),Vt={style:{"text-decoration":"underline",padding:"0px",margin:"0px","text-decoration-style":"double","text-align":"center"}},Ot={style:{color:"black","word-break":"keep-all","overflow-wrap":"break-word"},href:"https://gitcobra.github.io/avif2jpeg/dist/"},Rt=["accept"],$t=["innerHTML"],Ht=["innerHTML"],Gt={style:{"padding-left":"1em"}},Qt=["innerHTML"],Wt=f("span",null,"Drag & Drop",-1),qt=f("span",null,"AVIF Images",-1),Zt=["innerHTML"],Yt=["innerHTML"],Jt={style:{"white-space":"nowrap"}},Kt={style:{color:"gray","padding-left":"20px"}},Xt=["innerHTML"],eu={style:{"font-size":"x-small","text-align":"center",margin:"0px"}},tu=F("GitHub"),uu=f("br",null,null,-1),ou=["href"],nu=F("DataURI"),au={style:{"text-align":"right"}},lu={style:{"text-align":"right"}},iu={key:1,style:{position:"relative",width:"1px",height:"1px",overflow:"visible"}},ru={style:{position:"absolute",left:"4px",top:"-16px",transform:"rotate(25deg)",overflow:"visible"}},su=f("span",{style:{position:"absolute",left:"28px",bottom:"4px",transform:"rotate(25deg)","white-space":"nowrap","font-size":"small","font-family":"impact",color:"rgba(0,255,0, 0.5)"}},"ZIP",-1),ye=he({__name:"App",setup(B){const{locale:i,t:n}=Je(),C=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile Safari/.test(navigator.userAgent),r=document,E=p([{label:"image/png",value:"image/png"}]),S=["avif_only","all_images","all_files","edit_type"],k=p({avif_only:".avif,.webp",all_images:".jpg,.jpeg,.jfif,.pjpeg,.pjp,.gif,.png,.webp,.avif,.bmp,.apng,.ico",all_files:"",edit_type:""}),s=Ke({imageFormat:"image/png",imageQuality:90,retainExtension:!1,expandExtButtons:!1,acceptTypeValue:S[0],editedAcceptTypes:""});p(!1);const g=p(0),A=p(0),L=p(0),I=p(0),b=p(!0),w=p(!1),j=p(!1),P=p(!1),H=p(!1),N=p(!1),l=p(!1);p(!1);const c=p(!1),v=p(!1),_=p(""),D=p(""),U=p(0),J=p(0),Ee=Xe(()=>{switch(_.value){case n("completed"):return I.value===A.value?"success":"warning";case n("aborted"):return"error";case n("incomplete"):return"warning";default:return"info"}}),G=p("lime"),R=p(0);let Q=0;const W=p(null),M=p(""),K=p(null),X=p(""),ee=p(""),te=p(null),ne=p(null),ae=p(null),x=p(!1);let z=!1;me(x,(d,o)=>{d?i.value="ja":i.value="en",document.title=n("title")});const pe=ut().currentRoute.value.path;(/\/ja\b/.test(pe)||/^\/?$/.test(pe)&&/^ja\b/i.test(Oe()))&&(x.value=!0,i.value="ja"),et({title:n("title"),meta:[{property:"og:title",content:n("title")},{property:"og:description",content:n("metaDescription")}]}),je(()=>{document.querySelector("head").removeChild(document.getElementById("svgfix")),te.value.oninput=ne.value.oninput=V,Te(),window.addEventListener("resize",Te);const d="avif2jpeg",o=JSON.parse(localStorage.getItem(d)||"{}");for(const h in s)o.hasOwnProperty(h)&&(s[h]=o[h]);fe(s.editedAcceptTypes||""),window.addEventListener("unload",()=>{const h={};for(const a in s)h[a]=s[a];localStorage.setItem(d,JSON.stringify(h))})});function V(d){const h=[...d.target.files];W.value=h,te.value.value="",ne.value.value=""}function fe(d){k.value.edit_type=d}function se({formats:d}){E.value=d.map(h=>({value:h,label:h}));const o=d.find(h=>/jpeg/i.test(h));o&&(s.imageFormat=o)}function ce(){w.value=!1}function de({length:d}){A.value=0,L.value=0,I.value=d,v.value=!0,w.value=!0,j.value=!1,l.value=!1,g.value=0,X.value="",ee.value="",U.value=0,J.value=0,z=!1,N.value=!1,_.value=n("processing"),Y=null,G.value="lime",R.value=0,Q=0}function Fe({length:d,index:o,name:h,success:a}){A.value=o,g.value=o/d*100|0,_.value=n("processing"),D.value=`${h}`}let Y=null;function _e({img:d,width:o,height:h}){Y&&(Y.remove(),Y.src="");const a=o/h;o>h?(o=120,h=o/a):(h=90,o=h*a),d.style.width=o+"px",d.style.height=h+"px",ae.value&&(ae.value.innerHTML="",ae.value.appendChild(d)),Y=d}function Be({name:d,index:o,success:h,inputSize:a,outputSize:ge}){L.value=h,U.value+=a,J.value+=ge}function le({name:d}){M.value=[{description:`${d}`,duration:0},"warning"],G.value="orange"}function Pe({index:d,zip:o,aborted:h,success:a,length:ge,lastImage:Ie,lastImageDataURL:Se,name:Re,inputFileCount:$e,elapsedTime:He}){const ve=K.value,Ge=d/ge*100|0;if(R.value=$e,Q=He,a)if(a===1){ve.download=Re;let be=Ie;ve.href=be,X.value=Ie,Se&&(ee.value=Se)}else{const be=new Date;ve.download="avif2jpeg_"+s.imageFormat.replace(/^image\//,"")+"_"+be.getTime()+".zip",ve.href=o,N.value=!0}!h||Ge===100?g.value=100:G.value="red",A.value=d,a===ge?_.value=n("completed"):_.value=n(h?"aborted":"incomplete"),w.value=!1,j.value=!0}function Ue(){M.value=""}function Te(){const d=document.body.clientWidth,o=document.body.clientHeight;b.value=d*.75>o||d>900}function Me(){M.value="destroy",Q>1e3*10&&!z?l.value=!0:K.value.href=""}function ke(){K.value.click(),z=!0}function Ve(d){try{navigator.clipboard.writeText(d)}catch{}}function Oe(){const d=window.navigator;return d.language||d.userLanguage||d.browserLanguage}return(d,o)=>{const h=Et("router-link");return T(),Z(re,null,[u(e(m),{vertical:"",align:"stretch",justify:"space-between",style:{height:"100%",width:"100%"}},{default:t(()=>[u(e(m),{justify:"end",align:"end",style:{"box-sizing":"border-box",padding:"4px",margin:"0px"}},{default:t(()=>[u(e(ot),{size:"tiny",style:{padding:"4px"}},{default:t(()=>[u(e(O),{trigger:"hover","keep-alive-on-hover":!1},{trigger:t(()=>[u(h,{to:{path:"/en"}},{default:t(()=>[u(e(Le),null,{default:t(()=>[u(e($),{color:x.value?"":"red",onClick:o[0]||(o[0]=a=>x.value=!1)},{default:t(()=>[zt]),_:1},8,["color"])]),_:1})]),_:1})]),default:t(()=>[Pt]),_:1}),u(h,{to:{path:"/ja"}},{default:t(()=>[u(e(O),{trigger:"hover","keep-alive-on-hover":!1},{trigger:t(()=>[u(e($),{color:x.value?"red":"",onClick:o[1]||(o[1]=a=>x.value=!0)},{default:t(()=>[Ut]),_:1},8,["color"])]),default:t(()=>[Mt]),_:1})]),_:1})]),_:1})]),_:1}),u(e(m),{vertical:"",justify:"center"},{default:t(()=>[f("h1",Vt,[f("a",Ot,y(e(n)("title")),1)])]),_:1}),u(e(m),{vertical:"",align:"center",justify:"center"},{default:t(()=>[f("input",{ref_key:"fileinput",ref:te,type:"file",multiple:"",accept:k.value[s.acceptTypeValue],style:{display:"none"}},null,8,Rt),f("input",{webkitdirectory:"",directory:"",ref_key:"folderinput",ref:ne,type:"file",style:{display:"none"}},null,512),u(e(m),{vertical:"",align:"stretch",justify:"center"},{default:t(()=>[u(e(O),{trigger:"hover","keep-alive-on-hover":!1,placement:b.value?"left":"top",duration:0,delay:300},{trigger:t(()=>[u(e($),{round:"",onClick:o[2]||(o[2]=a=>te.value.click()),style:{width:"100%"}},{default:t(()=>[u(e(ue),{size:"large",color:"gray"},{default:t(()=>[u(e(Ne))]),_:1}),F(" "+y(e(n)("loadbutton")),1)]),_:1})]),default:t(()=>[f("div",{innerHTML:e(n)("loadbuttontooltip")},null,8,$t)]),_:1},8,["placement"]),e(C)?q("",!0):(T(),oe(e(O),{key:0,trigger:"hover",placement:"bottom","keep-alive-on-hover":!1,style:{"max-width":"90vw"},duration:0,delay:300},{trigger:t(()=>[u(e($),{round:"",onClick:o[3]||(o[3]=a=>ne.value.click()),style:{width:"100%"}},{default:t(()=>[u(e(ue),{size:"large",color:"gray"},{default:t(()=>[u(e(nt))]),_:1}),F(" "+y(e(n)("loadfolderbutton")),1)]),_:1})]),default:t(()=>[f("div",{innerHTML:e(n)("loadfoldertooltip")},null,8,Ht)]),_:1}))]),_:1}),u(e(at),{"display-directive":"show","expanded-names":s.expandExtButtons?["extItem"]:"","on-update:expanded-names":a=>s.expandExtButtons=!!String(a)},{default:t(()=>[u(e(lt),{title:e(n)("fileTypeRadioTitle"),name:"extItem"},{default:t(()=>[u(e(it),{value:s.acceptTypeValue,"onUpdate:value":o[5]||(o[5]=a=>s.acceptTypeValue=a),name:"filetyperadios",size:"small"},{default:t(()=>[u(e(m),{vertical:"",style:{"padding-left":"1em"}},{default:t(()=>[(T(),Z(re,null,we(S,a=>u(e(O),{key:a,trigger:"hover","keep-alive-on-hover":!1},{trigger:t(()=>[u(e(Ft),{value:a},{default:t(()=>[F(y(e(n)("fileTypeRadioOptions."+a)),1)]),_:2},1032,["value"])]),default:t(()=>[F(" "+y(k.value[a]||".*"),1)]),_:2},1024)),64)),u(e(O),{trigger:"hover","keep-alive-on-hover":!1,placement:"bottom-start"},{trigger:t(()=>[f("div",Gt,[u(e(rt),{value:s.editedAcceptTypes,"onUpdate:value":o[4]||(o[4]=a=>s.editedAcceptTypes=a),onInput:fe,status:"success",disabled:s.acceptTypeValue!=="edit_type",size:"small",placeholder:".jpg, .gif, .png"},null,8,["value","disabled"])])]),default:t(()=>[f("span",{innerHTML:e(n)("editAcceptTypes")},null,8,Qt)]),_:1})]),_:1})]),_:1},8,["value"])]),_:1},8,["title"])]),_:1},8,["expanded-names","on-update:expanded-names"])]),_:1}),u(e(st),{placement:"top-right"},{default:t(()=>[u(e(ct),{closable:!0,"container-style":"font-size:xx-small;"},{default:t(()=>[u(xt,{target:e(r),format:s.imageFormat,quality:s.imageQuality,input:W.value,sendmessage:M.value,processing:w.value,accept:k.value[s.acceptTypeValue],"retain-extension":s.retainExtension,onMounted:se,onStart:de,onProgress:Fe,onSuccess:Be,onFailure:le,onComplete:Pe,onPrevent:o[6]||(o[6]=a=>{P.value=!0}),onNoimage:o[7]||(o[7]=a=>H.value=!0),onAvifsupport:o[8]||(o[8]=a=>c.value=!a),onImgload:_e,onConsumeMessage:Ue},{default:t(()=>[e(C)?q("",!0):(T(),oe(e(O),{key:0,trigger:"hover","keep-alive-on-hover":!1,placement:"bottom",duration:0,delay:300},{trigger:t(()=>[u(e(m),{vertical:"",style:{border:"6px dashed #EEE","border-radius":"1em",padding:"2em"}},{default:t(()=>[u(e(m),{align:"stretch",style:{color:"silver","overflow-wrap":"break-word","word-break":"keep-all"}},{default:t(()=>[u(e(m),null,{default:t(()=>[u(e(ue),{size:"64",color:"silver",class:"test"},{default:t(()=>[u(e(dt))]),_:1})]),_:1}),u(e(m),{vertical:"",style:{"font-weight":"bold","font-size":"x-large"}},{default:t(()=>[Wt,qt]),_:1})]),_:1})]),_:1})]),default:t(()=>[f("h3",{innerHTML:e(n)("droptarget")},null,8,Zt)]),_:1}))]),_:1},8,["target","format","quality","input","sendmessage","processing","accept","retain-extension"])]),_:1})]),_:1}),u(e(m),{justify:"center",align:"center"},{default:t(()=>[j.value?(T(),oe(e(O),{key:0,trigger:"hover",placement:"top","keep-alive-on-hover":!1,duration:0,delay:300},{trigger:t(()=>[u(e($),{onClick:o[9]||(o[9]=a=>M.value="reconvert"),color:"#888",round:""},{default:t(()=>[F(y(e(n)("reconvert")),1)]),_:1})]),default:t(()=>[f("div",{innerHTML:`${e(n)("reconvertTip")}<br>(${R.value} ${e(n)("files",R.value)})`},null,8,Yt)]),_:1})):q("",!0)]),_:1}),u(e(m),{justify:"center"},{default:t(()=>[u(e(m),{vertical:"",align:"start"},{default:t(()=>[u(e(O),{trigger:"hover",placement:b.value?"left":"top-start","keep-alive-on-hover":!1,duration:0,delay:300},{trigger:t(()=>[u(e(m),{align:"center"},{default:t(()=>[u(e(ue),null,{default:t(()=>[u(e(Ne))]),_:1}),F(y(e(n)("imageType"))+": ",1),u(e(pt),{size:"small",value:s.imageFormat,"onUpdate:value":o[10]||(o[10]=a=>s.imageFormat=a),options:E.value,"consistent-menu-width":!1},null,8,["value","options"])]),_:1})]),default:t(()=>[F(" "+y(e(n)("imageTypeTooltip")),1)]),_:1},8,["placement"]),u(e(O),{trigger:"hover",placement:b.value?"left":"top-start","keep-alive-on-hover":!1,duration:0,delay:300},{trigger:t(()=>[u(e(m),{align:"center"},{default:t(()=>[u(e(m),{align:"start",wrap:!1},{default:t(()=>[u(e(ue),null,{default:t(()=>[u(e(ft))]),_:1}),f("span",Jt,y(e(n)("quality"))+":",1),u(e(m),{align:"center",justify:"space-between"},{default:t(()=>[u(e(gt),{tooltip:!1,value:s.imageQuality,"onUpdate:value":o[11]||(o[11]=a=>s.imageQuality=a),step:1,style:{width:"120px"},disabled:/png|bmp/.test(s.imageFormat)},null,8,["value","disabled"]),u(e(vt),{style:{width:"90px"},size:"small",value:s.imageQuality,"onUpdate:value":o[12]||(o[12]=a=>s.imageQuality=a),step:"1",min:"0",max:"100",disabled:/png/.test(s.imageFormat)},null,8,["value","disabled"])]),_:1})]),_:1})]),_:1})]),default:t(()=>[F(" "+y(e(n)("qualitytooltip")),1)]),_:1},8,["placement"]),u(e(O),{trigger:"hover",placement:b.value?"left":"bottom-start","keep-alive-on-hover":!1,duration:0,delay:300},{trigger:t(()=>[u(e(At),{checked:s.retainExtension,"onUpdate:checked":o[13]||(o[13]=a=>s.retainExtension=a)},{default:t(()=>[F(y(e(n)("retainOriginalExtension")),1)]),_:1},8,["checked"])]),default:t(()=>[F(" "+y(e(n)("retainExtTooltip")),1)]),_:1},8,["placement"])]),_:1})]),_:1}),u(e(m),{justify:"center"},{default:t(()=>[f("ul",Kt,[(T(!0),Z(re,null,we(d.$tm("descriptions"),a=>(T(),Z("li",{key:a,style:{"text-align":"left"},innerHTML:a},null,8,Xt))),128))])]),_:1}),u(e(m),{justify:"center",align:"baseline"},{default:t(()=>[f("p",eu,[u(jt)]),u(e(m),{align:"center"},{default:t(()=>[u(e(m),{align:"center"},{default:t(()=>[u(e(Le),{href:"https://github.com/gitcobra/avif2jpeg",style:{color:"black","font-size":"small"}},{default:t(()=>[u(e(ue),null,{default:t(()=>[u(e(mt))]),_:1}),tu]),_:1})]),_:1}),u(e(m),{align:"center"},{default:t(()=>[u(It)]),_:1})]),_:1})]),_:1})]),_:1}),u(e(ie),{show:H.value,"onUpdate:show":o[14]||(o[14]=a=>H.value=a),preset:"dialog",type:"error",title:"Images Not Found","positive-text":"OK"},{default:t(()=>[F(y(e(n)("noimage")),1),uu,F(y(k.value[s.acceptTypeValue]||".*"),1)]),_:1},8,["show"]),u(e(ie),{show:c.value,"onUpdate:show":o[15]||(o[15]=a=>c.value=a),preset:"dialog",type:"warning",title:"Unsupported","positive-text":"OK"},{default:t(()=>[F(y(e(n)("avifUnsupported")),1)]),_:1},8,["show"]),u(e(ie),{show:l.value,"onUpdate:show":o[16]||(o[16]=a=>l.value=a),preset:"dialog",type:"warning",title:e(n)("confirmCloseDialogTitle"),"positive-text":e(n)("save"),"negative-text":e(n)("close"),maskClosable:!1,onPositiveClick:ke},{default:t(()=>[F(y(e(n)("confirmCloseDialog")),1)]),_:1},8,["show","title","positive-text","negative-text"]),u(e(ie),{show:v.value,"onUpdate:show":o[19]||(o[19]=a=>v.value=a),closable:!w.value&&j.value,"close-on-esc":!w.value&&j.value,onMaskClick:o[20]||(o[20]=a=>M.value="destroy"),preset:"dialog",title:_.value,type:e(Ee),"mask-closable":!1,"on-after-leave":Me},{default:t(()=>[u(e(m),{vertical:"",align:"center"},{default:t(()=>[u(e(yt),{type:"circle",percentage:g.value,color:G.value,"indicator-text-color":"black","rail-color":"silver"},{default:t(()=>[u(e(m),{vertical:"",align:"center",justify:"center"},{default:t(()=>[u(e(m),{style:{"font-size":"x-large"}},{default:t(()=>[F(y(g.value)+"%",1)]),_:1}),u(e(m),{style:{"font-size":"xx-small"}},{default:t(()=>[F("( "+y(L.value)+" / "+y(I.value)+" )",1)]),_:1})]),_:1})]),_:1},8,["percentage","color"]),u(e(m),{vertical:"",align:"center","item-style":"overflow:hidden; text-overflow: ellipsis; white-space:nowrap;"},{default:t(()=>[u(e(m),{style:{"font-size":"x-small"}},{default:t(()=>[f("span",null,y(D.value),1)]),_:1}),u(e(m),{vertical:"",style:{height:"90px"},align:"center",justify:"center"},{default:t(()=>[f("div",{ref_key:"thumbnail",ref:ae},null,512)]),_:1}),u(e(m),null,{default:t(()=>[X.value?(T(),Z("a",{key:0,href:X.value,target:"_blank"},[u(e($),{round:"",size:"tiny"},{default:t(()=>[F(y(e(n)("open")),1)]),_:1})],8,ou)):q("",!0),ee.value?(T(),oe(e($),{key:1,round:"",size:"tiny",onClick:o[17]||(o[17]=a=>Ve(ee.value))},{default:t(()=>[nu]),_:1})):q("",!0)]),_:1})]),_:1}),f("table",null,[f("tr",null,[f("td",null,y(e(n)("inputSize"))+": ",1),f("td",au,y((U.value/1024|0).toLocaleString())+"KB",1)]),f("tr",null,[f("td",null,y(e(n)("outputSize"))+": ",1),f("td",lu,y((J.value/1024|0).toLocaleString())+"KB",1)])]),w.value?(T(),oe(e($),{key:0,size:"large",ref:"cancelbutton",round:"",onClick:ce},{default:t(()=>[F(y(e(n)("cancel")),1)]),_:1},512)):q("",!0),u(e(m),{align:"center",vertical:""},{default:t(()=>[f("div",null,[!w.value&&L.value?(T(),oe(e($),{key:0,size:"large",round:"",onClick:ke,color:"lime"},{default:t(()=>[F(y(e(n)("save")),1)]),_:1})):q("",!0),N.value?(T(),Z("span",iu,[f("span",ru,[u(e(ue),{depth:"4",size:"30",color:"lime"},{default:t(()=>[u(e(ht))]),_:1}),su])])):q("",!0)]),!w.value&&j.value?(T(),oe(e($),{key:0,onClick:o[18]||(o[18]=a=>v.value=!1),round:"",size:"small",style:{"font-size":"small","margin-top":"1em"}},{default:t(()=>[F(y(e(n)("close")),1)]),_:1})):q("",!0)]),_:1})]),_:1})]),_:1},8,["show","closable","close-on-esc","title","type"]),tt(f("a",{ref_key:"downloadlink",ref:K,href:""},null,512),[[_t,!1]]),u(e(ie),{show:P.value,"onUpdate:show":o[21]||(o[21]=a=>P.value=a),preset:"dialog",type:"error","positive-text":"OK",title:"Busy"},{default:t(()=>[F(y(e(n)("interfered")),1)]),_:1},8,["show"])],64)}}}),cu={title:'AVIF to JPEG "Offline" Batch Converter',metaDescription:"It is a free web application to convert AVIF or WebP images to other common image formats such as JPEG or PNG without server communication.",droptarget:"Drag & Drop AVIF Images to Convert",descriptions:["This is a free web application to batch convert AVIF(or WebP, etc) images to common image formats such as JPEG, PNG.","It uses a browser's built-in function for the conversions, so <strong>no data will be sent</strong> to a server and is therefore <strong>fast</strong> and <strong>safe</strong>.","The converted images will be output as <strong>a zip file</strong> when multiple images are loaded.",'Requires <a href="https://caniuse.com/?search=avif" target="_self" style="color:red">latest</a> version of Firefox or Chrome to load AVIF images.'],fileTypeRadioTitle:"Choose Target File Extentions",fileTypeRadioOptions:{avif_only:'Only ".avif" or ".webp"',all_images:"All Image Types",all_files:"All Types",edit_type:"Input File Extensions"},editAcceptTypes:"Input list of comma separated file extentions to load.<br>e.g.) .jpg,.gif,.png",quality:"Image Quality",qualitytooltip:"Set image quality for output",imageType:"Image Type",imageTypeTooltip:"Choose image format for output",retainOriginalExtension:"Keep Original File Extension",retainExtTooltip:"New extension will be appended to original extension",ignoreFileExtensions:"Load All File Types",ignoreExtTooltip:"Try to load files that don't have image file extension",loadbutton:"Load Images",loadbuttontooltip:"Select your images from a dialog window.<br>*Multiple selection allowed.",loadfolderbutton:"Load A Whole Folder",loadfoldertooltip:`
    Convert all images in the selected folder and its subfolders, and add the converted images to a ZIP archive with relative path.<br>
    *It will show "Upload" button, but it actually doesn't upload anything to a server.
  `,processing:"Converting images",aborted:"Aborted",incomplete:"Some files failed to convert",completed:"Completed",interfered:"Currently Busy",noimage:"No files with the extentions were found.",avifUnsupported:"Your browser does not support AVIF format. Please use latest version of Firefox or Chrome to convert AVIF images.",cancel:"Cancel",inputSize:"Input Size",outputSize:"Output Size",save:"Save",close:"Close",open:"Open",reconvert:"Reconvert",reconvertTip:"Reconvert previous selected files.",files:"File | Files",confirmCloseDialog:"You have not saved the converted images yet.",confirmCloseDialogTitle:"Data have not been saved"},du={title:'AVIF\u304B\u3089JPEG\u3078 "\u30AA\u30D5\u30E9\u30A4\u30F3"\u4E00\u62EC\u753B\u50CF\u5909\u63DB',metaDescription:"AVIF\u30FBWebP\u5F62\u5F0F\u306E\u753B\u50CF\u3092JPEG\u3084PNG\u7B49\u3078\u30AA\u30D5\u30E9\u30A4\u30F3\u3067\u4E00\u62EC\u5909\u63DB\u3059\u308B\u7121\u6599\u30C4\u30FC\u30EB",droptarget:"\u5909\u63DB\u3057\u305F\u3044AVIF\u753B\u50CF\u3092\u30C9\u30E9\u30C3\u30B0&\u30C9\u30ED\u30C3\u30D7\u3057\u3066\u4E0B\u3055\u3044",descriptions:["\u3053\u308C\u306FAVIF\u3001\u53C8\u306FWebP\u5F62\u5F0F\u306E\u753B\u50CF\u3092\u3001JPEG\u3001PNG\u7B49\u306E\u4E00\u822C\u7684\u306A\u5F62\u5F0F\u3078\u4E00\u62EC\u5909\u63DB\u3059\u308B\u305F\u3081\u306E\u7121\u6599Web\u30A2\u30D7\u30EA\u3067\u3059\u3002","\u5909\u63DB\u51E6\u7406\u306F\u30D6\u30E9\u30A6\u30B6\u306E\u7D44\u307F\u8FBC\u307F\u6A5F\u80FD\u3092\u5229\u7528\u3059\u308B\u305F\u3081\u3001\u753B\u50CF\u30C7\u30FC\u30BF\u304C\u30B5\u30FC\u30D0\u30FC\u3078<strong>\u9001\u4FE1\u3055\u308C\u308B\u4E8B\u306F\u306A\u304F</strong>\u3001\u307E\u305F\u305D\u308C\u3086\u3048\u306B<strong>\u9AD8\u901F</strong>\u304B\u3064<strong>\u5B89\u5168</strong>\u3067\u3059\u3002","\u8907\u6570\u679A\u306E\u753B\u50CF\u304C\u8AAD\u307F\u8FBC\u307E\u308C\u305F\u5834\u5408\u3001\u5909\u63DB\u3057\u305F\u753B\u50CF\u306F<strong>ZIP\u30D5\u30A1\u30A4\u30EB</strong>\u306B\u7E8F\u3081\u3066\u51FA\u529B\u3055\u308C\u307E\u3059\u3002",'AVIF\u753B\u50CF\u306E\u30ED\u30FC\u30C9\u306B\u306F<a href="https://caniuse.com/?search=avif" target="_self" style="color:red">\u6700\u65B0</a>\u306EFirefox\u53C8\u306FChrome\u304C\u5FC5\u8981\u3067\u3059\u3002'],fileTypeRadioTitle:"\u5909\u63DB\u5BFE\u8C61\u30D5\u30A1\u30A4\u30EB\u306E\u62E1\u5F35\u5B50\u3092\u6307\u5B9A",fileTypeRadioOptions:{avif_only:'".avif" \u53C8\u306F ".webp" \u306E\u307F',all_images:"\u5168\u3066\u306E\u753B\u50CF\u5F62\u5F0F",all_files:"\u5168\u3066\u306E\u5F62\u5F0F",edit_type:"\u62E1\u5F35\u5B50\u3092\u5165\u529B\u3057\u3066\u6307\u5B9A"},editAcceptTypes:"\u30ED\u30FC\u30C9\u3059\u308B\u30D5\u30A1\u30A4\u30EB\u306E\u62E1\u5F35\u5B50\u306E\u30EA\u30B9\u30C8\u3092\u30AB\u30F3\u30DE\u533A\u5207\u308A\u3067\u6307\u5B9A\u3057\u3066\u4E0B\u3055\u3044\u3002<br>\u4F8B) .jpg,.gif,.png",quality:"\u753B\u8CEA\u8A2D\u5B9A",qualitytooltip:"\u51FA\u529B\u3059\u308B\u753B\u50CF\u306E\u30AF\u30AA\u30EA\u30C6\u30A3\u3092\u6307\u5B9A\u3057\u307E\u3059",imageType:"\u753B\u50CF\u5F62\u5F0F",imageTypeTooltip:"\u51FA\u529B\u3059\u308B\u753B\u50CF\u306E\u5F62\u5F0F\u3092\u6307\u5B9A\u3057\u307E\u3059",retainOriginalExtension:"\u5143\u306E\u62E1\u5F35\u5B50\u3092\u4FDD\u6301\u3059\u308B",retainExtTooltip:"\u5143\u306E\u62E1\u5F35\u5B50\u306E\u5F8C\u308D\u306B\u65B0\u3057\u3044\u62E1\u5F35\u5B50\u3092\u4ED8\u52A0\u3057\u307E\u3059",ignoreFileExtensions:"\u5168\u3066\u306E\u62E1\u5F35\u5B50\u3092\u8AAD\u307F\u8FBC\u3080",ignoreExtTooltip:"\u753B\u50CF\u62E1\u5F35\u5B50\u4EE5\u5916\u306E\u30D5\u30A1\u30A4\u30EB\u3082\u30ED\u30FC\u30C9\u3067\u304D\u308B\u304B\u8A66\u884C\u3057\u307E\u3059",loadbutton:"\u753B\u50CF\u3092\u30ED\u30FC\u30C9",loadbuttontooltip:"\u30C0\u30A4\u30A2\u30ED\u30B0\u3092\u958B\u3044\u3066\u753B\u50CF\u3092\u9078\u629E\u3057\u307E\u3059<br>\u203B\u8907\u6570\u30D5\u30A1\u30A4\u30EB\u9078\u629E\u53EF",loadfolderbutton:"\u30D5\u30A9\u30EB\u30C0\u3054\u3068\u30ED\u30FC\u30C9",loadfoldertooltip:`
    \u9078\u629E\u3057\u305F\u30D5\u30A9\u30EB\u30C0\u3068\u30B5\u30D6\u30D5\u30A9\u30EB\u30C0\u306E\u5168\u3066\u306E\u753B\u50CF\u306B\u5BFE\u3057\u3066\u5909\u63DB\u51E6\u7406\u3092\u884C\u3044\u3001ZIP\u66F8\u5EAB\u3078\u76F8\u5BFE\u30D1\u30B9\u3067\u683C\u7D0D\u3057\u307E\u3059\u3002<br>
    \u203B\u300C\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u300D\u3068\u3044\u3046\u30DC\u30BF\u30F3\u304C\u8868\u793A\u3055\u308C\u307E\u3059\u304C\u5B9F\u969B\u306B\u306F\u30B5\u30FC\u30D0\u30FC\u3078\u306E\u30D5\u30A1\u30A4\u30EB\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u306F\u884C\u308F\u308C\u307E\u305B\u3093\u3002
  `,processing:"\u753B\u50CF\u5909\u63DB\u4E2D",aborted:"\u4E2D\u65AD",incomplete:"\u5909\u63DB\u306B\u5931\u6557\u3057\u305F\u30D5\u30A1\u30A4\u30EB\u304C\u3042\u308A\u307E\u3059",completed:"\u5909\u63DB\u7D42\u4E86",interfered:"\u65E2\u306B\u51E6\u7406\u4E2D\u3067\u3059",noimage:"\u3053\u306E\u62E1\u5F35\u5B50\u306E\u30D5\u30A1\u30A4\u30EB\u306F\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F\u3002",avifUnsupported:"\u3053\u306E\u30D6\u30E9\u30A6\u30B6\u306FAVIF\u5F62\u5F0F\u306B\u5BFE\u5FDC\u3057\u3066\u3044\u307E\u305B\u3093\u3002AVIF\u753B\u50CF\u3092\u5909\u63DB\u3059\u308B\u5834\u5408\u306F\u6700\u65B0\u7248\u306EFirefox\u53C8\u306FGoogle Chrome\u3092\u4F7F\u7528\u3057\u3066\u4E0B\u3055\u3044\u3002",cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",inputSize:"\u5165\u529B\u30B5\u30A4\u30BA",outputSize:"\u51FA\u529B\u30B5\u30A4\u30BA",save:"\u4FDD\u5B58",close:"\u9589\u3058\u308B",open:"\u958B\u304F",reconvert:"\u518D\u5909\u63DB",reconvertTip:"\u524D\u56DE\u9078\u629E\u3057\u305F\u30D5\u30A1\u30A4\u30EB\u3092\u518D\u5909\u63DB\u3057\u307E\u3059\u3002",files:"\u30D5\u30A1\u30A4\u30EB",confirmCloseDialog:"\u307E\u3060\u5909\u63DB\u3057\u305F\u30D5\u30A1\u30A4\u30EB\u3092\u4FDD\u5B58\u3057\u3066\u3044\u307E\u305B\u3093\u3002",confirmCloseDialogTitle:"\u5909\u63DB\u30D5\u30A1\u30A4\u30EB\u304C\u672A\u4FDD\u5B58"};function pu(){return Bt({legacy:!1,globalInjection:!0,locale:"en",fallbackLocale:"en",messages:{en:cu,ja:du}})}const fu=[{path:"/",name:"Home",component:ye},{path:"/ja",name:"Japanese",component:ye,meta:{title:"jpn"}},{path:"/en",name:"English",component:ye,meta:{title:"eng"}}];bt(ye,{routes:fu,base:"/avif2jpeg/dist/"},({app:B,router:i,routes:n,isClient:C,initialState:r})=>{const E=pu();B.use(E)})});export default gu();
