var Da=Object.defineProperty;var Ra=(a,o,m)=>o in a?Da(a,o,{enumerable:!0,configurable:!0,writable:!0,value:m}):a[o]=m;var Ne=(a,o,m)=>Ra(a,typeof o!="symbol"?o+"":o,m);import{r as ft,d as ke,i as Ye,o as F,c as X,w as t,a as n,u as e,b as T,t as d,N as we,_ as Xt,e as Se,L as ja,f as _,g as ue,h,F as Le,j as Ge,B as ze,k as Tt,l as ne,m as Ba,n as Za,p as Ee,q as St,s as Jt,v as be,x as Ha,y as Ie,z as kt,A as xt,C as Lt,D as Ct,E as De,G as de,T as Ve,H as en,I as tn,J as qe,K as nn,M as Xe,O as Ke,P as gt,Q as an,R as Fe,S as on,U as at,V as pe,W as Wa,X as Va,Y as $t,Z as ht,$ as jt,a0 as st,a1 as qa,a2 as ln,a3 as Et,a4 as Ga,a5 as sn,a6 as Ka,a7 as rn,a8 as _t,a9 as Me,aa as ot,ab as Qa,ac as Ya,ad as Xa,ae as Ja,af as un,ag as dn,ah as Ft,ai as Mt,aj as eo,ak as cn,al as to,am as no,an as it,ao,ap as oo,aq as Ce,ar as io,as as lo,at as Pt,au as so,av as ro,aw as uo,ax as co,ay as pn,az as po,aA as fo,aB as fn,aC as gn,aD as et,aE as tt,aF as go,aG as mo,aH as vo,aI as ho,aJ as _o,aK as yo,aL as wo,aM as bo,aN as ko,aO as xo,aP as Ao,aQ as zo,aR as Io,aS as To,aT as So,aU as Lo,aV as Co,aW as $o,aX as Eo}from"./vendor-QAOLUXZk.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const r of u.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function m(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=m(l);fetch(l.href,u)}})();const Fo={imageFormat:"image/jpeg",imageQuality:90,expandExtButtons:!1,acceptTypeValue:void 0,editedAcceptTypes:"",expandAdvSettings:!1,retainExtension:!1,maxZipSizeMB:1e3,useFolderNameForZip:!1,multithread:!0,threadCount:void 0,shrinkImage:!1,maxWidth:4096,maxHeight:4096,disableNotifyingFolderSelect:!1},nt={threadCount:{min:2,max:16}},j=ft(mn({}));function Mo(){mn(j)}function mn(a){return Object.assign(a,Fo)}const vn="avif2jpeg",yt=JSON.parse(localStorage.getItem(vn)||"{}");for(const a in j)if(yt.hasOwnProperty(a)&&yt[a]!==void 0){let o=yt[a];nt.hasOwnProperty(a)&&(nt[a].min>o&&(o=nt[a].min),nt[a].max<o&&(o=nt[a].max)),j[a]=o}window.addEventListener("unload",()=>{const a={};for(const o in j)a[o]=j[o];localStorage.setItem(vn,JSON.stringify(a))});const Po=ke({__name:"github",setup(a){const o=Ye(Ze);return(m,i)=>{const l=we,u=Xt,r=Se;return F(),X(r,{to:!1,"display-directive":"show",show:e(o).showTooltipsBeforeMounted.value,trigger:"hover",duration:0,delay:0},{trigger:t(()=>[n(u,{href:"https://github.com/gitcobra/avif2jpeg",style:{color:"black","font-size":"small","font-weight":"bolder"}},{default:t(()=>[n(l,null,{default:t(()=>[n(e(ja))]),_:1}),T("GitHub")]),_:1})]),default:t(()=>[T(" "+d(m.$t("githubOpenSource")),1)]),_:1},8,["show"])}}}),Oo=h("h3",null,"Used Framework and Libraries",-1),Uo=["href"],No=ke({__name:"licenses",setup(a){const o=_(!1),m={Vue:"https://github.com/vuejs/core/blob/main/LICENSE",Vite:"https://github.com/vitejs/vite/blob/main/LICENSE","Vite SSG":"https://github.com/antfu/vite-ssg/blob/main/LICENSE","Naive UI":"https://github.com/TuSimple/naive-ui/blob/main/LICENSE",Ionicons:"https://github.com/ionic-team/ionicons/blob/main/LICENSE"};return(i,l)=>{const u=ze;return F(),ue(Le,null,[n(u,{text:"",onClick:l[0]||(l[0]=r=>o.value=!0),style:{color:"black","font-size":"small"}},{default:t(()=>[T("Licenses")]),_:1}),n(e(Tt),{preset:"dialog",ref:"dialog",show:o.value,"onUpdate:show":l[1]||(l[1]=r=>o.value=r),"positive-text":"OK",title:"Licenses"},{default:t(()=>[Oo,h("ul",null,[(F(),ue(Le,null,Ge(m,(r,f)=>h("li",null,[h("a",{href:r},d(f),9,Uo)])),64))])]),_:1},8,["show"])],64)}}}),Do=1,Ro=8,jo=1,Bo="",ut={major:Do,minor:Ro,build:jo,tag:Bo},Zo={style:{"font-size":"x-small","user-select":"none"}},Ho=ke({__name:"version",setup(a){const o=["0.0.118"],m=`${ut.major}.${ut.minor}.${ut.build}${ut.tag}`,i=o.map(f=>({label:`v${f}`,key:f,value:f}));function l(f){const{key:z,label:b}=f,S=r(z),c=ne("a",{href:S},b),C=ne("div",null,c);return ne("div",null,C)}function u(f){location.href=r(f)}function r(f){return`/avif2jpeg/old/${f}/`}return(f,z)=>{const b=Ba;return F(),X(b,{"show-arrow":!0,trigger:"click",size:"small",placement:"bottom-start",options:e(i),"render-label":l,"onUpdate:value":u},{header:t(()=>[h("span",Zo,d(f.$t("previousVersion")),1)]),default:t(()=>[h("span",{style:{cursor:"pointer"}},"v"+d(m))]),_:1},8,["options"])}}}),Wo=ke({__name:"header",setup(a){return(o,m)=>{const i=Ee,l=St;return F(),X(i,{vertical:"",justify:"start"},{default:t(()=>[n(i,{justify:"space-between",style:{"box-sizing":"border-box",padding:"4px",margin:"0px"}},{default:t(()=>[n(i,{align:"start"},{default:t(()=>[n(Po),n(Ho),n(i,{align:"center"},{default:t(()=>[n(No)]),_:1})]),_:1}),n(i,{align:"end",style:{"font-size":"x-small"}},{default:t(()=>[Za(o.$slots,"lang-switch")]),_:3})]),_:3}),n(l,{style:{margin:"0px"}})]),_:3})}}}),Vo={style:{padding:"0px",margin:"0px","text-align":"center"}},qo={key:0},Go=ke({__name:"title",setup(a){const o=Jt(),m=be(()=>{const i=o.currentRoute.value.path||"";return!String(i.match(new RegExp("(?<=^\\/)[^/]+"))||"")});return(i,l)=>{const u=Xt,r=Ha("router-link"),f=Ee;return F(),X(f,{align:"center",justify:"center",style:{margin:"0px"}},{default:t(()=>[h("h1",Vo,[e(m)?(F(),ue("span",qo,d(i.$t("title")),1)):(F(),X(r,{key:1,to:"../",custom:""},{default:t(({navigate:z,href:b})=>[n(u,{href:b,onClick:z,style:{color:"black","word-break":"keep-all","overflow-wrap":"break-word"}},{default:t(()=>[T(d(i.$t("title")),1)]),_:2},1032,["href","onClick"])]),_:1}))])]),_:1})}}});function Ko(a){return new Worker("/avif2jpeg/dist/assets/worker.canvas-Ck02r4xF.js",{name:a==null?void 0:a.name})}let hn=0;class Qo extends Ko{constructor(m){super();Ne(this,"id",hn++);Ne(this,"priority");this.priority=m||!1}release(){rt(this)}}class Yo extends Promise{constructor(){super(...arguments);Ne(this,"wid",-1)}}const At=new Set,Qe=new Set,Be=new Set,lt=new Map,_n=[];function Xo(a){const o=new Qo;return At.add(o),yn(o,a),rt(o),a&&_n.push(o.id),o}function yn(a,o){const m=o?Be:Qe,i=new Yo(l=>{lt.set(a,()=>l([a,i,!!o]))});i.wid=a.id,m.add(i)}async function Jo(a){let o;if(!a)o=new Set([...Be,...Qe]);else if(typeof a=="number"){const u=_n.slice(0,a);o=new Set([...Be].filter(r=>u.includes(r.wid)))}else o=a?Be:Qe;const[m,i,l]=await Promise.any(o);return(l?Be:Qe).delete(i),yn(m,l),m}function rt(a){const o=lt.get(a);o&&(lt.delete(a),o())}function wn(){for(const a of lt.keys())rt(a)}async function Bt(){return await Promise.all([...Qe,...Be])}function Zt(){wn();for(const a of At)a.terminate();At.clear(),Qe.clear(),Be.clear(),lt.clear(),hn=0}function ei(a){return new Worker("/avif2jpeg/dist/assets/worker.zip-D4CHLUmx.js",{name:a==null?void 0:a.name})}const ti=1e3*10,ni=1,Ot=2e3*2e3*4,ai=6,oi=5,ii=Ot,li=100,wt=Ot*6,dt=new Map,zt=new Map;let We=0;async function si(a,o,m,i,l,u,r,f,z,b,S,c){const C=new Set,k=new Map,g=new Map,v=new Map,L=Math.min(m.threads-1,r.length),$=Math.min(ai,L);Zt();const w=new ei,E=ri(w,a,o,f,k,v);w.postMessage({action:"set-config",zipSize:m.maxZipSizeMB*1024*1024,keepExt:m.retainExtension,outputExt:S,imageType:c});const U=ui(a,o,i,l,u,r,f,g,k,C,m,S,v);let P;for(let q=0;q<L;q++){const A=Xo($>q);P??(P=A),A.onmessage=U;const{port1:y,port2:N}=new MessageChannel;w.postMessage({action:"set-port"},[y]),A.postMessage({},[N])}if(!await new Promise(q=>{const A=I=>{w.removeEventListener("message",R),P.removeEventListener("message",R),clearTimeout(M),q(I)};let y=!1,N=!1;const R=I=>{I.target===w&&(y=!0),I.target===P&&(N=!0),y&&N&&A(!0)};let M=0;w.addEventListener("message",R),P.addEventListener("message",R),M=window.setTimeout(()=>A(!1),ti)}))return{exception:new Error("worker-load-error"),callbackToClearConverter:()=>{},callbackToGenerateFailedZips:()=>{}};const B=Ie(o,q=>{q&&(B(),wn())});a.demandImage=q=>{w.postMessage({action:"request-image",index:q})};const ee=r.length===1;let O=0,H=0,V="",K=0,me=0;for(We=0,dt.clear();K<r.length&&!o.value;){if(We>wt){await new Promise(G=>setTimeout(G,30));continue}We>wt&&await new Promise(G=>setTimeout(G,20));const q=[],A=[];let y=!1;const N=r.length-K,R=Math.min(K+Math.max(Math.min(oi,N/m.threads|0),1),r.length);let M=0,I=!1;const ae=Date.now();ae-H>li&&(H=ae,I=!0);const te=[],Y=[];let ie=!1;for(;K<R&&!(M>ii||We>wt);K++){const G=r[K],_e=G._id;y=K===r.length-1;const Pe=zt.get(G);ie=ie||!!Pe;const Oe=Pe?Math.max(0,100-(Date.now()-(me||Pe))):0;Oe&&await new Promise(s=>setTimeout(s,Oe)),ie&&(me=Date.now()),k.has(_e)||k.set(_e,G);const $e={data:{action:"file-start",path:G.webkitRelativePath||G.name,fileId:_e,index:K}};te.push($e);let Te;try{Te=await createImageBitmap(G);let{width:s,height:D}=Te;const le=j.shrinkImage?{width:j.maxWidth,height:j.maxHeight}:null;if(le){const Q=s/D;let{width:se,height:ge}=le,re=null;s>se&&(s=se,D=s/Q,re={resizeWidth:s}),D>ge&&(D=ge,s=D*Q,re={resizeHeight:D});let ye=!!re,ve=v.get(_e);ve||(ve={},v.set(_e,ve)),ve.shrinked??(ve.shrinked=ye),Te=await createImageBitmap(Te,{resizeQuality:"high",...re||{}})}}catch{const D={data:{action:"file-error",path:G.webkitRelativePath||G.name,fileId:_e,index:K}};Y.push(D);continue}A.push(Te);const Ae=Te.width*Te.height*4;M+=Ae+G.size,We+=Ae+G.size,q.push({index:K,bitmap:Te,file:G,fileId:_e,outputPath:V,type:z,quality:b/100,demandThumbnail:I||y,isSingleImage:ee,maxSize:j.shrinkImage?{width:j.maxWidth,height:j.maxHeight}:null,retriedTime:zt.get(G)||0,webkitRelativePath:G.webkitRelativePath}),G.webkitRelativePath||G.name,g.has(G)||(O++,a.index=O),I=!1}let J;if(q.length){const G=M>Ot;if(J=await Jo($>0&&(ie?1:G)),o.value){rt(J);break}dt.set(J,M)}for(const G of te.concat(Y))G.target=J||{id:-1},U(G);if(J&&J.postMessage(q,A),y&&(await Bt(),o.value))break}if(await Bt(),!o.value){let q;await new Promise(A=>{q=Ie([()=>a.done,o],()=>{(a.done>=O||o.value)&&A(void 0)},{immediate:!0})}),q()}B(),setTimeout(()=>Zt(),500),w.postMessage({action:"squeeze"}),await E;const W={value:!1},fe=()=>{W.value=!0,w.terminate()};let ce=!1;return{callbackToClearConverter:fe,callbackToGenerateFailedZips:async q=>{ce||(ce=!0,await di(q,w,W,a))}}}function ri(a,o,m,i,l,u){return new Promise(f=>{a.onmessage=z=>{var g;const b=z.data,{action:S}=b;if(S==="add-zip-completed"){const{fileId:v}=b;o.done++,o.success++,i.add(v);return}if(S==="respond-image"){const{url:v,index:L,path:$,size:w,fileId:E}=b;o.convertedImageUrl=v,o.convertedImageSize=w,o.convertedImageIndex=L,o.convertedImageName=$,o.convertedImageFileId=E;let U="",P=0,p="";if(E>=0){const x=l.get(E);U=URL.createObjectURL(x),P=x.size,p=x.name}o.convertedImageOrgUrl=U,o.convertedImageOrgSize=P,o.convertedImageOrgName=p,o.convertedImageShrinked=(g=u.get(E))==null?void 0:g.shrinked;return}const{size:c,count:C}=b,k="url"in z.data?z.data.url:"";switch(S){case"push-zip":o.zips.push({url:k,size:c,count:C}),o.zippedTotalCount+=C,o.zippedTotalSize+=c;break;case"squeeze-zip":C>0&&(o.zips.push({url:k,size:c,count:C}),o.zippedTotalCount+=C,o.zippedTotalSize+=c),f(void 0);break;case"push-filelist":o.failedFileZippedCount++;break;case"squeeze-filelist-zip":o.failedZipDone=!0;case"push-filelist-zip":o.failedZips.push({url:k,size:c,count:C});break;case"zip-error":case"zip-squeeze-error":o.zippingErrorCount+=C,S==="zip-squeeze-error"&&f(void 0);break}}})}function ui(a,o,m,i,l,u,r,f,z,b,S,c,C){let k=0;const g=_(new Map),v=_(new Map);return $=>{const w=$.target,{data:E}=$,{action:U}=E;if(o.value)switch(U){case"file-canceled":a.done++;return}switch(U){case"list-start":break;case"file-start":{const{index:P,path:p,fileId:x}=E,B={key:k++,core:w.id,index:P,path:p,command:"➡️started"};g.value.set(x,B),a.logs.push(B);break}case"file-load":{const{thumbnail:P,width:p,height:x,fileId:B,shrinked:oe}=E;g.value.get(B).command="🖼️loaded",P&&(a.thumbnail=P);let ee=C.get(B);ee||(ee={},C.set(B,ee)),ee.shrinked??(ee.shrinked=oe);break}case"file-converted":{const{index:P,path:p,fileId:x}=E,B=g.value.get(x);B.command="🔃converted",v.value.set(x,B),a.converted++;break}case"file-completed":{const{inputsize:P,outputsize:p,fileId:x}=E;a.inputTotalSize+=P,a.outputTotalSize+=p;const B=v.value.get(x);B&&(B.command="✅completed",B.completed=!0);break}case"file-error":{const{index:P,path:p,fileId:x}=E,B=z.get(x);if(!B)throw new Error(`the file doesn't exist in the Map. "${x}":"${p}"`);const oe=f.get(B)||0,ee=g.value.get(x);oe<ni?(f.set(B,oe+1),u.push(B),zt.set(B,Date.now()),ee.command="⚠️retrying",ee.error=!0,i.warning(`retrying "${p}"`,{duration:3e3})):(a.done++,a.failure++,ee.command="❗failed",ee.error=!0,l.error({content:`failed to load "${p}"`,duration:5e3}));break}case"file-canceled":{const{fileId:P,path:p}=E,x=v.value.get(P);a.done++,a.failure++,x.command="❗zip-aborted",x.error=!0;break}case"list-end":{rt(w),We-=dt.get(w)||0,dt.delete(w);break}}}}async function di(a,o,m,i){let l=0;for(const u of a){const r=(u.webkitRelativePath||u.name).replace(/^\//,"");if(m.value)return;l-i.failedFileZippedCount>20&&await new Promise(f=>setTimeout(f,10)),o.postMessage({action:"add-filelist",file:u,path:r}),l++}o.postMessage({action:"squeeze-filelist"})}function je(a,o=2){const m=Math.sign(a);a=Math.abs(a);const i=["Bytes","KB","MB","GB"],l=a?Math.floor(Math.log(a)/Math.log(1024)):0;return`${(a/Math.pow(1024,l)*m).toFixed(o)}${i[l]}`}function bn(a,o=100,m=!1){o=typeof o=="number"?{width:o,height:o}:o;const{width:i,height:l}=o;let{width:u,height:r}=a;const f=u/r,z=i/l;return f>=z?(u=m?Math.min(i,u):i,r=u/f|0):(r=m?Math.min(l,r):l,u=r*f|0),{width:u,height:r}}class ci{constructor(){Ne(this,"_currentFileCount",0);Ne(this,"_totalFileCount",0);Ne(this,"_zipLengthSumList",[]);Ne(this,"_pathBank",{})}increase(o){o&&(this._pathBank[o]=[this._zipLengthSumList.length,this._currentFileCount]),this._currentFileCount++,this._totalFileCount++}split(){this._zipLengthSumList.push(this._totalFileCount),this._currentFileCount=0}get(o){if(typeof o=="number"){let m=this._zipLengthSumList.findIndex((u,r)=>o<u);m===-1&&(m=this._zipLengthSumList.length);const i=this._zipLengthSumList[m-1]||0,l=o-i;return[m,l]}else{const m=this._pathBank[String(o)];if(m)return m}return null}}async function pi(a,o,m,i,l,u){let r="";const f=document.createElement("canvas"),z=f.getContext("2d");let b=new kt;const S=[b],c=new ci,C=i.format,k=i.quality/100,g=[...C.matchAll(/.+\/(.+)/g)][0][1].replace(/jpeg/,"jpg"),v=a.length,L=i.maxZipSizeMB*1024*1024;let $=0,w=null,E="",U="",P=0,p=0,x=0,B=0,oe=0,ee=!1;const O=[];u.demandImage=W=>{const[fe,ce]=c.get(W),xe=S[fe];u.convertedImageIndex=W,u.convertedImageName=xe.getPathByIndex(ce),u.convertedImageUrl=URL.createObjectURL(new Blob([xe.get(ce)],{type:C}));let q="",A=0,y="";const N=O[W];q=URL.createObjectURL(N),A=N.size,y=N.name,u.convertedImageOrgUrl=q,u.convertedImageOrgSize=A,u.convertedImageOrgName=y};for(const W of a){if(l.value)break;const fe=W.name;let ce="";const xe=W.size,q=(W.webkitRelativePath||W.relativePath||fe).replace(/^\//,""),A=document.createElement("img");$++;const y={key:x++,core:-1,index:$,path:q,command:"➡️start"};u.index=$,u.logs.push(y),u.logs.length-1;let N;r&&(URL.revokeObjectURL(r),r=""),r=URL.createObjectURL(W),U=r,P=W.size,A.src=r;const R=await kn(A).then(()=>!0).catch(()=>!1);if(!A.complete||!R||l.value){u.done++,u.failure++,y.command="❗failed";continue}const M=A.width,I=A.height;if(f.width=M,f.height=I,z.drawImage(A,0,0,M,I,0,0,M,I),y.command="🖼️imgload",u.thumbnail=A,N=await new Promise(Y=>{const ie=J=>{w=J,Y(J==null?void 0:J.arrayBuffer())};f.toBlob(ie,C,k)}),l.value)break;if(!N){u.failure++;continue}p=N.byteLength,u.converted++;let ae="";if(oe+p>=L){try{ae=b.url()}catch{ee=!0,alert("memory problem occurred");break}u.zips.push({url:ae,size:oe,count:B}),u.zippedTotalCount+=B,u.zippedTotalSize+=oe,oe=0,B=0,c.split(),b=new kt,S.push(b)}oe+=p;const te=q||fe;for(let Y=1;Y<255&&(ce=te.replace(i.retainExtension?"":/\.(jpe?g|gif|png|avif|webp|bmp)$/i,"")+(Y>1?`(${Y})`:"")+"."+g,!!b.has(ce));Y++);u.done++;try{B++,b.add(ce,N),c.increase(),O.push(W),u.inputTotalSize+=xe,u.outputTotalSize+=p}catch{continue}E=ce,u.success++,y.command="✅completed",y.completed=!0,o.add(W._id)}if(u.success>0)if(v===1)w&&(u.convertedImageIndex=0,u.convertedImageName=E.replace(/^.*\/(?=[^/]+$)/,"").replace(i.retainExtension?"":/\.(jpe?g|gif|png|avif|webp|bmp)$/i,"")+"."+g,u.convertedImageUrl=URL.createObjectURL(w),u.convertedImageOrgUrl=U,u.convertedImageOrgSize=P);else try{if(ee)throw new Error("terminated zipping process for memory problems");const W=b.url();u.zips.push({url:W,count:B,size:oe}),u.zippedTotalCount+=B,u.zippedTotalSize+=oe}catch{}const H={value:!1},V=()=>{H.value=!0,S.forEach(W=>W.clear()),S.length=0,O.length=0};let K=!1;return{callbackToClearConverter:V,callbackToGenerateFailedZips:async W=>{K||(K=!0,fi(W,L,u,H))}}}async function fi(a,o,m,i){let l=0,u=0,r=new kt;for(let f=0;f<a.length;f++){const z=a[f],b=(z.webkitRelativePath||z.name).replace(/^\//,"");if(i.value)return;if(await r.add(b,z),u+=z.size,l++,m.failedFileZippedCount++,u>=o||f===a.length-1){await r.zip();const S=r.url();m.failedZips.push({url:S,size:u,count:l}),r.clear(),u=0,l=0}}m.failedZipDone=!0}function kn(a){if(typeof a.onload>"u")throw new Error(`it doesn't have "onload" property.`);return new Promise((o,m)=>{a.onload=o,a.onerror=m})}const Re=(a,o)=>{const m=a.__vccOpts||a;for(const[i,l]of o)m[i]=l;return m},gi=a=>(Lt("data-v-5dab19ad"),a=a(),Ct(),a),mi={class:"container"},vi=gi(()=>h("span",{class:"text"},"ZIP",-1)),hi={__name:"zipicon",setup(a){return(o,m)=>(F(),ue("span",mi,[n(e(we),null,{default:t(()=>[n(e(xt))]),_:1}),vi]))}},_i=Re(hi,[["__scopeId","data-v-5dab19ad"]]),yi=["href","download","title"],wi=ke({__name:"thumbnail",props:{src:{},width:{},height:{},maxWidth:{default:100},maxHeight:{default:100},expand:{type:Boolean,default:!1},loading:{type:Boolean},fileName:{},allowNext:{type:Boolean},allowPrev:{type:Boolean}},emits:["load","error","next","prev"],setup(a,{expose:o,emit:m}){De();const i=a,l=m;o({download:v,openPreview:L});const u=_(),r=_(!0),f=_(""),z=_(100),b=_(100),S=_(!1),c=ft({width:"100px",height:"100px",minWidth:"50px",minHeight:"50px"});Ie(i,($,w)=>{c.width=(i.width||100)+"px",c.height=(i.height||100)+"px"}),Ie(()=>i.src,()=>{g(i.src)},{immediate:!0});async function C($){const w=$.target,E=w.naturalWidth,U=w.naturalHeight,{width:P,height:p}=bn({width:E,height:U},{width:i.maxWidth||100,height:i.maxHeight||100},i.expand);z.value=P,b.value=p,l("load",{src:w.src,width:E,height:U}),r.value=!1,await new Promise(x=>setTimeout(x,100)),!r.value&&(S.value=!0)}function k($){const w=$.target;l("error",w.src)}async function g($){r.value=!0,S.value=!1,await new Promise(w=>setTimeout(w,150)),f.value=$}function v(){const $=document.createElement("a");$.href=f.value,$.download=i.fileName,$.click()}function L(){var $,w,E,U;try{(w=($=u.value)==null?void 0:$.previewInstRef)==null||w.setPreviewSrc(i.src),(U=(E=u.value)==null?void 0:E.previewInstRef)==null||U.toggleShow(!0)}catch{}}return($,w)=>{const E=nn,U=Xe,P=Ke;return F(),X(e(Se),null,{trigger:t(()=>[n(P,{show:e(r)||i.loading},{default:t(()=>[n(U,{justify:"center",align:"center",style:de(e(c))},{default:t(()=>[h("a",{href:e(f),onClick:w[0]||(w[0]=qe(()=>{},["left","prevent"])),target:"_blank",download:i.fileName,title:i.fileName,style:{"line-height":"0px"}},[n(Ve,{mode:"in-out"},{default:t(()=>[en(n(E,{ref_key:"nImageRef",ref:u,"show-toolbar-tooltip":"","_:render-toolbar":"renderToolbar",onLoad:C,onError:k,src:e(f),width:e(z),height:e(b),style:{border:"1px solid silver"}},null,8,["src","width","height"]),[[tn,e(S)]])]),_:1})],8,yi)]),_:1},8,["style"])]),_:1},8,["show"])]),default:t(()=>[T(" "+d(i.fileName),1)]),_:1})}}}),Ht=Re(wi,[["__scopeId","data-v-fc8adbf9"]]),bi={style:{"font-weight":"bold",color:"gray"}},ki={style:{"font-weight":"bold",color:"gray"}},xi=["href","download"],Ai=["href"],zi={style:{"font-size":"0.8em"}},Ii=ke({__name:"image-viewer",props:{url:{},originalUrl:{},name:{},originalName:{},size:{},originalSize:{},length:{},index:{},isSingle:{type:Boolean},variousInfo:{}},emits:["demand-image"],setup(a,{expose:o,emit:m}){const i=a,l=m;o({download:K});const u=_(),r=_(),f=_(),z=gt(),{t:b}=De();an();const S=_(!0),c=_(1),C=_(1),k=_(1);_(0);const g=_(""),v=_(1),L=_(1),$=_(!1),w=_(!1),E=_(!1),U=be(()=>{var A,y;return((y=(A=f==null?void 0:f.value)==null?void 0:A.previewInstRef)==null?void 0:y.previewSrc)===g.value}),P=be(()=>c.value<i.length),p=be(()=>c.value>1);let x=-1;Ie(c,()=>{c.value<1||c.value>i.length||(clearTimeout(x),x=setTimeout(()=>{i.index!==c.value-1&&(l("demand-image",c.value-1),$.value=!0,w.value=!1,E.value=!1)},100))}),Ie(()=>i.index,()=>{var y,N;let A="";if(i.index===0&&S.value?(S.value=!1,c.value=1,A=i.url):i.index===c.value-1&&($.value=!1,A=i.url),A){try{(N=(y=f.value)==null?void 0:y.previewInstRef)!=null&&N.displayed&&(U.value?f.value.previewInstRef.setPreviewSrc(A):f.value.previewInstRef.setPreviewSrc(i.originalUrl))}catch{}g.value=A}},{immediate:!0});let B="",oe="";Ie(()=>i.url,()=>{if(i.url!==B){const A=B,y=oe;setTimeout(()=>{URL.revokeObjectURL(A),URL.revokeObjectURL(y)},1e3),B=i.url,oe=i.originalUrl}i.isSingle&&(S.value=!1,g.value=i.url)}),Fe(()=>{i.isSingle,l("demand-image",0),document.body.addEventListener("keydown",O),document.body.addEventListener("keydown",ee)}),on(()=>{document.body.removeEventListener("keydown",O),document.body.removeEventListener("keydown",ee)});function ee(A){var y,N,R,M;if(A.key==="Escape")try{(N=(y=f.value)==null?void 0:y.previewInstRef)!=null&&N.displayed&&(A.stopPropagation(),(M=(R=f.value)==null?void 0:R.previewInstRef)==null||M.toggleShow(!1))}catch{}}function O(A){var y,N;switch(A.key){case"ArrowRight":case"PageDown":W(1);break;case"ArrowLeft":case"PageUp":W(-1);break;case"ArrowUp":case"Home":c.value=1;break;case"ArrowDown":case"End":c.value=i.length;break;case" ":case"Enter":ce();break;default:return}A.stopPropagation(),(N=(y=f.value)==null?void 0:y.previewInstRef)!=null&&N.displayed&&A.preventDefault()}function H({width:A,height:y}){C.value=A,k.value=y,w.value=!0}function V({width:A,height:y}){v.value=A,L.value=y,E.value=!0}function K(){U.value?u.value.download():r.value.download()}async function me(A){try{const y=await fetch(A).then(N=>N.blob()).then(N=>new Promise(R=>{const M=new FileReader;M.onload=R,M.readAsDataURL(N)})).then(N=>N.target.result);navigator.clipboard.writeText(y),z.info({title:b("copiedDataURLDialogTitle"),content:()=>ne("div",[ne("div",b("copiedDataURLMessage"))]),positiveText:"OK"})}catch{z.error({title:"failed to copy Data URL",content:"could not copy Data URL",positiveText:"OK"})}}function W(A){A>0&&c.value<i.length&&c.value++,A<0&&c.value>1&&c.value--}let fe="";const ce=()=>{var y,N,R,M,I,ae;fe=(R=window.getComputedStyle((N=(y=f==null?void 0:f.value)==null?void 0:y.previewInstRef)==null?void 0:N.previewRef))==null?void 0:R.transform;const A=U.value;(ae=(I=(M=f==null?void 0:f.value)==null?void 0:M.previewInstRef)==null?void 0:I.handleSwitchNext)==null||ae.call(I),at(()=>{var te,Y,ie;U.value===A&&((ie=(Y=(te=f==null?void 0:f.value)==null?void 0:te.previewInstRef)==null?void 0:Y.handleSwitchNext)==null||ie.call(Y))})};function xe(){try{at(()=>f.value.previewInstRef.previewRef.style.transform=fe)}catch{}}function q({nodes:A}){const y=ne($t,{color:U.value?"green":"gray",offset:[-20,-12],value:(U.value?b("status.Converted"):b("status.Original"))+" "+c.value},()=>ne(ze,{round:!0,onClick(){ce()},textColor:"white",size:"small",style:{marginLeft:"4px"}},{icon:()=>ne(U.value?Wa:Va)}));A.next=ne(ze,{onClick(){W(1)},disabled:!P.value,circle:!0,textColor:"white",size:"tiny",style:{marginLeft:"4px"}},{icon:()=>ne(ht)}),A.prev=ne(ze,{onClick(){W(-1)},disabled:!p.value,circle:!0,textColor:"white",size:"tiny",style:{marginLeft:"4px"}},{icon:()=>ne(jt)});try{const N=A.download.children;N.default=()=>b("save");const R=N.trigger();R.props.onClick=K,N.trigger=()=>R}catch{}return[y,...Object.values(A)]}return(A,y)=>{const N=Ee,R=Xe,M=we,I=st,ae=qa,te=ln,Y=Et,ie=Ke;return F(),X(ie,{size:"large",show:S.value},{default:t(()=>[n(R,{justify:"center",align:"center",vertical:"",style:de({visibility:S.value?"hidden":"visible"})},{default:t(()=>[n(R,{align:"center",wrap:!1},{default:t(()=>[n(ae,{ref_key:"nImageGroupRef",ref:f,"show-toolbar-tooltip":"","render-toolbar":q,onPreviewNext:xe},{default:t(()=>[n(R,{align:"center",justify:"center",wrap:!1},{default:t(()=>[n(R,{align:"center",justify:"center",vertical:""},{default:t(()=>[n(R,{align:"center",justify:"center",wrap:!1,style:{"font-size":"smaller"},class:"original-thumb"},{default:t(()=>[n(Ht,{ref_key:"thumbOrgRef",ref:r,src:A.originalUrl,width:100,"max-width":100,"max-height":80,loading:$.value,"file-name":A.originalName,"allow-next":c.value<i.length,"allow-prev":c.value>1,onLoad:V,onNext:y[0]||(y[0]=J=>W(1)),onPrev:y[1]||(y[1]=J=>W(-1))},null,8,["src","loading","file-name","allow-next","allow-prev"]),n(N,{vertical:"",align:"center"},{default:t(()=>[h("span",bi,d(e(b)("status.Original")),1),n(N,{justify:"center",style:{"white-space":"nowrap","font-family":"v-mono"}},{default:t(()=>[T(d(String(v.value).padStart(4," "))+" × "+d(String(L.value).padStart(4," ")),1)]),_:1}),n(N,{justify:"center"},{default:t(()=>[T(d(e(je)(i.originalSize,0)),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(R,{style:{margin:"1em"},class:"original-thumb"},{default:t(()=>[n(M,{size:"48",color:"silver"},{default:t(()=>[n(e(ht))]),_:1})]),_:1}),n(R,{vertical:"",align:"center",justify:"center"},{default:t(()=>[n(R,{align:"center",justify:"center",wrap:!1},{default:t(()=>[n(Ht,{ref_key:"thumbConvRef",ref:u,src:g.value,width:140,"max-width":140,"max-height":100,loading:$.value,"file-name":i.name,"allow-next":c.value<i.length,"allow-prev":c.value>1,onLoad:H,onNext:y[2]||(y[2]=J=>W(1)),onPrev:y[3]||(y[3]=J=>W(-1))},null,8,["src","loading","file-name","allow-next","allow-prev"]),n(R,{vertical:"",align:"center"},{default:t(()=>[n(R,{justify:"center",align:"center",size:0},{default:t(()=>[h("span",ki,d(e(b)("status.Converted")),1)]),_:1}),n(R,{justify:"center",wrap:!0},{default:t(()=>[i.url?(F(),X(I,{key:0,"display-directive":"show",trigger:"hover",duration:0,delay:0},{trigger:t(()=>[h("a",{href:i.url,ref:"saveImg",target:"_blank",download:i.name},[n(e(ze),{round:"",size:"tiny"},{default:t(()=>[T(d(A.$t("save")),1)]),_:1})],8,xi)]),default:t(()=>[T(" "+d(A.$t("save")),1)]),_:1})):pe("",!0),i.url?(F(),X(I,{key:1,"display-directive":"show",trigger:"hover",duration:0,delay:0},{trigger:t(()=>[h("a",{href:i.url,target:"_self"},[n(e(ze),{onClick:y[4]||(y[4]=qe(J=>me(i.url),["left","prevent","stop"])),round:"",size:"tiny"},{default:t(()=>[T("DataURL")]),_:1})],8,Ai)]),default:t(()=>[T(" "+d(A.$t("convertedImageDataUrlTooltip")),1)]),_:1})):pe("",!0)]),_:1}),n(R,{vertical:"",align:"center",justify:"center",size:0},{default:t(()=>[n(R,{justify:"center",style:{"white-space":"nowrap","font-family":"v-mono"}},{default:t(()=>{var J;return[h("span",{style:de((J=i.variousInfo)!=null&&J.shrinked?{color:"blue"}:{})},d(String(C.value).padStart(4," "))+" × "+d(String(k.value).padStart(4," ")),5)]}),_:1}),n(R,{style:{color:"gray","font-size":"xx-small"}},{default:t(()=>{var J;return[T(d((J=i.variousInfo)!=null&&J.shrinked?"("+A.$t("status.Shrinked")+")":"-"),1)]}),_:1})]),_:1}),n(R,{justify:"center"},{default:t(()=>[T(d(e(je)(i.size,0)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1}),n(R,{ref:"fileNameContainer",justify:"center",style:{"max-width":"320px"},title:i.name},{default:t(()=>[n(te,{"x-scrollable":!0,trigger:"hover",style:{"font-size":"smaller",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},{default:t(()=>[T(d(i.name),1)]),_:1})]),_:1},8,["title"]),A.isSingle?pe("",!0):(F(),X(R,{key:0,style:{"font-family":"v-mono"},align:"center"},{default:t(()=>[h("span",zi,d(e(b)("status.index"))+":",1),T(" "+d(c.value)+" / "+d(i.length),1)]),_:1})),A.isSingle?pe("",!0):(F(),X(R,{key:1,align:"center",justify:"center"},{default:t(()=>[n(e(ze),{onClick:y[5]||(y[5]=J=>W(-1)),disabled:!e(p),circle:!0,size:"large"},{icon:t(()=>[n(M,null,{default:t(()=>[n(e(jt))]),_:1})]),_:1},8,["disabled"]),n(Y,{value:c.value,"onUpdate:value":y[6]||(y[6]=J=>c.value=J),tooltip:!1,step:1,min:1,max:i.length,style:{width:"180px"}},null,8,["value","max"]),n(e(ze),{onClick:y[7]||(y[7]=J=>W(1)),disabled:!e(P),circle:!0,size:"large"},{icon:t(()=>[n(M,null,{default:t(()=>[n(e(ht))]),_:1})]),_:1},8,["disabled"])]),_:1}))]),_:1},8,["style"])]),_:1},8,["show"])}}}),Ti=Re(Ii,[["__scopeId","data-v-e421c076"]]),Si={key:0},Li={style:{"font-size":"smaller"}},Ci={class:"log-table"},$i={class:"log-tr"},Ei={class:"log-th"},Fi={class:"log-th"},Mi={style:{"min-width":"7em"},class:"log-th"},Pi={style:{"padding-left":"2em"},class:"log-th"},Oi={class:"log-td"},Ui={class:"log-td"},Ni={class:"log-td"},Di={class:"log-td"},Ri={style:{margin:"1px"}},ji=["href","download","onClick"],Bi={key:0,style:{position:"relative"}},Zi=["href","download"],Hi=["href","download"],Wi={key:0,style:{margin:"1px"}},Vi=["href","download","onClick"],Wt=99999,qi=100,Gi=ke({__name:"status",props:{processing:{type:Boolean},status:{},interval:{}},emits:["all-zips-clicked","demand-zip-errors","demand-image"],setup(a,{emit:o}){const m=gt(),{t:i}=De(),l=an(),u={W:160,H:80},r=a,f=o,z=_(!1),b=_([]),S=_(!1),c=_([]),C=_([]),k=_([0,0]),g=_([0,0]),v=_([0,0]),L=_([0,0]),$=_([0,0]),w=_([0,0]),E=_(0),U=_([0,0]),P=_(l.value.infoColor),p=_("#000000"),x=_("#000000"),B=_(0),oe=_(0),ee=_(""),O=_("00:00:00");_(""),_("");const H=_(void 0),V=_(!1),K=_(!0),me=_(!1),W=be(()=>V.value?xe.value:ce.value),fe=_("16em"),ce=_(5),xe=_(1e3),q=_(!0),A=_(!1),y=ft({name:"",originalName:"",size:0,url:"",originalUrl:"",originalSize:0,dataUrl:"",index:-1,various:{shrinked:!1}}),N=_(null),R=_(null),M=_(),I=_();Fe(()=>{Ie(r.status,()=>ie(),{deep:!1}),Ie([R,q],()=>{if(!R.value||!q.value)return;const{width:ye,height:ve}=bn(R.value,{width:u.W,height:u.H});N.value.width=ye,N.value.height=ve,N.value.style.width=ye+"px",N.value.style.height=ve+"px",R.value instanceof HTMLImageElement?N.value.getContext("2d").drawImage(R.value,0,0,ye,ve):(N.value.getContext("bitmaprenderer").transferFromImageBitmap(R.value),R.value=null,r.status.thumbnail=null)});let s=0;const D=()=>{if(s)return;const ye=Date.now();O.value="00:00:00",s=window.setInterval(()=>{const ve=(Date.now()-ye)/1e3;O.value=`${String(ve/3600|0).padStart(2,"0")}:${String(ve/60%60|0).padStart(2,"0")}:${String(ve%60|0).padStart(2,"0")}`},300)};D(),Ie(()=>r.processing,(ye,ve)=>{ye?(D(),b.value=[],z.value=!1,S.value=!1,c.value=[],C.value=[]):(clearInterval(s),ie(),s=0),q.value=!1,A.value=!0,r.processing||J()});const le=Qa();let Q;const se=()=>{clearTimeout(Q),Q=setTimeout(()=>{if(!q.value||re)return;const ye=M.value.$parent.$el.offsetHeight,ve=window.innerHeight-le.parent.parent.vnode.el.offsetHeight-8;fe.value=Math.max(ye+ve,50)+"px"},100)};se(),window.addEventListener("resize",se);const ge=new ResizeObserver(se);ge.observe(le.parent.parent.vnode.el);let re=!1;Ga(()=>{re=!0,ge.disconnect(),clearInterval(s),clearTimeout(Q),clearTimeout(Y),clearTimeout($e),window.removeEventListener("resize",se)})}),Ie([()=>r.status.zips.length,()=>r.status.failedZips.length],()=>{const s=r.status;{c.value.length>s.zips.length&&(c.value.length=0);let D=0;const le=s.zips.length===1&&s.zippedTotalCount===s.length;for(let Q=c.value.length;Q<s.zips.length;Q++){const se=s.zips[Q],ge=s.baseZipName+(le?"":"-"+String(Q+1).padStart(2,"0"))+".zip";D+=se.size,c.value[Q]={url:se.url,size:se.size,number:le?0:Q+1,sizeByUnit:je(se.size),name:ge,count:se.count,clicked:!1}}}{C.value.length>s.failedZips.length&&(C.value.length=0);let D=0;const le=s.failedZipDone&&s.failedZips.length===1;for(let Q=C.value.length;Q<s.failedZips.length;Q++){const se=s.failedZips[Q],ge=s.baseZipName+"-error"+(le?"":"-"+String(Q+1).padStart(2,"0"))+".zip";D+=se.size,C.value[Q]={url:se.url,size:se.size,number:le?0:Q+1,sizeByUnit:je(se.size),name:ge,count:se.count,clicked:!1}}}});const ae=r.interval||100;let te=!1,Y=0;function ie(){if(te)return;if(Y){te=!0;return}Y=window.setTimeout(()=>{Y=0,te&&(te=!1,ie())},ae);const s=r.status;z.value=s.length>=2,g.value[1]=g.value[0],g.value[0]=s.index,v.value[1]=v.value[0],v.value[0]=s.success,L.value[1]=L.value[0],L.value[0]=s.failure,$.value[1]=$.value[0],$.value[0]=s.done,w.value[1]=w.value[0],w.value[0]=s.converted,E.value=s.length,U.value[1]=U.value[0],U.value[0]=s.zippedTotalCount,B.value=s.inputTotalSize,oe.value=s.outputTotalSize;const D=oe.value-B.value;ee.value=(D>=0?"+ ":"")+je(D);const le=oe.value/B.value,Q=(256|Math.min(255,Math.max(0,le-1.5)*255|0)).toString(16).substring(1);p.value="#"+Q+"0000";const se=1024*1024,ge=(256|Math.min(255,Math.max(0,D/1024/se)*255|0)).toString(16).substring(1);if(x.value="#"+ge+"0000",k.value[1]=k.value[0],k.value[0]=v.value[0]/E.value*100,q.value||!r.processing){const re=s.logs.slice(-Wt);b.value.push(...re);const ye=b.value.length-Wt;ye>0&&b.value.splice(0,ye),K.value&&re.length&&Ae(),b.value.length>xe.value&&(xe.value*=2)}s.logs.length=0,R.value=s.thumbnail,r.processing&&(P.value=L.value[0]?l.value.warningColor:l.value.infoColor),s.convertedImageUrl!==y.url&&(y.url=s.convertedImageUrl,y.name=s.convertedImageName,y.dataUrl=s.convertedImageDataUrl,y.size=s.convertedImageSize||s.outputTotalSize,y.originalSize=s.convertedImageOrgSize,y.originalName=s.convertedImageOrgName,y.index=s.convertedImageIndex,y.originalUrl=s.convertedImageOrgUrl,y.various={shrinked:s.convertedImageShrinked})}function J(){const s=r.status;P.value=r.status.success===r.status.length?l.value.successColor:l.value.errorColor,s.unconvertedFileCount>0,L.value[0]>0||(v.value[0],E.value),V.value||(V.value=!0)}const G=be(()=>[{key:"open",label:i("status.openFailedList"),icon:()=>ne(we,()=>ne(sn)),onSelect(){Oe()}},{key:"download",label:i("status.saveFailedList"),icon:()=>ne(we,()=>ne(Ka)),onSelect(){Oe(!0)}},{key:"zip",label:`${i("status.zipFailedList")}`+(r.status.failedZipDone?`(✔${i("status.done")})`:""),icon:()=>ne(Ke,{show:S.value&&!r.status.failedZipDone,size:"small"},()=>ne(we,()=>ne(xt))),disabled:S.value,onSelect(s){return S.value=!0,f("demand-zip-errors"),!1}}]);function _e(s,D=!1){const{url:le,name:Q}=s;if(D){const se=document.createElement("a");se.href=le,se.download=Q,se.click()}s.clicked||(s.clicked=!0,r.processing||c.value.every(se=>se.clicked)&&f("all-zips-clicked"))}async function Pe(){if(z.value){if(c.value.length>=2&&!await new Promise((le,Q)=>m.warning({title:i("Download"),content:i("status.confirmDownloadMessage",[c.value.length]),positiveText:"OK",negativeText:i("cancel"),onPositiveClick:()=>le(!0),onNegativeClick:()=>Q()})))return;const s=c.value;for(const D of s)_e(D,!0)}else I.value.download()}function Oe(s=!1){const D=new Blob([r.status.unconvertedListText],{type:"text/plain;charset=utf8"}),le=URL.createObjectURL(D),Q=document.createElement("a");Q.href=le,Q.target="_blank",s&&(Q.download=r.status.baseZipName+"-error.txt"),Q.click()}let $e=0,Te=!1;function Ae(s=!1){if(!Te){if($e){Te=!0;return}at(()=>{!s&&(!V.value||!K.value)||(M.value.scrollTo({behavior:s?"instant":"smooth",top:b.value.length*50}),$e=window.setTimeout(()=>{$e=0,Te&&(Te=!1,Ae())},qi))})}}return(s,D)=>{const le=Ee,Q=Ya,se=Xa,ge=st,re=Xe,ye=Ja,ve=un,mt=Se,Fa=dn,Ma=Ft,Pa=Mt,Oa=St,Je=ze,Ua=_i,Dt=$t,Na=eo;return F(),X(re,{vertical:"",justify:"center"},{default:t(()=>[n(le,{justify:"center",align:"center",wrap:!1,style:{"white-space":"nowrap"}},{default:t(()=>[n(le,{vertical:"",justify:"center",class:"left-column"},{default:t(()=>[n(Q,{"tabular-nums":"",label:s.$t("status.elapsedTime")},{default:t(()=>[n(le,null,{default:t(()=>[T(d(e(O)),1)]),_:1})]),_:1},8,["label"]),n(Q,{"tabular-nums":"",label:s.$t("status.multiThreading")},{default:t(()=>[n(le,{style:de({color:r.status.threads?"":"red"})},{default:t(()=>[T(d(r.status.threads?s.$rt("{n} @:threads",r.status.threads):s.$t("disabled")),1)]),_:1},8,["style"])]),_:1},8,["label"]),n(Q,{"tabular-nums":"",label:s.$t("status.outputSettings")},{default:t(()=>[n(le,{vertical:"",justify:"end",style:{"font-size":"smaller","line-height":"1em"}},{default:t(()=>[h("div",null,d(s.$t("settings.imageType"))+": "+d(r.status.type),1),s.status.shrink?(F(),ue("div",Si,[T(d(s.$t("status.Shrinking"))+": ",1),h("span",Li,d(s.status.shrink[0])+"×"+d(s.status.shrink[1]),1)])):pe("",!0),h("div",null,"Zip: "+d(r.status.zipSize)+"MB",1)]),_:1})]),_:1},8,["label"])]),_:1}),n(ye,{type:"multiple-circle","stroke-width":1,percentage:[e(v)[0]/e(E)*100|0,e(g)[0]/e(E)*100|0],color:[e(l).successColor,e(P)],"rail-style":[{stroke:s.processing?e(l).successColor:e(P),opacity:.3},{stroke:e(P),opacity:.3}],class:"center-column"},{default:t(()=>[n(le,{vertical:"",align:"center",style:{"font-family":"v-mono","font-size":"xx-large","white-space":"nowrap"},wrap:!1,"wrap-item":!1},{default:t(()=>[h("span",{style:de({color:e(L)[0]?e(P):s.processing?e(l).successColor:e(P)})},[n(se,{duration:e(ae)*3|0,from:e(k)[1]|0,to:e(k)[0]|0,active:!0},null,8,["duration","from","to"]),T("% ")],4),n(re,{wrap:!1,style:{border:"0px solid"}},{default:t(()=>[n(re,{vertical:"",size:"small",justify:"end"},{default:t(()=>[n(re,{justify:"end",wrap:!1},{default:t(()=>[e(L)[0]>0?(F(),X(ge,{key:0,trigger:"hover",duration:0,delay:0,style:de({color:e(l).errorColor}),placement:"left"},{trigger:t(()=>[h("span",{style:de({fontSize:"xx-small",color:e(l).errorColor,lineHeight:"0"})}," ("+d(e(L)[0].toLocaleString("en-us"))+") ",5)]),default:t(()=>[T(" "+d(s.$t("status.progressErrors"))+" ("+d(e(L)[0].toLocaleString("en-us"))+") ",1)]),_:1},8,["style"])):pe("",!0),n(ge,{trigger:"hover",duration:0,delay:0,style:de({color:e(l).infoColor}),placement:"left"},{trigger:t(()=>[h("span",{style:de({fontSize:"xx-small",color:e(l).infoColor,lineHeight:"0"})},d(e(g)[0].toLocaleString("en-us")),5)]),default:t(()=>[T(" "+d(s.$t("status.progressStarted"))+" ("+d(e(g)[0].toLocaleString("en-us"))+") ",1)]),_:1},8,["style"])]),_:1}),n(re,{justify:"end"},{default:t(()=>[n(ge,{trigger:"hover",duration:0,delay:0,style:de({color:e(l).successColor}),placement:"bottom"},{trigger:t(()=>[h("span",{style:de({fontSize:"medium",color:e(l).successColor})},[n(se,{duration:e(ae)*3|0,from:e(v)[1],to:e(v)[0],active:!0,"show-separator":!0},null,8,["duration","from","to"])],4)]),default:t(()=>[T(" "+d(s.$t("status.progressSuccess"))+" ("+d(e(v)[0].toLocaleString("en-us"))+") ",1)]),_:1},8,["style"])]),_:1})]),_:1}),n(re,{align:"end",style:{"font-size":"medium",border:"0px solid"}},{default:t(()=>[n(ge,{trigger:"hover",duration:0,delay:0,placement:"bottom"},{trigger:t(()=>[T(" / "+d(e(E).toLocaleString("en-us")),1)]),default:t(()=>[T(" "+d(s.$t("status.progressTotal"))+" ("+d(e(E).toLocaleString("en-us"))+") ",1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["percentage","color","rail-style"]),n(le,{vertical:"",style:{height:"100%"},justify:"center"},{default:t(()=>[n(Q,{"tabular-nums":"",label:s.$t("status.inputSize")},{default:t(()=>[n(le,{justify:"end",wrap:!1,style:{"font-family":"v-mono"}},{default:t(()=>[T(d((e(B)/1024|0).toLocaleString("en-us"))+" KB",1)]),_:1})]),_:1},8,["label"]),n(Q,{"tabular-nums":"",label:s.$t("status.outputSize")},{default:t(()=>[n(le,{justify:"end",wrap:!1,style:{"font-family":"v-mono"}},{default:t(()=>[T(d((e(oe)/1024|0).toLocaleString("en-us"))+" KB",1)]),_:1})]),_:1},8,["label"]),n(Q,{"tabular-nums":"",label:s.$t("status.outInRate")},{default:t(()=>[n(le,{vertical:"",align:"end",justify:"start",style:{"font-size":"xx-small","font-family":"v-mono","line-height":"50%"}},{default:t(()=>[h("span",{style:de({color:e(p),fontSize:"larger"})},"× "+d((e(oe)/e(B)||1).toFixed(2)),5),h("span",{style:de({color:e(x)})},"("+d(e(ee))+")",5)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1}),n(Pa,{"display-directive":"show","trigger-areas":["arrow","main"],"default-expanded-names":"log-collapse","expanded-names":e(q)?["log-collapse"]:[],"onUpdate:expandedNames":D[7]||(D[7]=Z=>{q.value=!!String(Z)})},{default:t(()=>[n(Ma,{title:"Log",name:"log-collapse",style:{"white-space":"nowrap"}},rn({header:t(()=>[n(re,{align:"center",wrap:!1},{default:t(()=>[T(d(s.$t("status.log")),1),s.processing&&!e(q)?(F(),X(e(Ke),{key:0,size:16})):pe("",!0)]),_:1})]),default:t(()=>[n(re,{wrap:!1,class:ot({"log-container":1,"expand-log":e(V)}),align:"stretch",style:de(e(V)?{height:e(fe),maxHeight:e(fe)}:{})},{default:t(()=>[n(e(ln),{ref_key:"scrollref",ref:M,"x-scrollable":!0,onMouseup:D[5]||(D[5]=Z=>K.value=!1),onWheel:D[6]||(D[6]=Z=>K.value=!1),trigger:"none",style:de([{"z-index":"2","padding-right":"10px","min-height":"7em"},{maxHeight:e(fe)}]),size:50},{default:t(()=>[h("table",Ci,[h("tr",$i,[h("th",Ei,d(s.$t("status.table.core")),1),h("th",Fi,d(s.$t("status.table.index")),1),h("th",Mi,d(s.$t("status.table.status")),1),h("th",Pi,d(s.$t("status.table.details")),1)]),(F(!0),ue(Le,null,Ge((e(me)?e(b).filter(Z=>!Z.completed):e(b)).slice(-e(W)),({index:Z,key:He,command:Ue,path:vt,core:Rt})=>(F(),ue("tr",{key:He,class:"log-tr"},[h("td",Oi,d(Rt>=0?Rt+1:"-"),1),h("td",Ui,d(Z+1),1),h("td",Ni,d(Ue),1),h("td",Di,d(vt),1)]))),128))])]),_:1},8,["style"]),n(re,{style:de([{"align-self":"center",position:"absolute","z-index":"0","margin-top":"0.5em",right:"0.1em","line-height":"0px"},{width:u.W+"px",height:u.H+"px"}]),justify:"center",align:"center"},{default:t(()=>[n(e(Ke),{size:"small",show:s.processing},{default:t(()=>[r.status.thumbnail===void 0?(F(),X(Fa,{key:0,description:"EMPTY"})):pe("",!0),en(h("canvas",{ref_key:"thumbcanvas",ref:N,width:"106",height:"80",style:de({border:"1px solid gray",filter:s.processing?"":"opacity(0.35)"})},null,4),[[tn,r.status.thumbnail!==void 0]])]),_:1},8,["show"])]),_:1},8,["style"])]),_:1},8,["class","style"])]),_:2},[e(q)?{name:"header-extra",fn:t(()=>[n(re,{align:"center",wrap:!1},{default:t(()=>[n(_t,null,{default:t(()=>[n(ve,{key:"a",checked:e(me),"onUpdate:checked":D[0]||(D[0]=Z=>Me(me)?me.value=Z:null),size:"small",style:{"font-size":"smaller"},class:"hide-mobile"},{default:t(()=>[T(d(s.$t("status.filterSuccess")),1)]),_:1},8,["checked"]),e(V)?(F(),X(ve,{key:"b",checked:e(K),"onUpdate:checked":[D[1]||(D[1]=Z=>Me(K)?K.value=Z:null),D[2]||(D[2]=Z=>Z&&Ae(!0))],size:"small",style:{"font-size":"smaller"}},{default:t(()=>[T(d(s.$t("status.autoScroll")),1)]),_:1},8,["checked"])):pe("",!0)]),_:1}),n(mt,{style:{"max-width":"30em"}},{trigger:t(()=>[n(ve,{size:"small",checked:e(V),"onUpdate:checked":[D[3]||(D[3]=Z=>Me(V)?V.value=Z:null),D[4]||(D[4]=Z=>{K.value=Z,Ae(!0)})],style:{"font-size":"smaller"}},{default:t(()=>[T(d(s.$t("status.expandLog")),1)]),_:1},8,["checked"])]),default:t(()=>[T(d(s.$t("status.expandLogTooltip")),1)]),_:1})]),_:1})]),key:"0"}:void 0]),1024)]),_:1},8,["expanded-names"]),n(Oa,{style:{margin:"0.2em"}}),n(re,{wrap:!1,vertical:""},{default:t(()=>[n(re,{justify:"center",align:"center",vertical:""},{default:t(()=>[h("div",{class:"singleimage",style:de({maxHeight:e(A)?"2000px":"100px"})},[!e(A)&&e(z)?(F(),X(Je,{key:0,tertiary:"",type:"success",size:"small",disabled:!(s.status.success>0),onClick:D[8]||(D[8]=Z=>A.value=!0)},{default:t(()=>[T(d(s.$t("status.browseConvertedImages")),1)]),_:1},8,["disabled"])):s.status.success>0?(F(),X(Ti,{key:1,ref_key:"imageViewer",ref:I,url:e(y).url,size:e(y).size,"original-url":e(y).originalUrl,"original-size":e(y).originalSize,name:e(y).name,originalName:e(y).originalName,length:r.status.success,index:e(y).index,"various-info":e(y).various,"is-single":!e(z),onDemandImage:D[9]||(D[9]=Z=>f("demand-image",Z))},null,8,["url","size","original-url","original-size","name","originalName","length","index","various-info","is-single"])):pe("",!0)],4)]),_:1}),n(re,{justify:"center"},{default:t(()=>[e(z)?(F(),X(re,{key:0,vertical:"",align:"center"},{default:t(()=>[n(ge,{placement:"left"},{trigger:t(()=>[n(ye,{type:"line","indicator-placement":"inside",color:"lime","rail-color":"rgba(99, 255, 99, 0.5)","indicator-text-color":e(U)[0]===e(E)?"white":"green",processing:s.processing,percentage:e(U)[0]/e(E)*100|0,style:{width:"300px","font-weight":"bold","font-family":"v-mono"}},{default:t(()=>[h("span",Ri,d(e(U)[0]/e(E)*100|0)+"% "+d(s.$t("status.zipped"))+" ("+d(e(U)[0])+"/"+d(e(w)[0])+")",1)]),_:1},8,["indicator-text-color","processing","percentage"])]),default:t(()=>[T(" "+d(s.$t("status.zippingProgress"))+" ("+d(e(U)[0]/e(E)*100|0)+"%) ",1)]),_:1}),n(Ve,{name:"zipcontainer"},{default:t(()=>[e(c).length>=1||r.processing?(F(),X(_t,{key:0,name:"zips",class:"zip-buttons-parent",tag:"n-flex"},{default:t(()=>[(F(!0),ue(Le,null,Ge(e(c),(Z,He)=>(F(),ue("span",{key:He},[n(ge,{trigger:"hover",duration:0,delay:0},{trigger:t(()=>[h("a",{href:Z.url,download:Z.name,class:"in-button-anchor",onClick:Ue=>_e(Z)},[n(Je,{class:"zip-button",size:"tiny",color:Z.clicked?"#050":"lime","text-color":Z.clicked?"gray":"white",onClick:qe(Ue=>_e(Z),["stop"]),round:""},{default:t(()=>[n(e(we),{size:"tiny"},{default:t(()=>[n(e(xt))]),_:1}),T("ZIP"+d(Z.number||""),1)]),_:2},1032,["color","text-color","onClick"])],8,ji)]),default:t(()=>[h("div",{style:de({color:e(l).successColor})},[h("div",null,"ZIP "+d(Z.number||"")+" ("+d(s.$t("success"))+")",1),h("div",null,d(Z.name),1),h("div",null,d(Z.sizeByUnit),1),h("div",null,d(s.$rt("{n} @:files",Z.count)),1)],4)]),_:2},1024)]))),128))]),_:1})):pe("",!0)]),_:1})]),_:1})):pe("",!0)]),_:1}),n(Ve,null,{default:t(()=>[r.processing?pe("",!0):(F(),X(re,{key:0,justify:"center",align:"center"},{default:t(()=>[n(ge,{trigger:"hover",duration:0,delay:0,placement:"left",style:de({color:"white",backgroundColor:e(l).successColor}),"arrow-style":{backgroundColor:e(l).successColor}},{trigger:t(()=>[n(Ve,{name:"save"},{default:t(()=>[e(v)[0]>0?(F(),ue("span",Bi,[n(Dt,{value:e(z)?e(U)[0].toLocaleString("en-us"):r.status.type.replace(/\(.+\)/,""),color:e(l).successColorHover,offset:[-20,-3]},{default:t(()=>[n(Je,{size:"medium",onClick:Pe,color:e(l).successColor,round:""},{default:t(()=>[e(z)?(F(),ue(Le,{key:0},[e(c).length?(F(),ue("a",{key:0,href:e(c)[0].url,download:e(c)[0].name,class:"in-button-anchor",onClick:D[10]||(D[10]=qe(()=>{},["prevent"]))},[n(Ua),T(" × "+d(e(c).length)+" "+d(s.$t("save")),1)],8,Zi)):pe("",!0)],64)):(F(),ue("a",{key:1,href:e(y).url,download:e(y).name,class:"in-button-anchor",onClick:D[11]||(D[11]=qe(()=>{},["prevent"]))},[n(e(we),{size:"tiny"},{default:t(()=>[n(e(cn))]),_:1}),T(" "+d(s.$t("save")),1)],8,Hi))]),_:1},8,["color"])]),_:1},8,["value","color"])])):pe("",!0)]),_:1})]),default:t(()=>[s.status.length>=2?(F(),ue(Le,{key:0},[h("div",null,d(e(i)("success"))+": "+d(e(U)[0].toLocaleString()),1),h("div",null,d(e(i)("status.totalSize"))+": "+d(e(je)(s.status.zippedTotalSize)),1),h("div",null,"ZIP × "+d(e(c).length),1),h("div",null,d(e(i)("status.saveAllZipsTooltip")),1)],64)):(F(),ue(Le,{key:1},[T(d(s.$t("status.downloadConvertedImage",e(c).length)),1)],64))]),_:1},8,["style","arrow-style"]),!s.processing&&s.status.success!==e(E)?(F(),X(Na,{key:0,options:e(G),onSelect:D[12]||(D[12]=(Z,He)=>{var Ue;return(Ue=e(G).find(({key:vt})=>Z===vt))==null?void 0:Ue.onSelect()}),"show-arrow":!0,trigger:"click",size:"small",placement:"bottom-start"},{default:t(()=>[n(ge,{show:e(H),duration:0,delay:0,placement:"right",style:de({color:"white",backgroundColor:e(l).errorColor}),"arrow-style":{backgroundColor:e(l).errorColor}},{trigger:t(()=>[n(Dt,{value:s.status.unconvertedFileCount.toLocaleString(),color:e(l).errorColorHover,offset:[-0,-3]},{default:t(()=>[n(Je,{size:"small",color:e(l).errorColor},{default:t(()=>[n(e(we),{size:"medium",style:{"vertical-align":"middle"}},{default:t(()=>[n(e(to))]),_:1})]),_:1},8,["color"])]),_:1},8,["value","color"])]),default:t(()=>[h("div",null,[h("div",null,d(e(i)("failed"))+": "+d(s.status.unconvertedFileCount.toLocaleString()),1),h("div",null,d(e(i)("status.totalSize"))+": "+d(e(je)(s.status.unconvertedTotalSize)),1)])]),_:1},8,["show","style","arrow-style"])]),_:1},8,["options"])):pe("",!0)]),_:1}))]),_:1}),n(Ve,{name:"zipcontainer"},{default:t(()=>[e(S)?(F(),X(re,{key:0,vertical:"",align:"center"},{default:t(()=>[n(ge,{placement:"left"},{trigger:t(()=>[n(ye,{type:"line","indicator-placement":"inside",color:"red","rail-color":"rgba(255, 0, 0, 0.5)","indicator-text-color":s.status.failedFileZippedCount===s.status.unconvertedFileCount?"white":"#500",processing:e(S)&&!s.status.failedZipDone&&!s.status.failedToCreateFailedZip,percentage:s.status.failedFileZippedCount/s.status.unconvertedFileCount*100|0,style:{width:"300px","font-weight":"bold","font-family":"v-mono"}},{default:t(()=>[s.status.failedToCreateFailedZip?(F(),ue("div",{key:1,style:de({color:e(l).errorColor})},d(s.$t("status.failureZippingFailedFiles")),5)):(F(),ue("span",Wi,d(s.status.failedFileZippedCount/s.status.unconvertedFileCount*100|0)+"% "+d(s.$t("status.zipped"))+" ("+d(s.status.failedFileZippedCount)+"/"+d(s.status.unconvertedFileCount)+")",1))]),_:1},8,["indicator-text-color","processing","percentage"])]),default:t(()=>[T(" "+d(s.$t("status.zippingProgress"))+" ("+d(s.status.failedFileZippedCount/s.status.unconvertedFileCount*100|0)+"%) ",1)]),_:1}),n(_t,{name:"zips",class:"zip-buttons-parent",tag:"n-flex"},{default:t(()=>[(F(!0),ue(Le,null,Ge(e(C),(Z,He)=>(F(),ue("span",{key:He},[n(ge,{trigger:"hover",duration:0,delay:0},{trigger:t(()=>[h("a",{href:Z.url,download:Z.name,class:"in-button-anchor",onClick:Ue=>_e(Z)},[n(Je,{class:"zip-button",size:"tiny",color:Z.clicked?"#551122":"#F00","text-color":Z.clicked?"gray":"white",onClick:qe(Ue=>_e(Z),["stop"]),round:""},{default:t(()=>[n(e(we),{size:"tiny"},{default:t(()=>[n(e(no))]),_:1}),T("ZIP"+d(Z.number||""),1)]),_:2},1032,["color","text-color","onClick"])],8,Vi)]),default:t(()=>[h("div",{style:de({color:e(l).errorColor})},[h("div",null,"ZIP "+d(Z.number||"")+" ("+d(s.$t("failed"))+")",1),h("div",null,d(Z.name),1),h("div",null,d(Z.sizeByUnit),1),h("div",null,d(s.$rt("{n} @:files",Z.count)),1)],4)]),_:2},1024)]))),128))]),_:1})]),_:1})):pe("",!0)]),_:1})]),_:1})]),_:1})}}}),Ki=Re(Gi,[["__scopeId","data-v-f203585d"]]),Qi=["innerHTML"],Yi={style:{"flex-grow":"1"}},Xi=ke({__name:"converter",props:it({input:{},format:{},quality:{},retainExtension:{type:Boolean},maxZipSizeMB:{},threads:{}},{showNote:{type:Boolean},showNoteModifiers:{}}),emits:it(["start","end","multi-thread-count"],["update:showNote"]),setup(a,{emit:o}){Ye(Ze);const{t:m}=De(),i=gt(),l=ao(),u=oo(),r=10,f=navigator.hardwareConcurrency,z=typeof OffscreenCanvas=="function",b=300,S=16,c=a,C=Ce(a,"showNote"),k=o,g=_(!1),v=_(!1),L=_(!1),$=_(0),w=_(!1),E=_(!1),U=_("initializing"),P=_("info"),p=ft(W());let x=!1,B=()=>{},oe=0,ee=!1;Ie(()=>c.input,M=>{M!=null&&M.length&&ce(M)}),Fe(async()=>{await N(),R()});async function O(){let M=!0;oe>r*1e3&&!ee&&p.success>0&&(M=!1,await new Promise(I=>{i.warning({title:m("confirmCloseDialogTitle"),autoFocus:!0,maskClosable:!1,positiveText:m("close"),negativeText:m("back"),onPositiveClick:()=>M=!0,onAfterLeave:I,content:m("confirmCloseDialog")})})),M&&(u.destroyAll(),l.destroyAll(),w.value=!1,C.value=!1)}function H(M){p.demandImage(M)}function V(){!v.value&&g.value?v.value=!0:O()}function K(){ce(c.input)}let me=_(()=>{});function W(M){const I={logs:[],index:0,converted:0,success:0,failure:0,done:0,length:0,zippedTotalCount:0,zippingErrorCount:0,zippedTotalSize:0,processing:!1,zips:[],inputTotalSize:0,outputTotalSize:0,thumbnail:null,baseZipName:"testzipname",type:"image/any",startedTime:Date.now(),convertedImageDataUrl:"",convertedImageName:"",convertedImageUrl:"",convertedImageOrgUrl:"",convertedImageIndex:-1,convertedImageFileId:-1,convertedImageShrinked:!1,zipSize:c.maxZipSizeMB,shrink:j.multithread&&j.shrinkImage?[j.maxWidth,j.maxHeight]:void 0,unconvertedListText:"",failedZipDone:!1,failedZips:[],unconvertedFileCount:0,unconvertedTotalSize:0,failedFileZippedCount:0,failedToCreateFailedZip:!1,demandImage:()=>{}};return Object.assign(M||{},I)}function fe(){E.value=!1,URL.revokeObjectURL(p.convertedImageUrl),URL.revokeObjectURL(p.convertedImageOrgUrl);for(const M of p.zips)URL.revokeObjectURL(M.url);p.zips.length=0;for(const M of p.failedZips)URL.revokeObjectURL(M.url);p.failedZips.length=0,W(p),B(),B=()=>{},ee=!1,L.value=!1,v.value=!1}async function ce(M){if(g.value){i.error({title:"Busy",positiveText:"OK",content:m("interfered")});return}let I=A(M);W(p),fe();const ae={convertedImageBlob:null,convertedImageWidth:0,convertedImageHeight:0,convertedImageName:""};$.value++,w.value=!0,E.value=!0,g.value=!0,p.processing=!0,P.value="info",U.value=m("processing");const te=new Set,Y=c.format,ie=c.quality,J=[...Y.matchAll(/.+\/(.+)/g)][0][1].replace(/jpeg/,"jpg"),G=y(Y,ie,I[0].webkitRelativePath);p.length=I.length,p.baseZipName=G,p.type=Y.replace(/image\//,"").toUpperCase()+(/jpe?g|webp/i.test(Y)?" ("+ie+")":""),p.threads=x?0:c.threads;const _e=Date.now();k("start");const Pe=I.concat();let Oe,$e;if({exception:$e,callbackToGenerateFailedZips:Oe,callbackToClearConverter:B}=!x&&c.threads>=2?await si(p,v,c,ae,l,u,Pe,te,Y,ie,J,Y):await pi(Pe,te,ae,c,v,p),$e){let Ae;switch($e.message){case"worker-load-error":Ae=m("errMsgWorkerLoadError");break;default:Ae="unexpected error"}i.error({title:"Error",autoFocus:!0,maskClosable:!1,closable:!1,content:()=>ne("div",[ne("p",Ae),ne(ze,{onClick(){location.reload()}},m("Reload"))])})}if(p.length,p.success===p.length?(P.value="success",U.value=m("completed")):(P.value="error",U.value=v.value?m("aborted"):m("incomplete")),te.size!==I.length){const Ae=xe(I,te);me.value=()=>{!Ae||!Ae.length||Oe(Ae)}}g.value=!1,p.processing=!1,L.value=!0,oe=Date.now()-_e,k("end")}function xe(M,I){const ae=[],te=[];let Y=0;for(const ie of M)I.has(ie._id)||(ae.push(ie),te.push(ie.webkitRelativePath||ie.relativePath||ie.name),Y+=ie.size);return te.length&&(p.unconvertedListText=te.join(`
`),p.unconvertedFileCount=ae.length,p.unconvertedTotalSize=Y),ae}let q=0;function A(M){const I=[];for(const ae of M)ae.hasOwnProperty("_id")||Object.defineProperty(ae,"_id",{value:q++}),I.push(ae);return I}function y(M,I,ae){var J;const te=new Date;return M=M.replace(/^image\//,"").toLowerCase(),`${j.useFolderNameForZip&&((J=String(ae).match(/^\/?([^/]+)\//))==null?void 0:J[1])||"avif2jpg"}-
    ${te.getFullYear().toString().substring(2)}
    ${String((te.getMonth()+1)*100+te.getDate()).padStart(4,"0")}
    ${String(te.getHours()*1e4+te.getMinutes()*100+te.getSeconds()).padStart(6,"0")}
    -
    ${M+(/jpe?g|webp/i.test(M)?I:"")}
  `.replace(/\s/g,"")}async function N(){const M="data:image/avif;base64,AAAAHGZ0eXBtaWYxAAAAAG1pZjFhdmlmbWlhZgAAAPJtZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAABEAAAQABAAAAAAEWAAEAAAAgAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUltYWdlAAAAAHFpcHJwAAAAUmlwY28AAAAUaXNwZQAAAAAAAAAIAAAACAAAABBwYXNwAAAAAQAAAAEAAAAWYXYxQ4EgAAAKCDgIv2kBDQAgAAAAEHBpeGkAAAAAAwgICAAAABdpcG1hAAAAAAAAAAEAAQQBAoOEAAAAKG1kYXQKCDgIv2kBDQAgMhQWQAAASAAADAZuZXHwA9LzjNWygA==",I=document.createElement("img"),ae=kn(I).then(()=>!0,()=>!1);I.src=M,await ae||i.warning({title:"Unsupported",positiveText:"OK",maskClosable:!1,content:m("avifUnsupported")})}function R(){(!z||f<2||!Promise.any)&&(x=!0),k("multi-thread-count",x?0:Math.min(f,S))}return(M,I)=>{const ae=Se,te=Ee,Y=Ke,ie=Xe,J=Tt;return F(),ue(Le,null,[n(te,{justify:"center",align:"center"},{default:t(()=>{var G;return[!e(g)&&((G=c.input)!=null&&G.length)?(F(),X(ae,{key:0,trigger:"hover",placement:"top","keep-alive-on-hover":!1,duration:0,delay:50},{trigger:t(()=>[n(e(ze),{onClick:K,round:""},{default:t(()=>[T(d(e(m)("convertAgain")),1)]),_:1})]),default:t(()=>{var _e;return[h("div",{innerHTML:e(m)("reconvertTip",(_e=c.input)==null?void 0:_e.length)},null,8,Qi)]}),_:1})):pe("",!0)]}),_:1}),n(J,{ref:"processingModal",show:e(w),"onUpdate:show":I[2]||(I[2]=G=>Me(w)?w.value=G:null),closable:e(L),"close-on-esc":!1,preset:"dialog","display-directive":"show",onClick:I[3]||(I[3]=G=>{e(u).destroyAll(),e(l).destroyAll()}),onMaskClick:I[4]||(I[4]=G=>{e(u).destroyAll(),e(l).destroyAll()}),onClose:O,onEsc:V,title:e(U),type:e(P),"mask-closable":!1,"on-after-leave":fe,class:"processing-dialog"},{default:t(()=>[n(ie,{vertical:"",style:{"flex-grow":"1"}},{default:t(()=>[h("div",Yi,[e(E)?(F(),X(Ki,{key:e($),processing:e(g),status:e(p),interval:b,onAllZipsClicked:I[0]||(I[0]=G=>Me(ee)?ee.value=!0:ee=!0),onDemandZipErrors:e(me),onDemandImage:H},null,8,["processing","status","onDemandZipErrors"])):pe("",!0)]),n(ie,{justify:"end"},{default:t(()=>[e(g)?(F(),X(e(ze),{key:0,disabled:e(v),ref:"cancelbutton",round:"",size:"large",onClick:I[1]||(I[1]=G=>v.value=!0)},{default:t(()=>[n(Y,{show:e(v)&&!e(L),size:"small"},{default:t(()=>[T(d(e(m)("cancel")),1)]),_:1},8,["show"])]),_:1},8,["disabled"])):e(L)?(F(),X(e(ze),{key:1,onClick:O,round:"",size:"large",style:{"font-size":"small","margin-top":"1em"}},{default:t(()=>[T(d(e(m)("close")),1)]),_:1})):pe("",!0)]),_:1})]),_:1})]),_:1},8,["show","closable","title","type"])],64)}}}),Ji="/avif2jpeg/dist/avif.png",xn=a=>(Lt("data-v-892702c9"),a=a(),Ct(),a),el={class:"container-1"},tl=xn(()=>h("span",null,"Drag & Drop",-1)),nl={style:{position:"relative"}},al={style:{position:"absolute","font-size":"0.5em",right:"-3.5em",bottom:"-1.5em","white-space":"nowrap"}},ol={style:{color:"#666666"}},il=xn(()=>h("img",{src:Ji,class:"avif"},null,-1)),ll=["innerHTML"],sl={style:{width:"100%",overflow:"hidden","text-overflow":"ellipsis","font-size":"xx-small","white-space":"nowrap"}},rl=ke({__name:"droptarget",props:{forbidden:{type:Boolean},dropTarget:{}},emits:["drop"],setup(a,{emit:o}){Ye(Ze);const m=a,i=o,l=io(),u=_(!1),r=_(0),f=_("");Fe(()=>{z(m.dropTarget||document)});function z(S){document.ondragstart=c=>c.preventDefault(),document.ondragover=c=>c.preventDefault(),S.ondrop=async c=>{var k;if(c.preventDefault(),u.value||m.forbidden)return;u.value=!0,r.value=0,f.value="";let C;try{const g=[...c.dataTransfer.items].map(v=>v.webkitGetAsEntry());l.start(),C=await b(g),l.finish()}catch{C=[...((k=c.dataTransfer)==null?void 0:k.files)??[]],l.error()}u.value&&(u.value=!1,i("drop",C))}}async function b(S,c){c=c||[];for(const C of S)if(C.isFile){const k=await new Promise(g=>C.file(v=>g(v)));Object.defineProperty(k,"webkitRelativePath",{value:C.fullPath}),c.push(k),r.value++}else if(C.isDirectory){f.value=C.fullPath;const k=C.createReader();do{const g=await new Promise(v=>k.readEntries(L=>v(L)));if(!g.length)break;await b(g,c)}while(!0)}return c}return(S,c)=>{const C=we,k=Ee,g=st,v=Se,L=Tt;return F(),ue(Le,null,[h("div",el,[n(v,{to:!1,"display-directive":"show",trigger:"hover",duration:0,delay:0,placement:"left"},{trigger:t(()=>[n(k,{vertical:"",class:"container-2"},{default:t(()=>[n(k,{align:"center",wrap:!1,class:"container-3"},{default:t(()=>[n(k,{align:"center"},{default:t(()=>[n(C,{size:"64",color:"white"},{default:t(()=>[n(e(lo))]),_:1})]),_:1}),n(k,{vertical:"",align:"center",wrap:!1,style:{"font-weight":"bold","font-size":"1em","line-height":"90%","white-space":"nowrap"}},{default:t(()=>[tl,h("span",nl,[T(" AVIF Images "),h("span",al,[T(" or "),n(g,{placement:"bottom-end"},{trigger:t(()=>[h("span",ol,[n(C,{style:{"vertical-align":"middle"}},{default:t(()=>[n(e(Pt))]),_:1}),T(" Folders ")])]),default:t(()=>[T(" You can drag and drop your local folders ")]),_:1})])])]),_:1}),n(k,null,{default:t(()=>[il]),_:1})]),_:1})]),_:1})]),default:t(()=>[h("h3",{innerHTML:S.$t("droptarget"),style:{"max-width":"200px","text-align":"center","word-break":"keep-all","overflow-wrap":"break-word"}},null,8,ll)]),_:1})]),n(L,{show:e(u),"onUpdate:show":c[0]||(c[0]=$=>Me(u)?u.value=$:null),closable:!0,preset:"dialog",title:"Parsing dropped items.",type:"info","mask-closable":!1,"negative-text":S.$t("cancel")},{default:t(()=>[n(k,{vertical:"",align:"center"},{default:t(()=>[h("div",sl,d(e(f)),1),h("div",null,"found "+d(e(r))+" files",1)]),_:1})]),_:1},8,["show","negative-text"])],64)}}}),ul=Re(rl,[["__scopeId","data-v-892702c9"]]),An=a=>(Lt("data-v-dec671e4"),a=a(),Ct(),a),dl={class:"container-1"},cl={class:"container-2"},pl=["innerHTML"],fl=["innerHTML"],gl={style:{"padding-left":"1em"}},ml=An(()=>h("br",null,null,-1)),vl=An(()=>h("ul",null,[h("li",null,"Each extension must begin with a period. "),h("li",null,"Separate each extension with a comma. "),h("li",null,"Use alphameric characters.")],-1)),hl=["innerHTML"],_l=["accept"],yl=ke({__name:"file-selector",props:it({expanded:{type:Boolean},target:{},userExtensions:{},forbidden:{type:Boolean}},{disableNotifyingFolderSelect:{type:Boolean},disableNotifyingFolderSelectModifiers:{}}),emits:it(["input","click","cancel","on-change-accept","update:target","update:userExtensions","update:expanded"],["update:disableNotifyingFolderSelect"]),setup(a,{emit:o}){const m=gt(),{t:i}=De(),l=Ye(Ze),u=["avif_only","all_images","all_files","edit_type"],r=a,f=o,z=_(0),b=_(!1),S=_(!1),c=be(()=>oe(v.value)),C=be(()=>L.value.split(",").every(V=>/^\s*(\.[\w\-]+)*\s*$/.test(V))?"success":"error"),k=be(()=>!r.forbidden&&!S.value),g=be({get:()=>r.expanded,set:H=>{f("update:expanded",H)}}),v=be({get:()=>u.indexOf(r.target)>=0?r.target:u[0],set:H=>{f("update:target",H)}}),L=be({get:()=>r.userExtensions,set:H=>{f("update:userExtensions",H)}}),$=Ce(a,"disableNotifyingFolderSelect"),w=_(null),E=_(null),U=_(B());Ie(v,H=>{f("on-change-accept",c.value)}),Fe(()=>{});async function P(H){if(f("click"),H===E.value&&!$.value){let V=!1;if(await new Promise(K=>{m.info({title:i("loadfolderNotifyingTitle"),positiveText:i("Continue"),negativeText:i("Cancel"),onAfterLeave:()=>K(V),onPositiveClick:()=>V=!0,content:()=>ne("div",[ne("p",{},i("loadfolderNotifyingMessageTerm1")),ne("div",[ne(nn,{width:250,style:{border:"3px solid gray"},src:"/avif2jpeg/dist//notification-folder.png"})]),ne("p",{},i("loadfolderNotifyingMessageTerm2")),ne("p",[ne(un,{onUpdateChecked:me=>$.value=me,checked:$.value},()=>i("checkboxTextDontShowThis"))])])})}),!V){$.value=!1,f("cancel");return}}H.click()}function p(){f("cancel")}function x(H){const K=[...H.target.files];w.value.value="",E.value.value="",O(K)}function B(){return"webkitdirectory"in document.createElement("input")}function oe(H){switch(H){case"avif_only":return".avif, .webp";case"all_images":return".jpg, .jpeg, .jfif, .pjpeg, .pjp, .gif, .png, .webp, .avif, .bmp, .apng, .ico";case"edit_type":return L.value;case"all_files":default:return".*"}}async function ee(H){const V=String(c.value).toLowerCase().replace(/\s+/g,"");if(V&&c.value!==".*"){const K=V.split(",");H=H.filter(me=>K.includes(me.name.replace(/^.+(\.[^.]+)$/,"$1").toLowerCase())),H.length||(await new Promise(me=>{m.error({title:"Images Not Found",positiveText:"OK",onAfterLeave:me,content:()=>ne("div",[ne(dn,{description:"NO IMAGES"}),`${i("noimage")}`,ne("br"),c.value])})}),p())}return H}async function O(H){S.value=!0,H=await ee(H),z.value=H.length,H.length>0&&f("input",H),S.value=!1}return(H,V)=>{const K=we,me=$t,W=ze,fe=Se,ce=Ee,xe=fo,q=so,A=ro,y=st,N=uo,R=Ft,M=Mt;return F(),ue(Le,null,[h("div",dl,[h("div",cl,[n(ce,{vertical:"",align:"center",justify:"center",inline:""},{default:t(()=>[n(ce,{align:"center",justify:"space-around"},{default:t(()=>[n(me,{value:e(z),max:999,offset:[-8,0],color:"#999999",style:{"margin-right":"1em"}},{default:t(()=>[n(K,{size:"4em",color:"#CCCCCC"},{default:t(()=>[n(e(co))]),_:1})]),_:1},8,["value"]),n(ce,{vertical:"",align:"stretch",justify:"center"},{default:t(()=>[n(fe,{to:!1,"display-directive":"show",show:e(l).showTooltipsBeforeMounted.value,trigger:"hover","keep-alive-on-hover":!1,placement:e(l).LANDSCAPE.value?"right":"top",duration:0,delay:0,"z-index":10},{trigger:t(()=>[n(W,{disabled:!e(k),onClick:V[0]||(V[0]=I=>P(e(w))),round:"",style:{width:"100%","background-color":"white"}},{icon:t(()=>[n(K,{size:"large",color:"gray"},{default:t(()=>[n(e(pn))]),_:1})]),default:t(()=>[T(" "+d(H.$t("loadbutton")),1)]),_:1},8,["disabled"])]),default:t(()=>[h("div",{innerHTML:H.$t("loadbuttontooltip")},null,8,pl)]),_:1},8,["show","placement"]),!e(l).IS_SP&&e(U)||e(l).SSR?(F(),X(fe,{key:0,to:!1,"display-directive":"show",trigger:"hover",placement:"left","keep-alive-on-hover":!1,style:{"max-width":"40vw"},duration:0,delay:0,"z-index":10,show:e(l).showTooltipsBeforeMounted.value},{trigger:t(()=>[n(W,{disabled:!e(k),onClick:V[1]||(V[1]=I=>P(e(E))),round:"",style:{width:"100%","background-color":"white"}},{icon:t(()=>[n(K,{size:"large",color:"gray"},{default:t(()=>[n(e(Pt))]),_:1})]),default:t(()=>[T(" "+d(H.$t("loadfolderbutton")),1)]),_:1},8,["disabled"])]),default:t(()=>[h("div",{innerHTML:H.$t("loadfoldertooltip")},null,8,fl)]),_:1},8,["show"])):pe("",!0)]),_:1})]),_:1}),h("div",{class:ot({"expand-ext-list-container":e(g)})},[n(M,{"display-directive":"show","expanded-names":e(g)?["extItem"]:"","on-update:expanded-names":I=>{g.value=!!(""+I)},class:ot({"expand-ext-list":e(g)})},{"header-extra":t(()=>[n(K,{size:"large"},{default:t(()=>[n(e(po))]),_:1})]),default:t(()=>[n(R,{title:H.$t("fileTypeRadioTitle"),name:"extItem"},{default:t(()=>[n(N,{value:e(v),"onUpdate:value":V[5]||(V[5]=I=>Me(v)?v.value=I:null),name:"filetyperadios",size:"small"},{default:t(()=>[n(ce,{vertical:"",style:{"padding-left":"1em"}},{default:t(()=>[(F(),ue(Le,null,Ge(u,I=>n(fe,{key:I,trigger:"hover","keep-alive-on-hover":!1,"z-index":5,placement:"left",style:{"max-width":"200px"},duration:0,delay:0},{trigger:t(()=>[n(xe,{value:I},{default:t(()=>[T(d(H.$t("fileTypeRadioOptions."+I)),1)]),_:2},1032,["value"])]),default:t(()=>[T(" "+d(oe(I).replace(/,/g,", ")),1)]),_:2},1024)),64)),n(fe,{trigger:"hover","keep-alive-on-hover":!1,placement:"bottom-start",show:e(b),duration:0,delay:0},{trigger:t(()=>[h("div",gl,[n(y,{trigger:"manual",placement:"right-end",show:e(v)==="edit_type"&&e(C)!=="success"&&!!e(b)},{trigger:t(()=>[n(q,{value:e(L),"onUpdate:value":V[2]||(V[2]=I=>Me(L)?L.value=I:null),status:e(C),disabled:e(v)!=="edit_type",onFocus:V[3]||(V[3]=I=>b.value=!0),onBlur:V[4]||(V[4]=I=>b.value=void 0),clearable:!0,size:"small",placeholder:".jpg, .gif, .png",spellcheck:"false"},null,8,["value","status","disabled"])]),default:t(()=>[n(A,{type:"error","show-icon":!0,title:"Validation error"},{default:t(()=>[T(" Please correct the extension list."),ml,vl]),_:1})]),_:1},8,["show"])])]),default:t(()=>[h("span",{innerHTML:H.$t("editAcceptTypes")},null,8,hl)]),_:1},8,["show"])]),_:1})]),_:1},8,["value"])]),_:1},8,["title"])]),_:1},8,["expanded-names","on-update:expanded-names","class"])],2),e(l).IS_SP?pe("",!0):(F(),X(ul,{key:0,onDrop:O,forbidden:!e(k)},null,8,["forbidden"]))]),_:1})])]),h("input",{ref_key:"fileinput",ref:w,onInput:x,onCancel:p,type:"file",multiple:"",accept:e(c),style:{display:"none"}},null,40,_l),h("input",{ref_key:"folderinput",ref:E,webkitdirectory:"",directory:"",onInput:x,onCancel:p,type:"file",style:{display:"none"}},null,544)],64)}}}),wl=Re(yl,[["__scopeId","data-v-dec671e4"]]),bl={style:{"white-space":"nowrap"}},kl=ke({__name:"settings-output",props:{quality:{},format:{}},emits:["update:format","update:quality"],setup(a,{emit:o}){const m=a,i=o,{t:l}=De(),u=Ye(Ze),r=_([]),f=["image/jpeg","image/png","image/gif","image/bmp","image/avif","image/webp"],z=be({get:()=>m.format,set:g=>{g=C(g),i("update:format",g)}}),b=be({get:()=>m.quality,set:g=>{i("update:quality",g)}}),S=be(()=>/png|bmp/i.test(z.value)),c=_(null);Fe(()=>{k()});function C(g){return r.value.indexOf(g)<0&&(g=r.value[0]),g}function k(){for(const g of f)c.value.toDataURL(g).indexOf(g)>=0&&r.value.push(g);r.value.length===0&&r.value.push(f[0])}return(g,v)=>{const L=we,$=fn,w=Ee,E=Se,U=Et,P=gn;return F(),ue(Le,null,[n(w,{justify:"center"},{default:t(()=>[n(w,{vertical:""},{default:t(()=>[n(E,{to:!1,"display-directive":"show",show:e(u).showTooltipsBeforeMounted.value,trigger:"hover",placement:e(u).LANDSCAPE.value?"left":"top-start","keep-alive-on-hover":!1,duration:0,delay:0},{trigger:t(()=>[n(w,{align:"center"},{default:t(()=>[n(L,null,{default:t(()=>[n(e(pn))]),_:1}),T(d(e(l)("settings.imageType"))+": ",1),n($,{value:z.value,"onUpdate:value":v[0]||(v[0]=p=>z.value=p),options:r.value.map(p=>({value:p,label:p})),"consistent-menu-width":!1,size:"small"},null,8,["value","options"])]),_:1})]),default:t(()=>[T(" "+d(e(l)("settings.imageTypeTooltip")),1)]),_:1},8,["show","placement"]),n(E,{to:!1,"display-directive":"show",show:e(u).showTooltipsBeforeMounted.value,trigger:"hover",placement:e(u).LANDSCAPE.value?"left":"top-start","keep-alive-on-hover":!1,duration:0,delay:0},{trigger:t(()=>[n(w,{align:"center"},{default:t(()=>[n(w,{align:"start",wrap:!1},{default:t(()=>[n(L,null,{default:t(()=>[n(e(cn))]),_:1}),h("span",bl,d(e(l)("settings.quality"))+":",1),n(w,{align:"center",justify:"space-between"},{default:t(()=>[n(U,{tooltip:!1,value:b.value,"onUpdate:value":v[1]||(v[1]=p=>b.value=p),step:1,style:{width:"120px"},disabled:S.value},null,8,["value","disabled"]),n(P,{onBlur:v[2]||(v[2]=p=>b.value??(b.value=0)),value:b.value,"onUpdate:value":v[3]||(v[3]=p=>b.value=p),step:"1",min:"0",max:"100",disabled:S.value,style:{width:"90px"},size:"small"},null,8,["value","disabled"])]),_:1})]),_:1})]),_:1})]),default:t(()=>[T(" "+d(e(l)("settings.qualitytooltip")),1)]),_:1},8,["show","placement"])]),_:1})]),_:1}),h("canvas",{ref_key:"canvas",ref:c,width:"1",height:"1",style:{display:"none"}},null,512)],64)}}}),xl={style:{width:"4em","text-align":"left"}},Al={style:{width:"4em","text-align":"left"}},bt=100,Vt=2e3,qt=4096,Gt=4096,zl=100,Il=100,Tl=ke({__name:"settings-adv",props:it({threadMax:{}},{expanded:{type:Boolean,required:!0},expandedModifiers:{},multithread:{type:Boolean,required:!0},multithreadModifiers:{},threadCount:{required:!0},threadCountModifiers:{},maxZipSize:{required:!0},maxZipSizeModifiers:{},retainExt:{type:Boolean,required:!0},retainExtModifiers:{},useFolderNameForZip:{type:Boolean,required:!0},useFolderNameForZipModifiers:{},shrinkImage:{type:Boolean,required:!0},shrinkImageModifiers:{},maxWidth:{required:!0},maxWidthModifiers:{},maxHeight:{required:!0},maxHeightModifiers:{}}),emits:["update:expanded","update:multithread","update:threadCount","update:maxZipSize","update:retainExt","update:useFolderNameForZip","update:shrinkImage","update:maxWidth","update:maxHeight"],setup(a){const o={trigger:"hover",placement:"left",keepAliveOnHover:!1,duration:0,delay:0,style:"max-width: 20vw;"},m=Ce(a,"expanded"),i=Ce(a,"multithread"),l=Ce(a,"threadCount"),u=Ce(a,"maxZipSize"),r=Ce(a,"retainExt"),f=Ce(a,"useFolderNameForZip"),z=Ce(a,"shrinkImage"),b=Ce(a,"maxWidth"),S=Ce(a,"maxHeight"),c=a;Ie(()=>c.threadMax,()=>{c.threadMax>1||(i.value=!1)},{immediate:!0}),Ie(l,k=>{k===void 0&&(l.value=Math.max(2,Math.min(c.threadMax,16)))});const C=be(()=>i.value&&c.threadMax>1);return Fe(()=>{c.threadMax>1&&typeof l.value>"u"&&(l.value=Math.max(c.threadMax/2|0,2))}),(k,g)=>{const v=we,L=ze,$=go,w=Xe,E=Et,U=gn,P=Ft,p=Mt;return F(),X(w,{justify:"center"},{default:t(()=>[n(p,{"display-directive":"show","default-expanded-names":m.value?["collapitem"]:"","on-update:expanded-names":x=>m.value=!!String(x),"trigger-areas":["arrow","main"],class:ot(["settings-body",m.value?"expand-adv-settings":""])},rn({arrow:t(()=>[n(v,{style:de(m.value&&{top:"8px"})},{default:t(()=>[n(e(mo))]),_:1},8,["style"]),n(v,null,{default:t(()=>[n(e(vo))]),_:1})]),default:t(()=>[n(P,{title:k.$t("settings.advancedSettings"),name:"collapitem"},{default:t(()=>[n(w,{vertical:"",style:{"padding-left":"2em"}},{default:t(()=>[n(e(Se),et(tt(o)),{trigger:t(()=>[n(w,{vertical:""},{default:t(()=>[n(w,{wrap:!1,align:"center"},{default:t(()=>[n(L,{text:"",disabled:!k.threadMax,style:{"font-size":"smaller"},bordered:!1,focusable:!1,onClick:g[0]||(g[0]=x=>i.value=!i.value)},{icon:t(()=>[n(v,null,{default:t(()=>[n(e(ho))]),_:1})]),default:t(()=>[T(" "+d(k.$t("settings.enableMultiThreads")),1)]),_:1},8,["disabled"]),n($,{value:i.value,"onUpdate:value":g[1]||(g[1]=x=>i.value=x),disabled:!k.threadMax,size:"small"},null,8,["value","disabled"])]),_:1}),n(w,{wrap:!1,align:"center",style:{"padding-left":"2em"}},{default:t(()=>[n(E,{value:l.value,"onUpdate:value":g[2]||(g[2]=x=>l.value=x),disabled:!k.threadMax||!i.value,step:1,min:2,max:k.threadMax,style:{width:"120px"}},null,8,["value","disabled","max"]),n(U,{onBlur:g[3]||(g[3]=x=>l.value??(l.value=2)),size:"tiny",value:l.value,"onUpdate:value":g[4]||(g[4]=x=>l.value=x),disabled:!k.threadMax||!i.value,step:1,min:2,max:k.threadMax,style:{width:"10em"}},{suffix:t(()=>[T(d(k.$t("threads",l.value)),1)]),_:1},8,["value","disabled","max"])]),_:1})]),_:1})]),default:t(()=>[T(" "+d(k.$t("settings.multiThreadsTooltip")),1)]),_:1},16),n(e(Se),et(tt(o)),{trigger:t(()=>[n(w,{vertical:""},{default:t(()=>[n(w,{wrap:!1,align:"center"},{default:t(()=>[n(L,{text:"",focusable:!1,style:{"white-space":"nowrap","font-size":"smaller"}},{icon:t(()=>[n(v,{style:{"vertical-align":"middle"}},{default:t(()=>[n(e(_o))]),_:1})]),default:t(()=>[T(" "+d(k.$t("settings.maxZipFileSize"))+": ",1)]),_:1})]),_:1}),n(w,{wrap:!1,align:"center",style:{"padding-left":"2em"}},{default:t(()=>[n(E,{tooltip:!1,value:u.value,"onUpdate:value":g[5]||(g[5]=x=>u.value=x),step:1,min:bt,max:Vt,style:{width:"120px"}},null,8,["value"]),n(U,{onBlur:g[6]||(g[6]=x=>u.value??(u.value=bt)),size:"tiny",value:u.value,"onUpdate:value":g[7]||(g[7]=x=>u.value=x),step:"1",min:bt,max:Vt,style:{width:"10em"}},{suffix:t(()=>[T("(MB)")]),_:1},8,["value"])]),_:1})]),_:1})]),default:t(()=>[T(" "+d(k.$t("settings.maxZipFileSizeTooltip")),1)]),_:1},16),n(e(Se),et(tt(o)),{trigger:t(()=>[n(w,{wrap:!1,align:"center"},{default:t(()=>[n(L,{text:"",style:{"font-size":"smaller"},bordered:!1,focusable:!1,onClick:g[8]||(g[8]=x=>f.value=!f.value)},{icon:t(()=>[n(v,null,{default:t(()=>[n(e(Pt))]),_:1})]),default:t(()=>[T(" "+d(k.$t("settings.useFolderNameForZip")),1)]),_:1}),n($,{value:f.value,"onUpdate:value":g[9]||(g[9]=x=>f.value=x),size:"small"},null,8,["value"])]),_:1})]),default:t(()=>[T(" "+d(k.$t("settings.useFolderNameForZipTooltip")),1)]),_:1},16),n(e(Se),et(tt(o)),{trigger:t(()=>[n(w,{wrap:!1,align:"center"},{default:t(()=>[n(L,{text:"",style:{"font-size":"smaller"},bordered:!1,focusable:!1,onClick:g[10]||(g[10]=x=>r.value=!r.value)},{icon:t(()=>[n(v,null,{default:t(()=>[n(e(sn))]),_:1})]),default:t(()=>[T(" "+d(k.$t("settings.retainOriginalExtension")),1)]),_:1}),n($,{value:r.value,"onUpdate:value":g[11]||(g[11]=x=>r.value=x),size:"small"},null,8,["value"])]),_:1})]),default:t(()=>[T(" "+d(k.$t("settings.retainExtTooltip")),1)]),_:1},16),n(e(Se),et(tt(o)),{trigger:t(()=>[n(w,{vertical:""},{default:t(()=>[n(w,{wrap:!1,align:"center"},{default:t(()=>[n(L,{disabled:!e(C),text:"",style:{"font-size":"smaller"},bordered:!1,focusable:!1,onClick:g[12]||(g[12]=x=>z.value=!z.value)},{icon:t(()=>[n(v,null,{default:t(()=>[n(e(yo))]),_:1})]),default:t(()=>[T(" "+d(k.$t("settings.shrinkImage")),1)]),_:1},8,["disabled"]),n($,{disabled:!e(C),value:z.value,"onUpdate:value":g[13]||(g[13]=x=>z.value=x),size:"small"},null,8,["disabled","value"])]),_:1}),n(w,{wrap:!1,align:"center",style:{"padding-left":"2em"}},{default:t(()=>[n(E,{value:b.value,"onUpdate:value":g[14]||(g[14]=x=>b.value=x),disabled:!z.value||!e(C),step:1,min:zl,max:qt,style:{width:"120px"}},null,8,["value","disabled"]),n(U,{size:"tiny",onBlur:g[15]||(g[15]=x=>b.value??(b.value=8)),value:b.value,"onUpdate:value":g[16]||(g[16]=x=>b.value=x),disabled:!z.value||!e(C),step:1,min:8,max:qt*4,style:{"max-width":"15em","text-align":"right"}},{prefix:t(()=>[h("span",xl,d(k.$t("width")),1)]),suffix:t(()=>[T("px")]),_:1},8,["value","disabled","max"])]),_:1}),n(w,{wrap:!1,align:"center",style:{"padding-left":"2em"}},{default:t(()=>[n(E,{value:S.value,"onUpdate:value":g[17]||(g[17]=x=>S.value=x),disabled:!z.value||!e(C),step:1,min:Il,max:Gt,style:{width:"120px"}},null,8,["value","disabled"]),n(U,{size:"tiny",onBlur:g[18]||(g[18]=x=>S.value??(S.value=8)),value:S.value,"onUpdate:value":g[19]||(g[19]=x=>S.value=x),disabled:!z.value||!e(C),step:1,min:8,max:Gt*4,style:{"max-width":"15em","text-align":"right"}},{prefix:t(()=>[h("span",Al,d(k.$t("height")),1)]),suffix:t(()=>[T("px")]),_:1},8,["value","disabled","max"])]),_:1})]),_:1})]),default:t(()=>[T(" "+d(k.$t("settings.shrinkImageTooltip")),1)]),_:1},16)]),_:1})]),_:1},8,["title"])]),_:2},[m.value?{name:"header-extra",fn:t(()=>[n(e(Se),{"keep-alive-on-hover":!1,duration:0,delay:0},{trigger:t(()=>[n(L,{onClick:e(Mo),size:"tiny",style:{"font-size":"xx-small"}},{default:t(()=>[T(d(k.$t("reset")),1)]),_:1},8,["onClick"])]),default:t(()=>[T(" "+d(k.$t("settings.resetButtonTooltip")),1)]),_:1})]),key:"0"}:void 0]),1032,["default-expanded-names","on-update:expanded-names","class"])]),_:1})}}}),Sl=Re(Tl,[["__scopeId","data-v-a8f8d2db"]]),Ll={},Cl={style:{color:"gray","padding-left":"20px"}},$l=["innerHTML"];function El(a,o){const m=St,i=Ee;return F(),X(i,{vertical:"",justify:"end"},{default:t(()=>[n(m,{style:{margin:"0px"}}),n(i,{justify:"center"},{default:t(()=>[h("ul",Cl,[(F(!0),ue(Le,null,Ge(a.$tm("descriptions"),l=>(F(),ue("li",{key:l,style:{"text-align":"left"},innerHTML:l},null,8,$l))),128))])]),_:1})]),_:1})}const Fl=Re(Ll,[["render",El]]),Ml="modulepreload",Pl=function(a){return"/avif2jpeg/dist/"+a},Kt={},he=function(o,m,i){let l=Promise.resolve();if(m&&m.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),f=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));l=Promise.allSettled(m.map(z=>{if(z=Pl(z),z in Kt)return;Kt[z]=!0;const b=z.endsWith(".css"),S=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${z}"]${S}`))return;const c=document.createElement("link");if(c.rel=b?"stylesheet":Ml,b||(c.as="script"),c.crossOrigin="",c.href=z,f&&c.setAttribute("nonce",f),document.head.appendChild(c),b)return new Promise((C,k)=>{c.addEventListener("load",C),c.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${z}`)))})}))}function u(r){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=r,window.dispatchEvent(f),!f.defaultPrevented)throw r}return l.then(r=>{for(const f of r||[])f.status==="rejected"&&u(f.reason);return o().catch(u)})},zn="English",In="🇬🇧",Tn='AVIF to JPEG "Offline" Batch Converter',Sn="It is a free web application to convert AVIF or WebP images to other common image formats such as JPEG or PNG without server communication.",Ln="Drag & Drop AVIF Images to Convert",Cn=["This is a free web application to batch convert AVIF(or WebP, etc) images to common image formats such as JPEG, PNG.","It uses a browser's built-in function for the conversions, so <strong>no data is sent to any server</strong>.","The converted images will be output as <strong>a zip file</strong> when multiple images are loaded.",'Requires <a href="https://caniuse.com/avif" target="_self" style="color:red">latest</a> version of Firefox or Chrome to load AVIF images.'],$n="Select your language",En="Choose Target File Extentions",Fn={avif_only:'Only ".avif" or ".webp"',all_images:"All Image Types",all_files:"All Types",edit_type:"Edit File Extension List"},Mn="Input a list of comma separated file extentions to load.<br>e.g.) .jpg,.gif,.png",Pn="Load Images",On="Select your images from a dialog window.<br>*Multiple selection allowed.",Un="Load a Whole Folder",Nn=`Convert all images in the selected folder and its subfolders, and add the converted images to a ZIP archive with relative path.<br>*It will show "Upload" button, but it actually doesn't upload anything to any server.`,Dn="Converting images",Rn="Aborted",jn="Some files failed to convert",Bn="Completed",Zn="Currently Busy",Hn="No files with the extentions were found.",Wn="Your browser does not support AVIF format. Please use latest version of Firefox or Chrome to convert AVIF images.",Vn="Cancel",qn="Save",Gn="Close",Kn="Open",Qn="Re-convert",Yn="Convert previous selected {n} @:files again",Xn="File | Files",Jn="thread | threads",ea="You have not saved the converted images yet.",ta="Data have not been saved",na="Open Source",aa="Open the converted image",oa="Copied to clipboard",ia="The converted image was copied to your clipboard as DataURL.",la="Copy the converted image as DataURL",sa="Convert Again",ra={expandLogTooltip:"Displaying the entire log may severely reduce conversion speed.",expandLog:"Show entire log",autoScroll:"Auto scroll",showOnlyErrors:"Show only errors",log:"Log",outInRate:"Out / In Ratio",elapsedTime:"Elapsed Time",multiThreading:"Multi-Threading",outputSettings:"Output Settings",totalSize:"Total Size",totalFiles:"Number of Files",confirmDownloadMessage:"It will start to download {0} zip files.",inputSize:"Input Size",outputSize:"Output Size",filterSuccess:"Hide completed item",progressErrors:"Failed items",progressStarted:"Started Items",progressTotal:"Total number of files",zippingProgress:"Zipping progress",zipped:"ZIPPED",openFailedList:"Open failed file list",zipFailedList:"Pack failed files into Zips",table:{index:"index",status:"status",core:"thread",details:"file"},saveFailedList:"Save failed file list",done:"done",convertedZips:"successfully completed ZIP",progressSuccess:"Completed Files",downloadConvertedImage:"Download Converted Image",failureZippingFailedFiles:"Failure while zipping the failed files.",browseConvertedImages:"Browse converted images",index:"Index",Original:"Original",Converted:"Converted",saveAllZipsTooltip:"Save all ZIP files",Shrinked:"Shrinked",Shrinking:"Shrinking"},ua={maxZipFileSize:"Max zip file size",retainExtTooltip:"New extension will be appended to original extension",retainOriginalExtension:"Keep Original File Extension",qualitytooltip:"Set image quality for output",quality:"Image Quality",maxZipFileSizeTooltip:"Set smaller value if memory problems occur.",ignoreExtTooltip:'Try to load files that don"t have image file extension',ignoreFileExtensions:"Load All File Types",imageTypeTooltip:"Choose image format for output",imageType:"Image Type",advancedSettings:"Advanced Settings",enableMultiThreads:"Enable multi-threading",resetButtonTooltip:"Restore all settings to default.",multiThreadsTooltip:"Convert images in multi-threaded",shrinkImageTooltip:"If the image dimensions are larger than the specified value, shrink the image to that value",shrinkImage:"Shrink images that exceed the following dimensions",useFolderNameForZip:"Use dropped folder name for the zip file",useFolderNameForZipTooltip:"If a folder is dropped or selected, its name is used as the name of the output ZIP file"},da="Disabled",ca="Download",pa="Reset",fa="Back",ga="Failed",ma="Success",va="Previous version",ha=`
Height`,_a="Width",ya="Don't show this message again",wa="About the warning when selecting a folder",ba="OK",ka={},xa="You must press the “Upload” button here to load all the images in the folder, but the data loaded by this application is never actually uploaded to the server.",Aa="Continue",za="Cancel",Ia="When you select a folder instead of a file as input on a website, major web browsers will display a warning like the image below.",Ta="This page may be an outdated version. Please reload the page.",Sa="Reload",La='If the conversion process frequently fails and an “Out of Memory” message appears, try reducing or disabling the number of "multi-threads" in the "Advanced Settings".',Ca={lang:zn,flags:In,title:Tn,metaDescription:Sn,droptarget:Ln,descriptions:Cn,selectLanguage:$n,fileTypeRadioTitle:En,fileTypeRadioOptions:Fn,editAcceptTypes:Mn,loadbutton:Pn,loadbuttontooltip:On,loadfolderbutton:Un,loadfoldertooltip:Nn,processing:Dn,aborted:Rn,incomplete:jn,completed:Bn,interfered:Zn,noimage:Hn,avifUnsupported:Wn,cancel:Vn,save:qn,close:Gn,open:Kn,reconvert:Qn,reconvertTip:Yn,files:Xn,threads:Jn,confirmCloseDialog:ea,confirmCloseDialogTitle:ta,githubOpenSource:na,convertedImageUrlTooltip:aa,copiedDataURLDialogTitle:oa,copiedDataURLMessage:ia,convertedImageDataUrlTooltip:la,convertAgain:sa,status:ra,settings:ua,disabled:da,Download:ca,reset:pa,back:fa,failed:ga,success:ma,previousVersion:va,height:ha,width:_a,checkboxTextDontShowThis:ya,loadfolderNotifyingTitle:wa,OK:ba,loadfolderNotifyingMessage:ka,loadfolderNotifyingMessageTerm2:xa,Continue:Aa,Cancel:za,loadfolderNotifyingMessageTerm1:Ia,errMsgWorkerLoadError:Ta,Reload:Sa,annotationOutOfMemory:La},Ol=Object.freeze(Object.defineProperty({__proto__:null,Cancel:za,Continue:Aa,Download:ca,OK:ba,Reload:Sa,aborted:Rn,annotationOutOfMemory:La,avifUnsupported:Wn,back:fa,cancel:Vn,checkboxTextDontShowThis:ya,close:Gn,completed:Bn,confirmCloseDialog:ea,confirmCloseDialogTitle:ta,convertAgain:sa,convertedImageDataUrlTooltip:la,convertedImageUrlTooltip:aa,copiedDataURLDialogTitle:oa,copiedDataURLMessage:ia,default:Ca,descriptions:Cn,disabled:da,droptarget:Ln,editAcceptTypes:Mn,errMsgWorkerLoadError:Ta,failed:ga,fileTypeRadioOptions:Fn,fileTypeRadioTitle:En,files:Xn,flags:In,githubOpenSource:na,height:ha,incomplete:jn,interfered:Zn,lang:zn,loadbutton:Pn,loadbuttontooltip:On,loadfolderNotifyingMessage:ka,loadfolderNotifyingMessageTerm1:Ia,loadfolderNotifyingMessageTerm2:xa,loadfolderNotifyingTitle:wa,loadfolderbutton:Un,loadfoldertooltip:Nn,metaDescription:Sn,noimage:Hn,open:Kn,previousVersion:va,processing:Dn,reconvert:Qn,reconvertTip:Yn,reset:pa,save:qn,selectLanguage:$n,settings:ua,status:ra,success:ma,threads:Jn,title:Tn,width:_a},Symbol.toStringTag,{value:"Module"})),Ul="Arabic",Nl="German",Dl="English",Rl="Spanish",jl="Finnish",Bl="French",Zl="Hindi",Hl="Indonesian",Wl="Italian",Vl="Japanese",ql="Korean",Gl="Dutch",Kl="Polish",Ql="Portuguese",Yl="Russian",Xl="Turkish",Jl="Ukrainian",es="Chinese",ts={ar:Ul,de:Nl,en:Dl,es:Rl,fi:jl,fr:Bl,hi:Zl,id:Hl,it:Wl,ja:Vl,ko:ql,nl:Gl,pl:Kl,pt:Ql,ru:Yl,tr:Xl,uk:Jl,"zh-hant":"Chinese(hant)",zh:es},ct=[],$a={en:Ca},Ut={},Qt=Object.assign({"./locales/ar.json":()=>he(()=>import("./ar-DulAVkEq.js"),[]),"./locales/de.json":()=>he(()=>import("./de-BJTSt9RM.js"),[]),"./locales/en.json":()=>he(()=>Promise.resolve().then(()=>Ol),void 0),"./locales/es.json":()=>he(()=>import("./es-CsZZkPWu.js"),[]),"./locales/fi.json":()=>he(()=>import("./fi-WUtrGq51.js"),[]),"./locales/fr.json":()=>he(()=>import("./fr-D53agxoI.js"),[]),"./locales/hi.json":()=>he(()=>import("./hi-BMdsixdA.js"),[]),"./locales/id.json":()=>he(()=>import("./id-DTkFKLZi.js"),[]),"./locales/it.json":()=>he(()=>import("./it-BLX-pTkN.js"),[]),"./locales/ja.json":()=>he(()=>import("./ja-CcnKe7cv.js"),[]),"./locales/ko.json":()=>he(()=>import("./ko-DwuWrtkW.js"),[]),"./locales/nl.json":()=>he(()=>import("./nl-CmqfTs60.js"),[]),"./locales/pl.json":()=>he(()=>import("./pl-BEXPA5FO.js"),[]),"./locales/pt.json":()=>he(()=>import("./pt-34jenMxv.js"),[]),"./locales/ru.json":()=>he(()=>import("./ru-C3lfmaIK.js"),[]),"./locales/tr.json":()=>he(()=>import("./tr-Kgxh-vV5.js"),[]),"./locales/uk.json":()=>he(()=>import("./uk-B7wqHzNd.js"),[]),"./locales/zh-hant.json":()=>he(()=>import("./zh-hant-D-vVYJTI.js"),[]),"./locales/zh.json":()=>he(()=>import("./zh-CawiifCH.js"),[])});var Yt;for(const a in Qt){const o=(Yt=a.match(/\/([a-z]{2}(?:-[a-z]+)?)\.json$/i))==null?void 0:Yt[1];o&&(ct.push(o),!(o in $a)&&(Ut[o]=Qt[a]))}let It=as();It in Ut||(It="en");const pt=wo({legacy:!1,globalInjection:!0,locale:It,fallbackLocale:"en",messages:$a,warnHtmlMessage:!1,missingWarn:!1,fallbackWarn:!1});async function ns(a){if(pt.global.availableLocales.indexOf(a)>=0)return;const o=await Ut[a]();pt.global.setLocaleMessage(a,o),await at()}function as(){const a=location.pathname;return String(a.match(/[^/]+(?=\/?$)/)||"").toLowerCase()}const os=["innerHTML"],is=ke({__name:"switch-lang",emits:["lang-ready","lang-change"],async setup(a,{emit:o}){let m,i;const l=Ye(Ze),u=Jt(),{locale:r,t:f}=De(),z=o,b=Object.entries(ts).map(([v,L])=>({label:L,value:v}));b.sort((v,L)=>{const $=v.label,w=L.label;return $>w?1:$<w?-1:0}),Fe(()=>{u.afterEach((v,L,$)=>{c(),l.switchToolTipVisibility()})}),on(async()=>{}),[m,i]=bo(()=>c()),await m,i();async function S(v){(v!==r.value||pt.global.availableLocales.indexOf(v)===-1)&&(z("lang-change",v),await ns(v),r.value=v,document.title=f("title"),await at()),z("lang-ready",v)}async function c(){const v=u.currentRoute.value.path||"",L=String(v.match(new RegExp("(?<=^\\/)[^/]+"))||"");L&&ct.includes(L)?(await S(L),r.value=L):await C()}async function C(){const v=k().toLowerCase(),L=v.split(/[-_]/)[0];if(ct.includes(L)){let $=L;if(L==="zh")switch(v){case"zh-hant":case"zh-mo":case"zh-hk":case"zh-tw":$="zh-hant"}await S($)}}function k(){const v=window.navigator;return v.language||v.userLanguage||v.browserLanguage}function g(v){u.push("/"+v+"/")}return(v,L)=>{const $=we,w=fn,E=Se;return F(),X(E,{to:!1,"display-directive":"show",show:e(l).showTooltipsBeforeMounted.value,trigger:"hover","keep-alive-on-hover":!1,placement:e(l).LANDSCAPE.value?"left":"bottom",duration:0,delay:50},{trigger:t(()=>[n(w,{ref:"langselect",size:"tiny",style:{width:"100%"},"consistent-menu-width":!1,options:e(b),"_v-model:value":"locale",value:e(r),"onUpdate:value":g},{arrow:t(()=>[n($,null,{default:t(()=>[n(e(ko))]),_:1})]),_:1},8,["options","value"])]),default:t(()=>[h("div",{innerHTML:v.$t("selectLanguage")},null,8,os)]),_:1},8,["show","placement"])}}}),ls=h("span",null,"CONVERT TO👇",-1),Ze=Symbol("global variables"),ss=ke({__name:"Avif2Jpeg",emits:["ready"],setup(a,{emit:o}){De();const m=o,i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile Safari/.test(navigator.userAgent),l=_(null),u=_(2);let r=_(void 0);const f=_(!0),z=_(!1),b=_(!1),S=_(!1),c=_(!1);xo(Ze,{showTooltipsBeforeMounted:r,LANDSCAPE:f,IS_SP:i,switchToolTipVisibility:$,SSR:!1}),Fe(()=>{w(),window.addEventListener("resize",w),$(),setTimeout(()=>b.value=!0,3e3)});const C=200;let k=0,g=!0;function v(){S.value=!1,k=Date.now()}function L(){const P=g?0:Math.max(0,C-(Date.now()-k));g=!1,setTimeout(()=>S.value=!0,P),m("ready")}async function $(){}function w(){const P=document.body.clientWidth,p=document.body.clientHeight;f.value=P*.75>p||P>900}function E(P){l.value=P}function U(P){c.value=P}return(P,p)=>{const x=Ee,B=we,oe=st,ee=Xe;return F(),X(ee,{vertical:"",align:"stretch",justify:"start",style:{height:"100%",position:"relative"}},{default:t(()=>[n(Wo,null,{"lang-switch":t(()=>[(F(),X(Ao,null,{default:t(()=>[n(is,{onLangChange:v,onLangReady:L})]),_:1}))]),_:1}),n(Ve,{name:"fade"},{default:t(()=>[e(S)?(F(),X(ee,{key:0,vertical:"",align:"stretch",justify:"space-between",style:{height:"100%"}},{default:t(()=>[n(Go),n(x,{justify:"center"},{default:t(()=>[n(wl,{expanded:e(j).expandExtButtons,"onUpdate:expanded":p[0]||(p[0]=O=>e(j).expandExtButtons=O),target:e(j).acceptTypeValue,"onUpdate:target":p[1]||(p[1]=O=>e(j).acceptTypeValue=O),userExtensions:e(j).editedAcceptTypes,"onUpdate:userExtensions":p[2]||(p[2]=O=>e(j).editedAcceptTypes=O),"disable-notifying-folder-select":e(j).disableNotifyingFolderSelect,"onUpdate:disableNotifyingFolderSelect":p[3]||(p[3]=O=>e(j).disableNotifyingFolderSelect=O),forbidden:e(z),onInput:E,onClick:p[4]||(p[4]=O=>U(!0)),onCancel:p[5]||(p[5]=O=>U(!1))},null,8,["expanded","target","userExtensions","disable-notifying-folder-select","forbidden"])]),_:1}),n(Xi,{input:e(l),format:e(j).imageFormat,quality:e(j).imageQuality,"retain-extension":e(j).retainExtension,maxZipSizeMB:e(j).maxZipSizeMB,threads:e(j).multithread?e(j).threadCount:0,"show-note":e(c),"onUpdate:showNote":p[6]||(p[6]=O=>Me(c)?c.value=O:null),onStart:p[7]||(p[7]=O=>z.value=!0),onEnd:p[8]||(p[8]=O=>z.value=!1),onMultiThreadCount:p[9]||(p[9]=O=>u.value=O)},null,8,["input","format","quality","retain-extension","maxZipSizeMB","threads","show-note"]),n(x,{vertical:"",align:"center"},{default:t(()=>[n(oe,{trigger:"manual",placement:"top","keep-alive-on-hover":!1,duration:0,delay:0},{trigger:t(()=>[n(B,{size:"4vh",color:"#DADADA",style:{margin:"0px"}},{default:t(()=>[n(e(zo))]),_:1})]),default:t(()=>[ls]),_:1})]),_:1}),n(x,{vertical:"",align:"center"},{default:t(()=>[n(kl,{format:e(j).imageFormat,"onUpdate:format":p[10]||(p[10]=O=>e(j).imageFormat=O),quality:e(j).imageQuality,"onUpdate:quality":p[11]||(p[11]=O=>e(j).imageQuality=O)},null,8,["format","quality"]),n(Sl,{"retain-ext":e(j).retainExtension,"onUpdate:retainExt":p[12]||(p[12]=O=>e(j).retainExtension=O),"use-folder-name-for-zip":e(j).useFolderNameForZip,"onUpdate:useFolderNameForZip":p[13]||(p[13]=O=>e(j).useFolderNameForZip=O),"max-zip-size":e(j).maxZipSizeMB,"onUpdate:maxZipSize":p[14]||(p[14]=O=>e(j).maxZipSizeMB=O),expanded:e(j).expandAdvSettings,"onUpdate:expanded":p[15]||(p[15]=O=>e(j).expandAdvSettings=O),multithread:e(j).multithread,"onUpdate:multithread":p[16]||(p[16]=O=>e(j).multithread=O),"thread-count":e(j).threadCount,"onUpdate:threadCount":p[17]||(p[17]=O=>e(j).threadCount=O),"thread-max":e(u)||0,"shrink-image":e(j).shrinkImage,"onUpdate:shrinkImage":p[18]||(p[18]=O=>e(j).shrinkImage=O),"max-width":e(j).maxWidth,"onUpdate:maxWidth":p[19]||(p[19]=O=>e(j).maxWidth=O),"max-height":e(j).maxHeight,"onUpdate:maxHeight":p[20]||(p[20]=O=>e(j).maxHeight=O)},null,8,["retain-ext","use-folder-name-for-zip","max-zip-size","expanded","multithread","thread-count","thread-max","shrink-image","max-width","max-height"])]),_:1}),n(Fl)]),_:1})):pe("",!0)]),_:1})]),_:1})}}}),Nt=ke({__name:"App",setup(a){const o={Statistic:{valueFontSize:"1em"},Popover:{borderRadius:"0.4em",boxShadow:"2px 2px 5px 0px #555555"},Tooltip:{},Image:{toolbarColor:"#00000099"}},m=_(!0);return Fe(()=>{m.value=!1}),(i,l)=>{const u=To,r=So,f=Lo,z=Co,b=$o,S=Io;return F(),X(S,{"theme-overrides":o,style:{width:"100%",height:"100%"}},{default:t(()=>[n(b,null,{default:t(()=>[n(z,{placement:"top-right",max:20},{default:t(()=>[n(f,{placement:"top-left",closable:!0,max:50},{default:t(()=>[n(r,null,{default:t(()=>[n(u,null,{default:t(()=>[n(ss,{class:ot({hide:e(m)})},null,8,["class"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),Ea=[{path:"/",name:"Home",component:Nt}];for(const a of ct)Ea.push({path:"/"+a+"/",strict:!0,name:a,component:Nt});Eo(Nt,{routes:Ea,base:"/avif2jpeg/dist/"},({app:a,router:o,routes:m,isClient:i,initialState:l})=>{a.use(pt)});
