var Ea=Object.defineProperty;var Fa=(a,l,g)=>l in a?Ea(a,l,{enumerable:!0,configurable:!0,writable:!0,value:g}):a[l]=g;var je=(a,l,g)=>Fa(a,typeof l!="symbol"?l+"":l,g);import{r as ut,d as be,i as qe,o as M,c as G,w as t,a as n,u as e,b as $,t as u,N as ye,_ as qt,e as ze,L as Ma,f as _,g as se,h,F as Ie,j as We,B as ke,k as xt,l as X,m as Oa,n as Ua,p as Le,q as At,s as Gt,v as we,x as Pa,y as xe,z as yt,A as wt,C as zt,D as It,E as Fe,G as ue,T as Be,H as Kt,I as Qt,J as Ze,K as Yt,M as Ge,O as He,P as dt,Q as Jt,R as Ce,S as Xt,U as Xe,V as de,W as Na,X as Da,Y as Tt,Z as mt,$ as Ut,a0 as ot,a1 as Ra,a2 as en,a3 as St,a4 as ja,a5 as tn,a6 as Ba,a7 as nn,a8 as vt,a9 as $e,aa as et,ab as Za,ac as Wa,ad as Ha,ae as Va,af as an,ag as on,ah as Lt,ai as $t,aj as qa,ak as ln,al as Ga,am as Ka,an as tt,ao as Qa,ap as Ya,aq as Se,ar as Ja,as as Xa,at as eo,au as to,av as Ct,aw as no,ax as ao,ay as oo,az as lo,aA as sn,aB as io,aC as so,aD as rn,aE as un,aF as Ye,aG as Je,aH as ro,aI as uo,aJ as co,aK as po,aL as fo,aM as go,aN as mo,aO as vo,aP as ho,aQ as _o,aR as yo,aS as wo,aT as bo,aU as ko,aV as xo,aW as Ao,aX as zo,aY as Io,aZ as To}from"./vendor-DJshNPBh.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function g(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=g(i);fetch(i.href,r)}})();const So={imageFormat:"image/jpeg",imageQuality:90,expandExtButtons:!1,acceptTypeValue:void 0,editedAcceptTypes:"",expandAdvSettings:!1,retainExtension:!1,maxZipSizeMB:1e3,useFolderNameForZip:!1,multithread:!0,threadCount:void 0,shrinkImage:!1,maxWidth:4096,maxHeight:4096,disableNotifyingFolderSelect:!1},R=ut(dn({}));function Lo(){dn(R)}function dn(a){return Object.assign(a,So)}const cn="avif2jpeg",ht=JSON.parse(localStorage.getItem(cn)||"{}");for(const a in R)ht.hasOwnProperty(a)&&ht[a]!==void 0&&(R[a]=ht[a]);window.addEventListener("unload",()=>{const a={};for(const l in R)a[l]=R[l];localStorage.setItem(cn,JSON.stringify(a))});const $o=be({__name:"github",setup(a){const l=qe(Pe);return(g,o)=>{const i=ye,r=qt,s=ze;return M(),G(s,{to:!1,"display-directive":"show",show:e(l).showTooltipsBeforeMounted.value,trigger:"hover",duration:0,delay:0},{trigger:t(()=>[n(r,{href:"https://github.com/gitcobra/avif2jpeg",style:{color:"black","font-size":"small","font-weight":"bolder"}},{default:t(()=>[n(i,null,{default:t(()=>[n(e(Ma))]),_:1}),$("GitHub")]),_:1})]),default:t(()=>[$(" "+u(g.$t("githubOpenSource")),1)]),_:1},8,["show"])}}}),Co=h("h3",null,"Used Framework and Libraries",-1),Eo=["href"],Fo=be({__name:"licenses",setup(a){const l=_(!1),g={Vue:"https://github.com/vuejs/core/blob/main/LICENSE",Vite:"https://github.com/vitejs/vite/blob/main/LICENSE","Vite SSG":"https://github.com/antfu/vite-ssg/blob/main/LICENSE","Naive UI":"https://github.com/TuSimple/naive-ui/blob/main/LICENSE",Ionicons:"https://github.com/ionic-team/ionicons/blob/main/LICENSE"};return(o,i)=>{const r=ke;return M(),se(Ie,null,[n(r,{text:"",onClick:i[0]||(i[0]=s=>l.value=!0),style:{color:"black","font-size":"small"}},{default:t(()=>[$("Licenses")]),_:1}),n(e(xt),{preset:"dialog",ref:"dialog",show:l.value,"onUpdate:show":i[1]||(i[1]=s=>l.value=s),"positive-text":"OK",title:"Licenses"},{default:t(()=>[Co,h("ul",null,[(M(),se(Ie,null,We(g,(s,f)=>h("li",null,[h("a",{href:s},u(f),9,Eo)])),64))])]),_:1},8,["show"])],64)}}}),Mo=1,Oo=7,Uo=22,Po="",it={major:Mo,minor:Oo,build:Uo,tag:Po},No={style:{"font-size":"x-small","user-select":"none"}},Do=be({__name:"version",setup(a){const l=["0.0.118"],g=`${it.major}.${it.minor}.${it.build}${it.tag}`,o=l.map(f=>({label:`v${f}`,key:f,value:f}));function i(f){const{key:T,label:b}=f,x=s(T),c=X("a",{href:x},b),C=X("div",null,c);return X("div",null,C)}function r(f){location.href=s(f)}function s(f){return`/avif2jpeg/old/${f}/`}return(f,T)=>{const b=Oa;return M(),G(b,{"show-arrow":!0,trigger:"click",size:"small",placement:"bottom-start",options:e(o),"render-label":i,"onUpdate:value":r},{header:t(()=>[h("span",No,u(f.$t("previousVersion")),1)]),default:t(()=>[h("span",{style:{cursor:"pointer"}},"v"+u(g))]),_:1},8,["options"])}}}),Ro=be({__name:"header",setup(a){return(l,g)=>{const o=Le,i=At;return M(),G(o,{vertical:"",justify:"start"},{default:t(()=>[n(o,{justify:"space-between",style:{"box-sizing":"border-box",padding:"4px",margin:"0px"}},{default:t(()=>[n(o,{align:"start"},{default:t(()=>[n($o),n(Do),n(o,{align:"center"},{default:t(()=>[n(Fo)]),_:1})]),_:1}),n(o,{align:"end",style:{"font-size":"x-small"}},{default:t(()=>[Ua(l.$slots,"lang-switch")]),_:3})]),_:3}),n(i,{style:{margin:"0px"}})]),_:3})}}}),jo={style:{padding:"0px",margin:"0px","text-align":"center"}},Bo={key:0},Zo=be({__name:"title",setup(a){const l=Gt(),g=we(()=>{const o=l.currentRoute.value.path||"";return!String(o.match(new RegExp("(?<=^\\/)[^/]+"))||"")});return(o,i)=>{const r=qt,s=Pa("router-link"),f=Le;return M(),G(f,{align:"center",justify:"center",style:{margin:"0px"}},{default:t(()=>[h("h1",jo,[e(g)?(M(),se("span",Bo,u(o.$t("title")),1)):(M(),G(s,{key:1,to:"../",custom:""},{default:t(({navigate:T,href:b})=>[n(r,{href:b,onClick:T,style:{color:"black","word-break":"keep-all","overflow-wrap":"break-word"}},{default:t(()=>[$(u(o.$t("title")),1)]),_:2},1032,["href","onClick"])]),_:1}))])]),_:1})}}}),Wo="/avif2jpeg/dist/outofmemory.png";function Ho(a){return new Worker("/avif2jpeg/dist/assets/worker.canvas-qU8eg9KM.js",{name:a==null?void 0:a.name})}let pn=0;class Vo extends Ho{constructor(){super(...arguments);je(this,"id",pn++)}release(){pt(this)}}const bt=[],Ve=new Set,nt=new Map,at=new Map,ct=new Set;function qo(a,l){const g=new Vo;bt.push(g);{const o=Promise.resolve(g);Ve.add(o),nt.set(g,o)}return g}function Go(a){const l=new Promise(g=>{at.set(a,g)});Ve.add(l),nt.set(a,l),ct.add(a)}async function Ko(){let a,l;do a=await Promise.any(Ve);while(ct.has(a));return l=nt.get(a),nt.delete(a),Ve.delete(l),Go(a),a}function pt(a){const l=at.get(a);l&&(at.delete(a),ct.delete(a),l(a))}function fn(){for(const a of at.keys())pt(a)}async function Pt(){return await Promise.all(Ve)}function Nt(){fn();for(const a of bt)a.terminate();bt.length=0,Ve.clear(),nt.clear(),at.clear(),ct.clear(),pn=0}function Qo(a){return new Worker("/avif2jpeg/dist/assets/worker.zip-D4CHLUmx.js",{name:a==null?void 0:a.name})}const Yo=1e3*10,Jo=1,Xo=10,el=1024*1024*4,tl=100;async function nl(a,l,g,o,i,r,s,f,T,b,x,c){const C=new Set,k=new Map,p=new Map,m=new Map,F=Math.min(g.threads-1,s.length);Nt();const A=new Qo,I=al(A,a,l,f,k,m);A.postMessage({action:"set-config",zipSize:g.maxZipSizeMB*1024*1024,keepExt:g.retainExtension,outputExt:x,imageType:c});const E=ol(a,l,o,i,r,s,f,p,k,C,g,x,m);let O;for(let q=0;q<F;q++){const le=qo();O??(O=le),le.onmessage=E;const{port1:ne,port2:L}=new MessageChannel;A.postMessage({action:"set-port"},[ne]),le.postMessage({},[L])}if(!await new Promise(q=>{const le=y=>{A.removeEventListener("message",w),O.removeEventListener("message",w),clearTimeout(D),q(y)};let ne=!1,L=!1;const w=y=>{y.target===A&&(ne=!0),y.target===O&&(L=!0),ne&&L&&le(!0)};let D=0;A.addEventListener("message",w),O.addEventListener("message",w),D=window.setTimeout(()=>le(!1),Yo)}))return{exception:new Error("worker-load-error"),callbackToClearConverter:()=>{},callbackToGenerateFailedZips:()=>{}};const S=xe(l,q=>{q&&(S(),fn())});a.demandImage=q=>{A.postMessage({action:"request-image",index:q})};const Q=s.length===1;let ee=0,U=0,Z="",j=0;for(;j<s.length;){const q=await Ko();if(l.value){pt(q);break}const le=[];let ne=!1;const L=s.length-j,w=Math.min(j+Math.max(Math.min(Xo,L/g.threads|0),1),s.length);let D=0,y=!1;const P=Date.now();for(P-U>tl&&(U=P,y=!0);j<w&&!(D>el);j++){const N=s[j],J=N._id;D+=N.size,ne=j===s.length-1,k.has(J)||k.set(J,N),le.push({index:j,file:N,fileId:J,outputPath:Z,type:T,quality:b/100,demandThumbnail:y||ne,isSingleImage:Q,maxSize:R.shrinkImage?{width:R.maxWidth,height:R.maxHeight}:null,webkitRelativePath:N.webkitRelativePath}),N.webkitRelativePath||N.name,p.has(N)||(ee++,a.index=ee),y=!1}if(q.postMessage(le),ne&&(await Pt(),l.value))break}if(await Pt(),!l.value){let q;await new Promise(le=>{q=xe([()=>a.done,l],()=>{(a.done>=ee||l.value)&&le(void 0)},{immediate:!0})}),q()}A.postMessage({action:"squeeze"}),await I,S();const te={value:!1},pe=()=>{te.value=!0,Nt(),A.terminate()};let V=!1;return{callbackToClearConverter:pe,callbackToGenerateFailedZips:async q=>{V||(V=!0,await ll(q,A,te,a))}}}function al(a,l,g,o,i,r){return new Promise(f=>{a.onmessage=T=>{var p;const b=T.data,{action:x}=b;if(x==="add-zip-completed"){const{fileId:m}=b;l.done++,l.success++,o.add(m);return}if(x==="respond-image"){const{url:m,index:F,path:A,size:I,fileId:E}=b;l.convertedImageUrl=m,l.convertedImageSize=I,l.convertedImageIndex=F,l.convertedImageName=A,l.convertedImageFileId=E;let O="",z=0,v="";if(E>=0){const S=i.get(E);O=URL.createObjectURL(S),z=S.size,v=S.name}l.convertedImageOrgUrl=O,l.convertedImageOrgSize=z,l.convertedImageOrgName=v,l.convertedImageShrinked=(p=r.get(E))==null?void 0:p.shrinked;return}const{size:c,count:C}=b,k="url"in T.data?T.data.url:"";switch(x){case"push-zip":l.zips.push({url:k,size:c,count:C}),l.zippedTotalCount+=C,l.zippedTotalSize+=c;break;case"squeeze-zip":C>0&&(l.zips.push({url:k,size:c,count:C}),l.zippedTotalCount+=C,l.zippedTotalSize+=c),f(void 0);break;case"push-filelist":l.failedFileZippedCount++;break;case"squeeze-filelist-zip":l.failedZipDone=!0;case"push-filelist-zip":l.failedZips.push({url:k,size:c,count:C});break;case"zip-error":case"zip-squeeze-error":l.zippingErrorCount+=C,x==="zip-squeeze-error"&&f(void 0);break}}})}function ol(a,l,g,o,i,r,s,f,T,b,x,c,C){let k=0;const p=_(new Map),m=_(new Map);return A=>{const I=A.target,{data:E}=A,{action:O}=E;if(l.value)switch(O){case"file-canceled":a.done++;return}switch(O){case"list-start":break;case"file-start":{const{index:z,path:v,fileId:S}=E,W={key:k++,core:I.id,index:z,path:v,command:"➡️started"};p.value.set(I.id,W),a.logs.push(W);break}case"file-load":{const{thumbnail:z,width:v,height:S,fileId:W,shrinked:Q}=E;p.value.get(I.id).command="🖼️loaded",z&&(a.thumbnail=z);let ee=C.get(W);ee||(ee={},C.set(W,{})),ee.shrinked=Q,C.set(W,ee);break}case"file-converted":{const{index:z,path:v,fileId:S}=E,W=p.value.get(I.id);W.command="🔃converted",m.value.set(S,W),a.converted++;break}case"file-completed":{const{inputsize:z,outputsize:v,fileId:S}=E;a.inputTotalSize+=z,a.outputTotalSize+=v;const W=m.value.get(S);W&&(W.command="✅completed",W.completed=!0);break}case"file-error":{const{index:z,path:v,fileId:S}=E,W=T.get(S);if(!W)throw new Error(`the file doesn't exist in the Map. "${S}":"${v}"`);const Q=f.get(W)||0,ee=p.value.get(I.id);Q<Jo?(f.set(W,Q+1),r.push(W),ee.command="⚠️retrying",ee.error=!0,o.warning(`retrying "${v}"`,{duration:3e3})):(a.done++,a.failure++,ee.command="❗failed",ee.error=!0,i.error({content:`failed to load "${v}"`,duration:5e3}));break}case"file-canceled":{const{fileId:z,path:v}=E,S=m.value.get(z);a.done++,a.failure++,S.command="❗zip-aborted",S.error=!0;break}case"list-end":{pt(I);break}}}}async function ll(a,l,g,o){let i=0;for(const r of a){const s=(r.webkitRelativePath||r.name).replace(/^\//,"");if(g.value)return;i-o.failedFileZippedCount>20&&await new Promise(f=>setTimeout(f,10)),l.postMessage({action:"add-filelist",file:r,path:s}),i++}l.postMessage({action:"squeeze-filelist"})}function Ue(a,l=2){const g=Math.sign(a);a=Math.abs(a);const o=["Bytes","KB","MB","GB"],i=a?Math.floor(Math.log(a)/Math.log(1024)):0;return`${(a/Math.pow(1024,i)*g).toFixed(l)}${o[i]}`}function gn(a,l=100,g=!1){l=typeof l=="number"?{width:l,height:l}:l;const{width:o,height:i}=l;let{width:r,height:s}=a;const f=r/s,T=o/i;return f>=T?(r=g?Math.min(o,r):o,s=r/f|0):(s=g?Math.min(i,s):i,r=s*f|0),{width:r,height:s}}class il{constructor(){je(this,"_currentFileCount",0);je(this,"_totalFileCount",0);je(this,"_zipLengthSumList",[]);je(this,"_pathBank",{})}increase(l){l&&(this._pathBank[l]=[this._zipLengthSumList.length,this._currentFileCount]),this._currentFileCount++,this._totalFileCount++}split(){this._zipLengthSumList.push(this._totalFileCount),this._currentFileCount=0}get(l){if(typeof l=="number"){let g=this._zipLengthSumList.findIndex((r,s)=>l<r);g===-1&&(g=this._zipLengthSumList.length);const o=this._zipLengthSumList[g-1]||0,i=l-o;return[g,i]}else{const g=this._pathBank[String(l)];if(g)return g}return null}}async function sl(a,l,g,o,i,r){let s="";const f=document.createElement("canvas"),T=f.getContext("2d");let b=new yt;const x=[b],c=new il,C=o.format,k=o.quality/100,p=[...C.matchAll(/.+\/(.+)/g)][0][1].replace(/jpeg/,"jpg"),m=a.length,F=o.maxZipSizeMB*1024*1024;let A=0,I=null,E="",O="",z=0,v=0,S=0,W=0,Q=0,ee=!1;const U=[];r.demandImage=V=>{const[fe,q]=c.get(V),le=x[fe];r.convertedImageIndex=V,r.convertedImageName=le.getPathByIndex(q),r.convertedImageUrl=URL.createObjectURL(new Blob([le.get(q)],{type:C}));let ne="",L=0,w="";const D=U[V];ne=URL.createObjectURL(D),L=D.size,w=D.name,r.convertedImageOrgUrl=ne,r.convertedImageOrgSize=L,r.convertedImageOrgName=w};for(const V of a){if(i.value)break;const fe=V.name;let q="";const le=V.size,ne=(V.webkitRelativePath||V.relativePath||fe).replace(/^\//,""),L=document.createElement("img");A++;const w={key:S++,core:-1,index:A,path:ne,command:"➡️start"};r.index=A,r.logs.push(w),r.logs.length-1;let D;s&&(URL.revokeObjectURL(s),s=""),s=URL.createObjectURL(V),O=s,z=V.size,L.src=s;const y=await mn(L).then(()=>!0).catch(()=>!1);if(!L.complete||!y||i.value){r.done++,r.failure++,w.command="❗failed";continue}const P=L.width,N=L.height;if(f.width=P,f.height=N,T.drawImage(L,0,0,P,N,0,0,P,N),w.command="🖼️imgload",r.thumbnail=L,D=await new Promise(Y=>{const he=ie=>{I=ie,Y(ie==null?void 0:ie.arrayBuffer())};f.toBlob(he,C,k)}),i.value)break;if(!D){r.failure++;continue}v=D.byteLength,r.converted++;let J="";if(Q+v>=F){try{J=b.url()}catch{ee=!0,alert("memory problem occurred");break}r.zips.push({url:J,size:Q,count:W}),r.zippedTotalCount+=W,r.zippedTotalSize+=Q,Q=0,W=0,c.split(),b=new yt,x.push(b)}Q+=v;const re=ne||fe;for(let Y=1;Y<255&&(q=re.replace(o.retainExtension?"":/\.(jpe?g|gif|png|avif|webp|bmp)$/i,"")+(Y>1?`(${Y})`:"")+"."+p,!!b.has(q));Y++);r.done++;try{W++,b.add(q,D),c.increase(),U.push(V),r.inputTotalSize+=le,r.outputTotalSize+=v}catch{continue}E=q,r.success++,w.command="✅completed",w.completed=!0,l.add(V._id)}if(r.success>0)if(m===1)I&&(r.convertedImageIndex=0,r.convertedImageName=E.replace(/^.*\/(?=[^/]+$)/,"").replace(o.retainExtension?"":/\.(jpe?g|gif|png|avif|webp|bmp)$/i,"")+"."+p,r.convertedImageUrl=URL.createObjectURL(I),r.convertedImageOrgUrl=O,r.convertedImageOrgSize=z);else try{if(ee)throw new Error("terminated zipping process for memory problems");const V=b.url();r.zips.push({url:V,count:W,size:Q}),r.zippedTotalCount+=W,r.zippedTotalSize+=Q}catch{}const Z={value:!1},j=()=>{Z.value=!0,x.forEach(V=>V.clear()),x.length=0,U.length=0};let te=!1;return{callbackToClearConverter:j,callbackToGenerateFailedZips:async V=>{te||(te=!0,rl(V,F,r,Z))}}}async function rl(a,l,g,o){let i=0,r=0,s=new yt;for(let f=0;f<a.length;f++){const T=a[f],b=(T.webkitRelativePath||T.name).replace(/^\//,"");if(o.value)return;if(await s.add(b,T),r+=T.size,i++,g.failedFileZippedCount++,r>=l||f===a.length-1){await s.zip();const x=s.url();g.failedZips.push({url:x,size:r,count:i}),s.clear(),r=0,i=0}}g.failedZipDone=!0}function mn(a){if(typeof a.onload>"u")throw new Error(`it doesn't have "onload" property.`);return new Promise((l,g)=>{a.onload=l,a.onerror=g})}const Me=(a,l)=>{const g=a.__vccOpts||a;for(const[o,i]of l)g[o]=i;return g},ul=a=>(zt("data-v-5dab19ad"),a=a(),It(),a),dl={class:"container"},cl=ul(()=>h("span",{class:"text"},"ZIP",-1)),pl={__name:"zipicon",setup(a){return(l,g)=>(M(),se("span",dl,[n(e(ye),null,{default:t(()=>[n(e(wt))]),_:1}),cl]))}},fl=Me(pl,[["__scopeId","data-v-5dab19ad"]]),gl=["href","download","title"],ml=be({__name:"thumbnail",props:{src:{},width:{},height:{},maxWidth:{default:100},maxHeight:{default:100},expand:{type:Boolean,default:!1},loading:{type:Boolean},fileName:{},allowNext:{type:Boolean},allowPrev:{type:Boolean}},emits:["load","error","next","prev"],setup(a,{expose:l,emit:g}){Fe();const o=a,i=g;l({download:m,openPreview:F});const r=_(),s=_(!0),f=_(""),T=_(100),b=_(100),x=_(!1),c=ut({width:"100px",height:"100px",minWidth:"50px",minHeight:"50px"});xe(o,(A,I)=>{c.width=(o.width||100)+"px",c.height=(o.height||100)+"px"}),xe(()=>o.src,()=>{p(o.src)},{immediate:!0});async function C(A){const I=A.target,E=I.naturalWidth,O=I.naturalHeight,{width:z,height:v}=gn({width:E,height:O},{width:o.maxWidth||100,height:o.maxHeight||100},o.expand);T.value=z,b.value=v,i("load",{src:I.src,width:E,height:O}),s.value=!1,await new Promise(S=>setTimeout(S,100)),!s.value&&(x.value=!0)}function k(A){const I=A.target;i("error",I.src)}async function p(A){s.value=!0,x.value=!1,await new Promise(I=>setTimeout(I,150)),f.value=A}function m(){const A=document.createElement("a");A.href=f.value,A.download=o.fileName,A.click()}function F(){var A,I,E,O;try{(I=(A=r.value)==null?void 0:A.previewInstRef)==null||I.setPreviewSrc(o.src),(O=(E=r.value)==null?void 0:E.previewInstRef)==null||O.toggleShow(!0)}catch{}}return(A,I)=>{const E=Yt,O=Ge,z=He;return M(),G(e(ze),null,{trigger:t(()=>[n(z,{show:e(s)||o.loading},{default:t(()=>[n(O,{justify:"center",align:"center",style:ue(e(c))},{default:t(()=>[h("a",{href:e(f),onClick:I[0]||(I[0]=Ze(()=>{},["left","prevent"])),target:"_blank",download:o.fileName,title:o.fileName,style:{"line-height":"0px"}},[n(Be,{mode:"in-out"},{default:t(()=>[Kt(n(E,{ref_key:"nImageRef",ref:r,"show-toolbar-tooltip":"","_:render-toolbar":"renderToolbar",onLoad:C,onError:k,src:e(f),width:e(T),height:e(b),style:{border:"1px solid silver"}},null,8,["src","width","height"]),[[Qt,e(x)]])]),_:1})],8,gl)]),_:1},8,["style"])]),_:1},8,["show"])]),default:t(()=>[$(" "+u(o.fileName),1)]),_:1})}}}),Dt=Me(ml,[["__scopeId","data-v-fc8adbf9"]]),vl={style:{"font-weight":"bold",color:"gray"}},hl={style:{"font-weight":"bold",color:"gray"}},_l=["href","download"],yl=["href"],wl={style:{"font-size":"0.8em"}},bl=be({__name:"image-viewer",props:{url:{},originalUrl:{},name:{},originalName:{},size:{},originalSize:{},length:{},index:{},isSingle:{type:Boolean},variousInfo:{}},emits:["demand-image"],setup(a,{expose:l,emit:g}){const o=a,i=g;l({download:te});const r=_(),s=_(),f=_(),T=dt(),{t:b}=Fe();Jt();const x=_(!0),c=_(1),C=_(1),k=_(1);_(0);const p=_(""),m=_(1),F=_(1),A=_(!1),I=_(!1),E=_(!1),O=we(()=>{var L,w;return((w=(L=f==null?void 0:f.value)==null?void 0:L.previewInstRef)==null?void 0:w.previewSrc)===p.value}),z=we(()=>c.value<o.length),v=we(()=>c.value>1);let S=-1;xe(c,()=>{c.value<1||c.value>o.length||(clearTimeout(S),S=setTimeout(()=>{o.index!==c.value-1&&(i("demand-image",c.value-1),A.value=!0,I.value=!1,E.value=!1)},100))}),xe(()=>o.index,()=>{var w,D;let L="";if(o.index===0&&x.value?(x.value=!1,c.value=1,L=o.url):o.index===c.value-1&&(A.value=!1,L=o.url),L){try{(D=(w=f.value)==null?void 0:w.previewInstRef)!=null&&D.displayed&&(O.value?f.value.previewInstRef.setPreviewSrc(L):f.value.previewInstRef.setPreviewSrc(o.originalUrl))}catch{}p.value=L}},{immediate:!0});let W="",Q="";xe(()=>o.url,()=>{if(o.url!==W){const L=W,w=Q;setTimeout(()=>{URL.revokeObjectURL(L),URL.revokeObjectURL(w)},1e3),W=o.url,Q=o.originalUrl}o.isSingle&&(x.value=!1,p.value=o.url)}),Ce(()=>{o.isSingle,i("demand-image",0),document.body.addEventListener("keydown",U),document.body.addEventListener("keydown",ee)}),Xt(()=>{document.body.removeEventListener("keydown",U),document.body.removeEventListener("keydown",ee)});function ee(L){var w,D,y,P;if(L.key==="Escape")try{(D=(w=f.value)==null?void 0:w.previewInstRef)!=null&&D.displayed&&(L.stopPropagation(),(P=(y=f.value)==null?void 0:y.previewInstRef)==null||P.toggleShow(!1))}catch{}}function U(L){var w,D;switch(L.key){case"ArrowRight":case"PageDown":V(1);break;case"ArrowLeft":case"PageUp":V(-1);break;case"ArrowUp":case"Home":c.value=1;break;case"ArrowDown":case"End":c.value=o.length;break;case" ":case"Enter":q();break;default:return}L.stopPropagation(),(D=(w=f.value)==null?void 0:w.previewInstRef)!=null&&D.displayed&&L.preventDefault()}function Z({width:L,height:w}){C.value=L,k.value=w,I.value=!0}function j({width:L,height:w}){m.value=L,F.value=w,E.value=!0}function te(){O.value?r.value.download():s.value.download()}async function pe(L){try{const w=await fetch(L).then(D=>D.blob()).then(D=>new Promise(y=>{const P=new FileReader;P.onload=y,P.readAsDataURL(D)})).then(D=>D.target.result);navigator.clipboard.writeText(w),T.info({title:b("copiedDataURLDialogTitle"),content:()=>X("div",[X("div",b("copiedDataURLMessage"))]),positiveText:"OK"})}catch{T.error({title:"failed to copy Data URL",content:"could not copy Data URL",positiveText:"OK"})}}function V(L){L>0&&c.value<o.length&&c.value++,L<0&&c.value>1&&c.value--}let fe="";const q=()=>{var w,D,y,P,N,J;fe=(y=window.getComputedStyle((D=(w=f==null?void 0:f.value)==null?void 0:w.previewInstRef)==null?void 0:D.previewRef))==null?void 0:y.transform;const L=O.value;(J=(N=(P=f==null?void 0:f.value)==null?void 0:P.previewInstRef)==null?void 0:N.handleSwitchNext)==null||J.call(N),Xe(()=>{var re,Y,he;O.value===L&&((he=(Y=(re=f==null?void 0:f.value)==null?void 0:re.previewInstRef)==null?void 0:Y.handleSwitchNext)==null||he.call(Y))})};function le(){try{Xe(()=>f.value.previewInstRef.previewRef.style.transform=fe)}catch{}}function ne({nodes:L}){const w=X(Tt,{color:O.value?"green":"gray",offset:[-20,-12],value:(O.value?b("status.Converted"):b("status.Original"))+" "+c.value},()=>X(ke,{round:!0,onClick(){q()},textColor:"white",size:"small",style:{marginLeft:"4px"}},{icon:()=>X(O.value?Na:Da)}));L.next=X(ke,{onClick(){V(1)},disabled:!z.value,circle:!0,textColor:"white",size:"tiny",style:{marginLeft:"4px"}},{icon:()=>X(mt)}),L.prev=X(ke,{onClick(){V(-1)},disabled:!v.value,circle:!0,textColor:"white",size:"tiny",style:{marginLeft:"4px"}},{icon:()=>X(Ut)});try{const D=L.download.children;D.default=()=>b("save");const y=D.trigger();y.props.onClick=te,D.trigger=()=>y}catch{}return[w,...Object.values(L)]}return(L,w)=>{const D=Le,y=Ge,P=ye,N=ot,J=Ra,re=en,Y=St,he=He;return M(),G(he,{size:"large",show:x.value},{default:t(()=>[n(y,{justify:"center",align:"center",vertical:"",style:ue({visibility:x.value?"hidden":"visible"})},{default:t(()=>[n(y,{align:"center",wrap:!1},{default:t(()=>[n(J,{ref_key:"nImageGroupRef",ref:f,"show-toolbar-tooltip":"","render-toolbar":ne,onPreviewNext:le},{default:t(()=>[n(y,{align:"center",justify:"center",wrap:!1},{default:t(()=>[n(y,{align:"center",justify:"center",vertical:""},{default:t(()=>[n(y,{align:"center",justify:"center",wrap:!1,style:{"font-size":"smaller"},class:"original-thumb"},{default:t(()=>[n(Dt,{ref_key:"thumbOrgRef",ref:s,src:L.originalUrl,width:100,"max-width":100,"max-height":80,loading:A.value,"file-name":L.originalName,"allow-next":c.value<o.length,"allow-prev":c.value>1,onLoad:j,onNext:w[0]||(w[0]=ie=>V(1)),onPrev:w[1]||(w[1]=ie=>V(-1))},null,8,["src","loading","file-name","allow-next","allow-prev"]),n(D,{vertical:"",align:"center"},{default:t(()=>[h("span",vl,u(e(b)("status.Original")),1),n(D,{justify:"center",style:{"white-space":"nowrap","font-family":"v-mono"}},{default:t(()=>[$(u(String(m.value).padStart(4," "))+" × "+u(String(F.value).padStart(4," ")),1)]),_:1}),n(D,{justify:"center"},{default:t(()=>[$(u(e(Ue)(o.originalSize,0)),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(y,{style:{margin:"1em"},class:"original-thumb"},{default:t(()=>[n(P,{size:"48",color:"silver"},{default:t(()=>[n(e(mt))]),_:1})]),_:1}),n(y,{vertical:"",align:"center",justify:"center"},{default:t(()=>[n(y,{align:"center",justify:"center",wrap:!1},{default:t(()=>[n(Dt,{ref_key:"thumbConvRef",ref:r,src:p.value,width:140,"max-width":140,"max-height":100,loading:A.value,"file-name":o.name,"allow-next":c.value<o.length,"allow-prev":c.value>1,onLoad:Z,onNext:w[2]||(w[2]=ie=>V(1)),onPrev:w[3]||(w[3]=ie=>V(-1))},null,8,["src","loading","file-name","allow-next","allow-prev"]),n(y,{vertical:"",align:"center"},{default:t(()=>[n(y,{justify:"center",align:"center",size:0},{default:t(()=>[h("span",hl,u(e(b)("status.Converted")),1)]),_:1}),n(y,{justify:"center",wrap:!0},{default:t(()=>[o.url?(M(),G(N,{key:0,"display-directive":"show",trigger:"hover",duration:0,delay:0},{trigger:t(()=>[h("a",{href:o.url,ref:"saveImg",target:"_blank",download:o.name},[n(e(ke),{round:"",size:"tiny"},{default:t(()=>[$(u(L.$t("save")),1)]),_:1})],8,_l)]),default:t(()=>[$(" "+u(L.$t("save")),1)]),_:1})):de("",!0),o.url?(M(),G(N,{key:1,"display-directive":"show",trigger:"hover",duration:0,delay:0},{trigger:t(()=>[h("a",{href:o.url,target:"_self"},[n(e(ke),{onClick:w[4]||(w[4]=Ze(ie=>pe(o.url),["left","prevent","stop"])),round:"",size:"tiny"},{default:t(()=>[$("DataURL")]),_:1})],8,yl)]),default:t(()=>[$(" "+u(L.$t("convertedImageDataUrlTooltip")),1)]),_:1})):de("",!0)]),_:1}),n(y,{vertical:"",align:"center",justify:"center",size:0},{default:t(()=>[n(y,{justify:"center",style:{"white-space":"nowrap","font-family":"v-mono"}},{default:t(()=>{var ie;return[h("span",{style:ue((ie=o.variousInfo)!=null&&ie.shrinked?{color:"blue"}:{})},u(String(C.value).padStart(4," "))+" × "+u(String(k.value).padStart(4," ")),5)]}),_:1}),n(y,{style:{color:"gray","font-size":"xx-small"}},{default:t(()=>{var ie;return[$(u((ie=o.variousInfo)!=null&&ie.shrinked?"("+L.$t("status.Shrinked")+")":"-"),1)]}),_:1})]),_:1}),n(y,{justify:"center"},{default:t(()=>[$(u(e(Ue)(o.size,0)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1}),n(y,{ref:"fileNameContainer",justify:"center",style:{"max-width":"320px"},title:o.name},{default:t(()=>[n(re,{"x-scrollable":!0,trigger:"hover",style:{"font-size":"smaller",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},{default:t(()=>[$(u(o.name),1)]),_:1})]),_:1},8,["title"]),L.isSingle?de("",!0):(M(),G(y,{key:0,style:{"font-family":"v-mono"},align:"center"},{default:t(()=>[h("span",wl,u(e(b)("status.index"))+":",1),$(" "+u(c.value)+" / "+u(o.length),1)]),_:1})),L.isSingle?de("",!0):(M(),G(y,{key:1,align:"center",justify:"center"},{default:t(()=>[n(e(ke),{onClick:w[5]||(w[5]=ie=>V(-1)),disabled:!e(v),circle:!0,size:"small"},{icon:t(()=>[n(P,null,{default:t(()=>[n(e(Ut))]),_:1})]),_:1},8,["disabled"]),n(Y,{value:c.value,"onUpdate:value":w[6]||(w[6]=ie=>c.value=ie),tooltip:!1,step:1,min:1,max:o.length,style:{width:"180px"}},null,8,["value","max"]),n(e(ke),{onClick:w[7]||(w[7]=ie=>V(1)),disabled:!e(z),circle:!0,size:"small"},{icon:t(()=>[n(P,null,{default:t(()=>[n(e(mt))]),_:1})]),_:1},8,["disabled"])]),_:1}))]),_:1},8,["style"])]),_:1},8,["show"])}}}),kl=Me(bl,[["__scopeId","data-v-12759e74"]]),xl={key:0},Al={style:{"font-size":"smaller"}},zl={class:"log-table"},Il={class:"log-tr"},Tl={class:"log-th"},Sl={class:"log-th"},Ll={style:{"min-width":"7em"},class:"log-th"},$l={style:{"padding-left":"2em"},class:"log-th"},Cl={class:"log-td"},El={class:"log-td"},Fl={class:"log-td"},Ml={class:"log-td"},Ol={style:{margin:"1px"}},Ul=["href","download","onClick"],Pl={key:0,style:{position:"relative"}},Nl=["href","download"],Dl=["href","download"],Rl={key:0,style:{margin:"1px"}},jl=["href","download","onClick"],Rt=99999,Bl=100,Zl=be({__name:"status",props:{processing:{type:Boolean},status:{},interval:{}},emits:["all-zips-clicked","demand-zip-errors","demand-image"],setup(a,{emit:l}){const g=dt(),{t:o}=Fe(),i=Jt(),r={W:160,H:80},s=a,f=l,T=_(!1),b=_([]),x=_(!1),c=_([]),C=_([]),k=_([0,0]),p=_([0,0]),m=_([0,0]),F=_([0,0]),A=_([0,0]),I=_([0,0]),E=_(0),O=_([0,0]),z=_(i.value.infoColor),v=_("#000000"),S=_("#000000"),W=_(0),Q=_(0),ee=_(""),U=_("00:00:00");_(""),_("");const Z=_(void 0),j=_(!1),te=_(!0),pe=_(!1),V=we(()=>j.value?le.value:q.value),fe=_("16em"),q=_(5),le=_(1e3),ne=_(!0),L=_(!1),w=ut({name:"",originalName:"",size:0,url:"",originalUrl:"",originalSize:0,dataUrl:"",index:-1,various:{shrinked:!1}}),D=_(null),y=_(null),P=_(),N=_();Ce(()=>{xe(s.status,()=>he(),{deep:!1}),xe([y,ne],()=>{if(!y.value||!ne.value)return;const{width:_e,height:Ae}=gn(y.value,{width:r.W,height:r.H});D.value.width=_e,D.value.height=Ae,D.value.style.width=_e+"px",D.value.style.height=Ae+"px",y.value instanceof HTMLImageElement?D.value.getContext("2d").drawImage(y.value,0,0,_e,Ae):(D.value.getContext("bitmaprenderer").transferFromImageBitmap(y.value),y.value=null,s.status.thumbnail=null)});let d=0;const H=()=>{if(d)return;const _e=Date.now();U.value="00:00:00",d=window.setInterval(()=>{const Ae=(Date.now()-_e)/1e3;U.value=`${String(Ae/3600|0).padStart(2,"0")}:${String(Ae/60%60|0).padStart(2,"0")}:${String(Ae%60|0).padStart(2,"0")}`},300)};H(),xe(()=>s.processing,(_e,Ae)=>{_e?(H(),b.value=[],T.value=!1,x.value=!1,c.value=[],C.value=[]):(clearInterval(d),he(),d=0),ne.value=!1,L.value=!0,s.processing||ie()});const ae=Za();let K;const oe=()=>{clearTimeout(K),K=setTimeout(()=>{if(!ne.value||ce)return;const _e=P.value.$parent.$el.offsetHeight,Ae=window.innerHeight-ae.parent.parent.vnode.el.offsetHeight-8;fe.value=Math.max(_e+Ae,50)+"px"},100)};oe(),window.addEventListener("resize",oe);const ge=new ResizeObserver(oe);ge.observe(ae.parent.parent.vnode.el);let ce=!1;ja(()=>{ce=!0,ge.disconnect(),clearInterval(d),clearTimeout(K),clearTimeout(Y),clearTimeout(Ke),window.removeEventListener("resize",oe)})}),xe([()=>s.status.zips.length,()=>s.status.failedZips.length],()=>{const d=s.status;{c.value.length>d.zips.length&&(c.value.length=0);let H=0;const ae=d.zips.length===1&&d.zippedTotalCount===d.length;for(let K=c.value.length;K<d.zips.length;K++){const oe=d.zips[K],ge=d.baseZipName+(ae?"":"-"+String(K+1).padStart(2,"0"))+".zip";H+=oe.size,c.value[K]={url:oe.url,size:oe.size,number:ae?0:K+1,sizeByUnit:Ue(oe.size),name:ge,count:oe.count,clicked:!1}}}{C.value.length>d.failedZips.length&&(C.value.length=0);let H=0;const ae=d.failedZipDone&&d.failedZips.length===1;for(let K=C.value.length;K<d.failedZips.length;K++){const oe=d.failedZips[K],ge=d.baseZipName+"-error"+(ae?"":"-"+String(K+1).padStart(2,"0"))+".zip";H+=oe.size,C.value[K]={url:oe.url,size:oe.size,number:ae?0:K+1,sizeByUnit:Ue(oe.size),name:ge,count:oe.count,clicked:!1}}}});const J=s.interval||100;let re=!1,Y=0;function he(){if(re)return;if(Y){re=!0;return}Y=window.setTimeout(()=>{Y=0,re&&(re=!1,he())},J);const d=s.status;T.value=d.length>=2,p.value[1]=p.value[0],p.value[0]=d.index,m.value[1]=m.value[0],m.value[0]=d.success,F.value[1]=F.value[0],F.value[0]=d.failure,A.value[1]=A.value[0],A.value[0]=d.done,I.value[1]=I.value[0],I.value[0]=d.converted,E.value=d.length,O.value[1]=O.value[0],O.value[0]=d.zippedTotalCount,W.value=d.inputTotalSize,Q.value=d.outputTotalSize;const H=Q.value-W.value;ee.value=(H>=0?"+ ":"")+Ue(H);const ae=Q.value/W.value,K=(256|Math.min(255,Math.max(0,ae-1.5)*255|0)).toString(16).substring(1);v.value="#"+K+"0000";const oe=1024*1024,ge=(256|Math.min(255,Math.max(0,H/1024/oe)*255|0)).toString(16).substring(1);if(S.value="#"+ge+"0000",k.value[1]=k.value[0],k.value[0]=m.value[0]/E.value*100,ne.value||!s.processing){const ce=d.logs.slice(-Rt);b.value.push(...ce);const _e=b.value.length-Rt;_e>0&&b.value.splice(0,_e),te.value&&ce.length&&lt(),b.value.length>le.value&&(le.value*=2)}d.logs.length=0,y.value=d.thumbnail,s.processing&&(z.value=F.value[0]?i.value.warningColor:i.value.infoColor),d.convertedImageUrl!==w.url&&(w.url=d.convertedImageUrl,w.name=d.convertedImageName,w.dataUrl=d.convertedImageDataUrl,w.size=d.convertedImageSize||d.outputTotalSize,w.originalSize=d.convertedImageOrgSize,w.originalName=d.convertedImageOrgName,w.index=d.convertedImageIndex,w.originalUrl=d.convertedImageOrgUrl,w.various={shrinked:d.convertedImageShrinked})}function ie(){const d=s.status;z.value=s.status.success===s.status.length?i.value.successColor:i.value.errorColor,d.unconvertedFileCount>0,F.value[0]>0||(m.value[0],E.value)}const Ne=we(()=>[{key:"open",label:o("status.openFailedList"),icon:()=>X(ye,()=>X(tn)),onSelect(){De()}},{key:"download",label:o("status.saveFailedList"),icon:()=>X(ye,()=>X(Ba)),onSelect(){De(!0)}},{key:"zip",label:`${o("status.zipFailedList")}`+(s.status.failedZipDone?`(✔${o("status.done")})`:""),icon:()=>X(He,{show:x.value&&!s.status.failedZipDone,size:"small"},()=>X(ye,()=>X(wt))),disabled:x.value,onSelect(d){return x.value=!0,f("demand-zip-errors"),!1}}]);function ve(d,H=!1){const{url:ae,name:K}=d;if(H){const oe=document.createElement("a");oe.href=ae,oe.download=K,oe.click()}d.clicked||(d.clicked=!0,s.processing||c.value.every(oe=>oe.clicked)&&f("all-zips-clicked"))}async function Oe(){if(T.value){if(c.value.length>=2&&!await new Promise((ae,K)=>g.warning({title:o("Download"),content:o("status.confirmDownloadMessage",[c.value.length]),positiveText:"OK",negativeText:o("cancel"),onPositiveClick:()=>ae(!0),onNegativeClick:()=>K()})))return;const d=c.value;for(const H of d)ve(H,!0)}else N.value.download()}function De(d=!1){const H=new Blob([s.status.unconvertedListText],{type:"text/plain;charset=utf8"}),ae=URL.createObjectURL(H),K=document.createElement("a");K.href=ae,K.target="_blank",d&&(K.download=s.status.baseZipName+"-error.txt"),K.click()}let Ke=0,Te=!1;function lt(d=!1){if(!Te){if(Ke){Te=!0;return}Xe(()=>{!d&&(!j.value||!te.value)||(P.value.scrollTo({behavior:d?"instant":"smooth",top:b.value.length*50}),Ke=window.setTimeout(()=>{Ke=0,Te&&(Te=!1,lt())},Bl))})}}return(d,H)=>{const ae=Le,K=Wa,oe=Ha,ge=ot,ce=Ge,_e=Va,Ae=an,ft=ze,Ia=on,Ta=Lt,Sa=$t,La=At,Qe=ke,$a=fl,Mt=Tt,Ca=qa;return M(),G(ce,{vertical:"",justify:"center"},{default:t(()=>[n(ae,{justify:"center",align:"center",wrap:!1,style:{"white-space":"nowrap"}},{default:t(()=>[n(ae,{vertical:"",justify:"center",class:"left-column"},{default:t(()=>[n(K,{"tabular-nums":"",label:d.$t("status.elapsedTime")},{default:t(()=>[n(ae,null,{default:t(()=>[$(u(e(U)),1)]),_:1})]),_:1},8,["label"]),n(K,{"tabular-nums":"",label:d.$t("status.multiThreading")},{default:t(()=>[n(ae,{style:ue({color:s.status.threads?"":"red"})},{default:t(()=>[$(u(s.status.threads?d.$rt("{n} @:threads",s.status.threads):d.$t("disabled")),1)]),_:1},8,["style"])]),_:1},8,["label"]),n(K,{"tabular-nums":"",label:d.$t("status.outputSettings")},{default:t(()=>[n(ae,{vertical:"",justify:"end",style:{"font-size":"smaller","line-height":"1em"}},{default:t(()=>[h("div",null,u(d.$t("settings.imageType"))+": "+u(s.status.type),1),d.status.shrink?(M(),se("div",xl,[$(u(d.$t("status.Shrinking"))+": ",1),h("span",Al,u(d.status.shrink[0])+"×"+u(d.status.shrink[1]),1)])):de("",!0),h("div",null,"Zip: "+u(s.status.zipSize)+"MB",1)]),_:1})]),_:1},8,["label"])]),_:1}),n(_e,{type:"multiple-circle","stroke-width":1,percentage:[e(m)[0]/e(E)*100|0,e(p)[0]/e(E)*100|0],color:[e(i).successColor,e(z)],"rail-style":[{stroke:d.processing?e(i).successColor:e(z),opacity:.3},{stroke:e(z),opacity:.3}],class:"center-column"},{default:t(()=>[n(ae,{vertical:"",align:"center",style:{"font-family":"v-mono","font-size":"xx-large","white-space":"nowrap"},wrap:!1,"wrap-item":!1},{default:t(()=>[h("span",{style:ue({color:e(F)[0]?e(z):d.processing?e(i).successColor:e(z)})},[n(oe,{duration:e(J)*3|0,from:e(k)[1]|0,to:e(k)[0]|0,active:!0},null,8,["duration","from","to"]),$("% ")],4),n(ce,{wrap:!1,style:{border:"0px solid"}},{default:t(()=>[n(ce,{vertical:"",size:"small",justify:"end"},{default:t(()=>[n(ce,{justify:"end",wrap:!1},{default:t(()=>[e(F)[0]>0?(M(),G(ge,{key:0,trigger:"hover",duration:0,delay:0,style:ue({color:e(i).errorColor}),placement:"left"},{trigger:t(()=>[h("span",{style:ue({fontSize:"xx-small",color:e(i).errorColor,lineHeight:"0"})}," ("+u(e(F)[0].toLocaleString("en-us"))+") ",5)]),default:t(()=>[$(" "+u(d.$t("status.progressErrors"))+" ("+u(e(F)[0].toLocaleString("en-us"))+") ",1)]),_:1},8,["style"])):de("",!0),n(ge,{trigger:"hover",duration:0,delay:0,style:ue({color:e(i).infoColor}),placement:"left"},{trigger:t(()=>[h("span",{style:ue({fontSize:"xx-small",color:e(i).infoColor,lineHeight:"0"})},u(e(p)[0].toLocaleString("en-us")),5)]),default:t(()=>[$(" "+u(d.$t("status.progressStarted"))+" ("+u(e(p)[0].toLocaleString("en-us"))+") ",1)]),_:1},8,["style"])]),_:1}),n(ce,{justify:"end"},{default:t(()=>[n(ge,{trigger:"hover",duration:0,delay:0,style:ue({color:e(i).successColor}),placement:"bottom"},{trigger:t(()=>[h("span",{style:ue({fontSize:"medium",color:e(i).successColor})},[n(oe,{duration:e(J)*3|0,from:e(m)[1],to:e(m)[0],active:!0,"show-separator":!0},null,8,["duration","from","to"])],4)]),default:t(()=>[$(" "+u(d.$t("status.progressSuccess"))+" ("+u(e(m)[0].toLocaleString("en-us"))+") ",1)]),_:1},8,["style"])]),_:1})]),_:1}),n(ce,{align:"end",style:{"font-size":"medium",border:"0px solid"}},{default:t(()=>[n(ge,{trigger:"hover",duration:0,delay:0,placement:"bottom"},{trigger:t(()=>[$(" / "+u(e(E).toLocaleString("en-us")),1)]),default:t(()=>[$(" "+u(d.$t("status.progressTotal"))+" ("+u(e(E).toLocaleString("en-us"))+") ",1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["percentage","color","rail-style"]),n(ae,{vertical:"",style:{height:"100%"},justify:"center"},{default:t(()=>[n(K,{"tabular-nums":"",label:d.$t("status.inputSize")},{default:t(()=>[n(ae,{justify:"end",wrap:!1,style:{"font-family":"v-mono"}},{default:t(()=>[$(u((e(W)/1024|0).toLocaleString("en-us"))+" KB",1)]),_:1})]),_:1},8,["label"]),n(K,{"tabular-nums":"",label:d.$t("status.outputSize")},{default:t(()=>[n(ae,{justify:"end",wrap:!1,style:{"font-family":"v-mono"}},{default:t(()=>[$(u((e(Q)/1024|0).toLocaleString("en-us"))+" KB",1)]),_:1})]),_:1},8,["label"]),n(K,{"tabular-nums":"",label:d.$t("status.outInRate")},{default:t(()=>[n(ae,{vertical:"",align:"end",justify:"start",style:{"font-size":"xx-small","font-family":"v-mono","line-height":"50%"}},{default:t(()=>[h("span",{style:ue({color:e(v),fontSize:"larger"})},"× "+u((e(Q)/e(W)||1).toFixed(2)),5),h("span",{style:ue({color:e(S)})},"("+u(e(ee))+")",5)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1}),n(Sa,{"display-directive":"show","trigger-areas":["arrow","main"],"default-expanded-names":"log-collapse","expanded-names":e(ne)?["log-collapse"]:[],"on-update:expanded-names":B=>{ne.value=!!String(B)}},{default:t(()=>[n(Ta,{title:"Log",name:"log-collapse",style:{"white-space":"nowrap"}},nn({header:t(()=>[n(ce,{align:"center",wrap:!1},{default:t(()=>[$(u(d.$t("status.log")),1),d.processing&&!e(ne)?(M(),G(e(He),{key:0,size:16})):de("",!0)]),_:1})]),default:t(()=>[n(ce,{wrap:!1,class:et({"log-container":1,"expand-log":e(j)}),align:"stretch",style:ue(e(j)?{height:e(fe),maxHeight:e(fe)}:{})},{default:t(()=>[n(e(en),{ref_key:"scrollref",ref:P,"x-scrollable":!0,onMouseup:H[5]||(H[5]=B=>te.value=!1),onWheel:H[6]||(H[6]=B=>te.value=!1),trigger:"none",style:ue([{"z-index":"2","padding-right":"10px","min-height":"7em"},{maxHeight:e(fe)}]),size:50},{default:t(()=>[h("table",zl,[h("tr",Il,[h("th",Tl,u(d.$t("status.table.core")),1),h("th",Sl,u(d.$t("status.table.index")),1),h("th",Ll,u(d.$t("status.table.status")),1),h("th",$l,u(d.$t("status.table.details")),1)]),(M(!0),se(Ie,null,We((e(pe)?e(b).filter(B=>!B.completed):e(b)).slice(-e(V)),({index:B,key:Re,command:Ee,path:gt,core:Ot})=>(M(),se("tr",{key:Re,class:"log-tr"},[h("td",Cl,u(Ot>=0?Ot+1:"-"),1),h("td",El,u(B+1),1),h("td",Fl,u(Ee),1),h("td",Ml,u(gt),1)]))),128))])]),_:1},8,["style"]),n(ce,{style:ue([{"align-self":"center",position:"absolute","z-index":"0","margin-top":"0.5em",right:"0.1em","line-height":"0px"},{width:r.W+"px",height:r.H+"px"}]),justify:"center",align:"center"},{default:t(()=>[n(e(He),{size:"small",show:d.processing},{default:t(()=>[s.status.thumbnail===void 0?(M(),G(Ia,{key:0,description:"EMPTY"})):de("",!0),Kt(h("canvas",{ref_key:"thumbcanvas",ref:D,width:"106",height:"80",style:ue({border:"1px solid gray",filter:d.processing?"":"opacity(0.35)"})},null,4),[[Qt,s.status.thumbnail!==void 0]])]),_:1},8,["show"])]),_:1},8,["style"])]),_:1},8,["class","style"])]),_:2},[e(ne)?{name:"header-extra",fn:t(()=>[n(ce,{align:"center",wrap:!1},{default:t(()=>[n(vt,null,{default:t(()=>[n(Ae,{key:"a",checked:e(pe),"onUpdate:checked":H[0]||(H[0]=B=>$e(pe)?pe.value=B:null),size:"small",style:{"font-size":"smaller"},class:"hide-mobile"},{default:t(()=>[$(u(d.$t("status.filterSuccess")),1)]),_:1},8,["checked"]),e(j)?(M(),G(Ae,{key:"b",checked:e(te),"onUpdate:checked":[H[1]||(H[1]=B=>$e(te)?te.value=B:null),H[2]||(H[2]=B=>B&&lt(!0))],size:"small",style:{"font-size":"smaller"}},{default:t(()=>[$(u(d.$t("status.autoScroll")),1)]),_:1},8,["checked"])):de("",!0)]),_:1}),n(ft,{style:{"max-width":"30em"}},{trigger:t(()=>[n(Ae,{size:"small",checked:e(j),"onUpdate:checked":[H[3]||(H[3]=B=>$e(j)?j.value=B:null),H[4]||(H[4]=B=>{te.value=B,lt(!0)})],style:{"font-size":"smaller"}},{default:t(()=>[$(u(d.$t("status.expandLog")),1)]),_:1},8,["checked"])]),default:t(()=>[$(u(d.$t("status.expandLogTooltip")),1)]),_:1})]),_:1})]),key:"0"}:void 0]),1024)]),_:1},8,["expanded-names","on-update:expanded-names"]),n(La,{style:{margin:"0.2em"}}),n(ce,{wrap:!1,vertical:""},{default:t(()=>[n(ce,{justify:"center",align:"center",vertical:""},{default:t(()=>[h("div",{class:"singleimage",style:ue({maxHeight:e(L)?"2000px":"100px"})},[!e(L)&&e(T)?(M(),G(Qe,{key:0,tertiary:"",type:"success",size:"small",disabled:!(d.status.success>0),onClick:H[7]||(H[7]=B=>L.value=!0)},{default:t(()=>[$(u(d.$t("status.browseConvertedImages")),1)]),_:1},8,["disabled"])):d.status.success>0?(M(),G(kl,{key:1,ref_key:"imageViewer",ref:N,url:e(w).url,size:e(w).size,"original-url":e(w).originalUrl,"original-size":e(w).originalSize,name:e(w).name,originalName:e(w).originalName,length:s.status.success,index:e(w).index,"various-info":e(w).various,"is-single":!e(T),onDemandImage:H[8]||(H[8]=B=>f("demand-image",B))},null,8,["url","size","original-url","original-size","name","originalName","length","index","various-info","is-single"])):de("",!0)],4)]),_:1}),n(ce,{justify:"center"},{default:t(()=>[e(T)?(M(),G(ce,{key:0,vertical:"",align:"center"},{default:t(()=>[n(ge,{placement:"left"},{trigger:t(()=>[n(_e,{type:"line","indicator-placement":"inside",color:"lime","rail-color":"rgba(99, 255, 99, 0.5)","indicator-text-color":e(O)[0]===e(E)?"white":"green",processing:d.processing,percentage:e(O)[0]/e(E)*100|0,style:{width:"300px","font-weight":"bold","font-family":"v-mono"}},{default:t(()=>[h("span",Ol,u(e(O)[0]/e(E)*100|0)+"% "+u(d.$t("status.zipped"))+" ("+u(e(O)[0])+"/"+u(e(I)[0])+")",1)]),_:1},8,["indicator-text-color","processing","percentage"])]),default:t(()=>[$(" "+u(d.$t("status.zippingProgress"))+" ("+u(e(O)[0]/e(E)*100|0)+"%) ",1)]),_:1}),n(Be,{name:"zipcontainer"},{default:t(()=>[e(c).length>=1||s.processing?(M(),G(vt,{key:0,name:"zips",class:"zip-buttons-parent",tag:"n-flex"},{default:t(()=>[(M(!0),se(Ie,null,We(e(c),(B,Re)=>(M(),se("span",{key:Re},[n(ge,{trigger:"hover",duration:0,delay:0},{trigger:t(()=>[h("a",{href:B.url,download:B.name,class:"in-button-anchor",onClick:Ee=>ve(B)},[n(Qe,{class:"zip-button",size:"tiny",color:B.clicked?"#050":"lime","text-color":B.clicked?"gray":"white",onClick:Ze(Ee=>ve(B),["stop"]),round:""},{default:t(()=>[n(e(ye),{size:"tiny"},{default:t(()=>[n(e(wt))]),_:1}),$("ZIP"+u(B.number||""),1)]),_:2},1032,["color","text-color","onClick"])],8,Ul)]),default:t(()=>[h("div",{style:ue({color:e(i).successColor})},[h("div",null,"ZIP "+u(B.number||"")+" ("+u(d.$t("success"))+")",1),h("div",null,u(B.name),1),h("div",null,u(B.sizeByUnit),1),h("div",null,u(d.$rt("{n} @:files",B.count)),1)],4)]),_:2},1024)]))),128))]),_:1})):de("",!0)]),_:1})]),_:1})):de("",!0)]),_:1}),n(Be,null,{default:t(()=>[s.processing?de("",!0):(M(),G(ce,{key:0,justify:"center",align:"center"},{default:t(()=>[n(ge,{trigger:"hover",duration:0,delay:0,placement:"left",style:ue({color:"white",backgroundColor:e(i).successColor}),"arrow-style":{backgroundColor:e(i).successColor}},{trigger:t(()=>[n(Be,{name:"save"},{default:t(()=>[e(m)[0]>0?(M(),se("span",Pl,[n(Mt,{value:e(T)?e(O)[0].toLocaleString("en-us"):s.status.type.replace(/\(.+\)/,""),color:e(i).successColorHover,offset:[-20,-3]},{default:t(()=>[n(Qe,{size:"medium",onClick:Oe,color:e(i).successColor,round:""},{default:t(()=>[e(T)?(M(),se(Ie,{key:0},[e(c).length?(M(),se("a",{key:0,href:e(c)[0].url,download:e(c)[0].name,class:"in-button-anchor",onClick:H[9]||(H[9]=Ze(()=>{},["prevent"]))},[n($a),$(" × "+u(e(c).length)+" "+u(d.$t("save")),1)],8,Nl)):de("",!0)],64)):(M(),se("a",{key:1,href:e(w).url,download:e(w).name,class:"in-button-anchor",onClick:H[10]||(H[10]=Ze(()=>{},["prevent"]))},[n(e(ye),{size:"tiny"},{default:t(()=>[n(e(ln))]),_:1}),$(" "+u(d.$t("save")),1)],8,Dl))]),_:1},8,["color"])]),_:1},8,["value","color"])])):de("",!0)]),_:1})]),default:t(()=>[d.status.length>=2?(M(),se(Ie,{key:0},[h("div",null,u(e(o)("success"))+": "+u(e(O)[0].toLocaleString()),1),h("div",null,u(e(o)("status.totalSize"))+": "+u(e(Ue)(d.status.zippedTotalSize)),1),h("div",null,"ZIP × "+u(e(c).length),1),h("div",null,u(e(o)("status.saveAllZipsTooltip")),1)],64)):(M(),se(Ie,{key:1},[$(u(d.$t("status.downloadConvertedImage",e(c).length)),1)],64))]),_:1},8,["style","arrow-style"]),!d.processing&&d.status.success!==e(E)?(M(),G(Ca,{key:0,options:e(Ne),onSelect:H[11]||(H[11]=(B,Re)=>{var Ee;return(Ee=e(Ne).find(({key:gt})=>B===gt))==null?void 0:Ee.onSelect()}),"show-arrow":!0,trigger:"click",size:"small",placement:"bottom-start"},{default:t(()=>[n(ge,{show:e(Z),duration:0,delay:0,placement:"right",style:ue({color:"white",backgroundColor:e(i).errorColor}),"arrow-style":{backgroundColor:e(i).errorColor}},{trigger:t(()=>[n(Mt,{value:d.status.unconvertedFileCount.toLocaleString(),color:e(i).errorColorHover,offset:[-0,-3]},{default:t(()=>[n(Qe,{size:"small",color:e(i).errorColor},{default:t(()=>[n(e(ye),{size:"medium",style:{"vertical-align":"middle"}},{default:t(()=>[n(e(Ga))]),_:1})]),_:1},8,["color"])]),_:1},8,["value","color"])]),default:t(()=>[h("div",null,[h("div",null,u(e(o)("failed"))+": "+u(d.status.unconvertedFileCount.toLocaleString()),1),h("div",null,u(e(o)("status.totalSize"))+": "+u(e(Ue)(d.status.unconvertedTotalSize)),1)])]),_:1},8,["show","style","arrow-style"])]),_:1},8,["options"])):de("",!0)]),_:1}))]),_:1}),n(Be,{name:"zipcontainer"},{default:t(()=>[e(x)?(M(),G(ce,{key:0,vertical:"",align:"center"},{default:t(()=>[n(ge,{placement:"left"},{trigger:t(()=>[n(_e,{type:"line","indicator-placement":"inside",color:"red","rail-color":"rgba(255, 0, 0, 0.5)","indicator-text-color":d.status.failedFileZippedCount===d.status.unconvertedFileCount?"white":"#500",processing:e(x)&&!d.status.failedZipDone&&!d.status.failedToCreateFailedZip,percentage:d.status.failedFileZippedCount/d.status.unconvertedFileCount*100|0,style:{width:"300px","font-weight":"bold","font-family":"v-mono"}},{default:t(()=>[d.status.failedToCreateFailedZip?(M(),se("div",{key:1,style:ue({color:e(i).errorColor})},u(d.$t("status.failureZippingFailedFiles")),5)):(M(),se("span",Rl,u(d.status.failedFileZippedCount/d.status.unconvertedFileCount*100|0)+"% "+u(d.$t("status.zipped"))+" ("+u(d.status.failedFileZippedCount)+"/"+u(d.status.unconvertedFileCount)+")",1))]),_:1},8,["indicator-text-color","processing","percentage"])]),default:t(()=>[$(" "+u(d.$t("status.zippingProgress"))+" ("+u(d.status.failedFileZippedCount/d.status.unconvertedFileCount*100|0)+"%) ",1)]),_:1}),n(vt,{name:"zips",class:"zip-buttons-parent",tag:"n-flex"},{default:t(()=>[(M(!0),se(Ie,null,We(e(C),(B,Re)=>(M(),se("span",{key:Re},[n(ge,{trigger:"hover",duration:0,delay:0},{trigger:t(()=>[h("a",{href:B.url,download:B.name,class:"in-button-anchor",onClick:Ee=>ve(B)},[n(Qe,{class:"zip-button",size:"tiny",color:B.clicked?"#551122":"#F00","text-color":B.clicked?"gray":"white",onClick:Ze(Ee=>ve(B),["stop"]),round:""},{default:t(()=>[n(e(ye),{size:"tiny"},{default:t(()=>[n(e(Ka))]),_:1}),$("ZIP"+u(B.number||""),1)]),_:2},1032,["color","text-color","onClick"])],8,jl)]),default:t(()=>[h("div",{style:ue({color:e(i).errorColor})},[h("div",null,"ZIP "+u(B.number||"")+" ("+u(d.$t("failed"))+")",1),h("div",null,u(B.name),1),h("div",null,u(B.sizeByUnit),1),h("div",null,u(d.$rt("{n} @:files",B.count)),1)],4)]),_:2},1024)]))),128))]),_:1})]),_:1})):de("",!0)]),_:1})]),_:1})]),_:1})}}}),Wl=Me(Zl,[["__scopeId","data-v-e077b23b"]]),Hl=["innerHTML"],Vl=h("p",null,[h("img",{width:"200",src:Wo})],-1),ql={style:{"flex-grow":"1"}},Gl=be({__name:"converter",props:tt({input:{},format:{},quality:{},retainExtension:{type:Boolean},maxZipSizeMB:{},threads:{}},{showNote:{type:Boolean},showNoteModifiers:{}}),emits:tt(["start","end","multi-thread-count"],["update:showNote"]),setup(a,{emit:l}){qe(Pe);const{t:g}=Fe(),o=dt(),i=Qa(),r=Ya(),s=10,f=navigator.hardwareConcurrency,T=typeof OffscreenCanvas=="function",b=300,x=a,c=Se(a,"showNote"),C=l,k=_(!1),p=_(!1),m=_(!1),F=_(0),A=_(!1),I=_(!1),E=_("initializing"),O=_("info"),z=ut(pe());let v=!1,S=()=>{},W=0,Q=!1;xe(()=>x.input,y=>{y!=null&&y.length&&fe(y)}),Ce(async()=>{await w(),D()});async function ee(){let y=!0;W>s*1e3&&!Q&&z.success>0&&(y=!1,await new Promise(P=>{o.warning({title:g("confirmCloseDialogTitle"),autoFocus:!0,maskClosable:!1,positiveText:g("close"),negativeText:g("back"),onPositiveClick:()=>y=!0,onAfterLeave:P,content:g("confirmCloseDialog")})})),y&&(r.destroyAll(),i.destroyAll(),A.value=!1,c.value=!1)}function U(y){z.demandImage(y)}function Z(){!p.value&&k.value?p.value=!0:ee()}function j(){fe(x.input)}let te=_(()=>{});function pe(y){const P={logs:[],index:0,converted:0,success:0,failure:0,done:0,length:0,zippedTotalCount:0,zippingErrorCount:0,zippedTotalSize:0,processing:!1,zips:[],inputTotalSize:0,outputTotalSize:0,thumbnail:null,baseZipName:"testzipname",type:"image/any",startedTime:Date.now(),convertedImageDataUrl:"",convertedImageName:"",convertedImageUrl:"",convertedImageOrgUrl:"",convertedImageIndex:-1,convertedImageFileId:-1,convertedImageShrinked:!1,zipSize:x.maxZipSizeMB,shrink:R.multithread&&R.shrinkImage?[R.maxWidth,R.maxHeight]:void 0,unconvertedListText:"",failedZipDone:!1,failedZips:[],unconvertedFileCount:0,unconvertedTotalSize:0,failedFileZippedCount:0,failedToCreateFailedZip:!1,demandImage:()=>{}};return Object.assign(y||{},P)}function V(){I.value=!1,URL.revokeObjectURL(z.convertedImageUrl),URL.revokeObjectURL(z.convertedImageOrgUrl);for(const y of z.zips)URL.revokeObjectURL(y.url);z.zips.length=0;for(const y of z.failedZips)URL.revokeObjectURL(y.url);z.failedZips.length=0,pe(z),S(),S=()=>{},Q=!1,m.value=!1,p.value=!1}async function fe(y){if(k.value){o.error({title:"Busy",positiveText:"OK",content:g("interfered")});return}let P=ne(y);pe(z),V();const N={convertedImageBlob:null,convertedImageWidth:0,convertedImageHeight:0,convertedImageName:""};F.value++,A.value=!0,I.value=!0,k.value=!0,z.processing=!0,O.value="info",E.value=g("processing");const J=new Set,re=x.format,Y=x.quality,he=[...re.matchAll(/.+\/(.+)/g)][0][1].replace(/jpeg/,"jpg"),ie=L(re,Y,P[0].webkitRelativePath);z.length=P.length,z.baseZipName=ie,z.type=re.replace(/image\//,"").toUpperCase()+(/jpe?g|webp/i.test(re)?" ("+Y+")":""),z.threads=v?0:x.threads;const Ne=Date.now();C("start");const ve=P.concat();let Oe,De;if({exception:De,callbackToGenerateFailedZips:Oe,callbackToClearConverter:S}=!v&&x.threads>=2?await nl(z,p,x,N,i,r,ve,J,re,Y,he,re):await sl(ve,J,N,x,p,z),De){let Te;switch(De.message){case"worker-load-error":Te=g("errMsgWorkerLoadError");break;default:Te="unexpected error"}o.error({title:"Error",autoFocus:!0,maskClosable:!1,closable:!1,content:()=>X("div",[X("p",Te),X(ke,{onClick(){location.reload()}},g("Reload"))])})}if(z.length,z.success===z.length?(O.value="success",E.value=g("completed")):(O.value="error",E.value=p.value?g("aborted"):g("incomplete")),J.size!==P.length){const Te=q(P,J);te.value=()=>{!Te||!Te.length||Oe(Te)}}k.value=!1,z.processing=!1,m.value=!0,W=Date.now()-Ne,C("end")}function q(y,P){const N=[],J=[];let re=0;for(const Y of y)P.has(Y._id)||(N.push(Y),J.push(Y.webkitRelativePath||Y.relativePath||Y.name),re+=Y.size);return J.length&&(z.unconvertedListText=J.join(`
`),z.unconvertedFileCount=N.length,z.unconvertedTotalSize=re),N}let le=0;function ne(y){const P=[];for(const N of y)N.hasOwnProperty("_id")||Object.defineProperty(N,"_id",{value:le++}),P.push(N);return P}function L(y,P,N){var he;const J=new Date;return y=y.replace(/^image\//,"").toLowerCase(),`${R.useFolderNameForZip&&((he=String(N).match(/^\/?([^/]+)\//))==null?void 0:he[1])||"avif2jpg"}-
    ${J.getFullYear().toString().substring(2)}
    ${String((J.getMonth()+1)*100+J.getDate()).padStart(4,"0")}
    ${String(J.getHours()*1e4+J.getMinutes()*100+J.getSeconds()).padStart(6,"0")}
    -
    ${y+(/jpe?g|webp/i.test(y)?P:"")}
  `.replace(/\s/g,"")}async function w(){const y="data:image/avif;base64,AAAAHGZ0eXBtaWYxAAAAAG1pZjFhdmlmbWlhZgAAAPJtZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAAHmlsb2MAAAAABEAAAQABAAAAAAEWAAEAAAAgAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAQAAYXYwMUltYWdlAAAAAHFpcHJwAAAAUmlwY28AAAAUaXNwZQAAAAAAAAAIAAAACAAAABBwYXNwAAAAAQAAAAEAAAAWYXYxQ4EgAAAKCDgIv2kBDQAgAAAAEHBpeGkAAAAAAwgICAAAABdpcG1hAAAAAAAAAAEAAQQBAoOEAAAAKG1kYXQKCDgIv2kBDQAgMhQWQAAASAAADAZuZXHwA9LzjNWygA==",P=document.createElement("img"),N=mn(P).then(()=>!0,()=>!1);P.src=y,await N||o.warning({title:"Unsupported",positiveText:"OK",maskClosable:!1,content:g("avifUnsupported")})}function D(){(!T||f<2||!Promise.any)&&(v=!0),C("multi-thread-count",v?0:f)}return(y,P)=>{const N=ze,J=Le,re=Ja,Y=Xa,he=He,ie=Ge,Ne=xt;return M(),se(Ie,null,[n(J,{justify:"center",align:"center"},{default:t(()=>{var ve;return[!e(k)&&((ve=x.input)!=null&&ve.length)?(M(),G(N,{key:0,trigger:"hover",placement:"top","keep-alive-on-hover":!1,duration:0,delay:50},{trigger:t(()=>[n(e(ke),{onClick:j,round:""},{default:t(()=>[$(u(e(g)("convertAgain")),1)]),_:1})]),default:t(()=>{var Oe;return[h("div",{innerHTML:e(g)("reconvertTip",(Oe=x.input)==null?void 0:Oe.length)},null,8,Hl)]}),_:1})):de("",!0)]}),_:1}),n(Y,{show:e(A)||c.value,placement:"right","z-index":0,"mask-closable":"","on-mask-click":ve=>c.value=!1},{default:t(()=>[n(re,{title:"Note"},{default:t(()=>[h("p",null,u(y.$t("annotationOutOfMemory")),1),Vl]),_:1})]),_:1},8,["show","on-mask-click"]),n(Ne,{ref:"processingModal",show:e(A),"onUpdate:show":P[2]||(P[2]=ve=>$e(A)?A.value=ve:null),closable:e(m),"close-on-esc":!1,preset:"dialog","display-directive":"show",onClick:P[3]||(P[3]=ve=>{e(r).destroyAll(),e(i).destroyAll()}),onMaskClick:P[4]||(P[4]=ve=>{e(r).destroyAll(),e(i).destroyAll()}),onClose:ee,onEsc:Z,title:e(E),type:e(O),"mask-closable":!1,"on-after-leave":V,class:"processing-dialog"},{default:t(()=>[n(ie,{vertical:"",style:{"flex-grow":"1"}},{default:t(()=>[h("div",ql,[e(I)?(M(),G(Wl,{key:e(F),processing:e(k),status:e(z),interval:b,onAllZipsClicked:P[0]||(P[0]=ve=>$e(Q)?Q.value=!0:Q=!0),onDemandZipErrors:e(te),onDemandImage:U},null,8,["processing","status","onDemandZipErrors"])):de("",!0)]),n(ie,{justify:"end"},{default:t(()=>[e(k)?(M(),G(e(ke),{key:0,disabled:e(p),ref:"cancelbutton",round:"",size:"large",onClick:P[1]||(P[1]=ve=>p.value=!0)},{default:t(()=>[n(he,{show:e(p)&&!e(m),size:"small"},{default:t(()=>[$(u(e(g)("cancel")),1)]),_:1},8,["show"])]),_:1},8,["disabled"])):e(m)?(M(),G(e(ke),{key:1,onClick:ee,round:"",size:"large",style:{"font-size":"small","margin-top":"1em"}},{default:t(()=>[$(u(e(g)("close")),1)]),_:1})):de("",!0)]),_:1})]),_:1})]),_:1},8,["show","closable","title","type"])],64)}}}),Kl="/avif2jpeg/dist/avif.png",vn=a=>(zt("data-v-892702c9"),a=a(),It(),a),Ql={class:"container-1"},Yl=vn(()=>h("span",null,"Drag & Drop",-1)),Jl={style:{position:"relative"}},Xl={style:{position:"absolute","font-size":"0.5em",right:"-3.5em",bottom:"-1.5em","white-space":"nowrap"}},ei={style:{color:"#666666"}},ti=vn(()=>h("img",{src:Kl,class:"avif"},null,-1)),ni=["innerHTML"],ai={style:{width:"100%",overflow:"hidden","text-overflow":"ellipsis","font-size":"xx-small","white-space":"nowrap"}},oi=be({__name:"droptarget",props:{forbidden:{type:Boolean},dropTarget:{}},emits:["drop"],setup(a,{emit:l}){qe(Pe);const g=a,o=l,i=eo(),r=_(!1),s=_(0),f=_("");Ce(()=>{T(g.dropTarget||document)});function T(x){document.ondragstart=c=>c.preventDefault(),document.ondragover=c=>c.preventDefault(),x.ondrop=async c=>{var k;if(c.preventDefault(),r.value||g.forbidden)return;r.value=!0,s.value=0,f.value="";let C;try{const p=[...c.dataTransfer.items].map(m=>m.webkitGetAsEntry());i.start(),C=await b(p),i.finish()}catch{C=[...((k=c.dataTransfer)==null?void 0:k.files)??[]],i.error()}r.value&&(r.value=!1,o("drop",C))}}async function b(x,c){c=c||[];for(const C of x)if(C.isFile){const k=await new Promise(p=>C.file(m=>p(m)));Object.defineProperty(k,"webkitRelativePath",{value:C.fullPath}),c.push(k),s.value++}else if(C.isDirectory){f.value=C.fullPath;const k=C.createReader();do{const p=await new Promise(m=>k.readEntries(F=>m(F)));if(!p.length)break;await b(p,c)}while(!0)}return c}return(x,c)=>{const C=ye,k=Le,p=ot,m=ze,F=xt;return M(),se(Ie,null,[h("div",Ql,[n(m,{to:!1,"display-directive":"show",trigger:"hover",duration:0,delay:0,placement:"left"},{trigger:t(()=>[n(k,{vertical:"",class:"container-2"},{default:t(()=>[n(k,{align:"center",wrap:!1,class:"container-3"},{default:t(()=>[n(k,{align:"center"},{default:t(()=>[n(C,{size:"64",color:"white"},{default:t(()=>[n(e(to))]),_:1})]),_:1}),n(k,{vertical:"",align:"center",wrap:!1,style:{"font-weight":"bold","font-size":"1em","line-height":"90%","white-space":"nowrap"}},{default:t(()=>[Yl,h("span",Jl,[$(" AVIF Images "),h("span",Xl,[$(" or "),n(p,{placement:"bottom-end"},{trigger:t(()=>[h("span",ei,[n(C,{style:{"vertical-align":"middle"}},{default:t(()=>[n(e(Ct))]),_:1}),$(" Folders ")])]),default:t(()=>[$(" You can drag and drop your local folders ")]),_:1})])])]),_:1}),n(k,null,{default:t(()=>[ti]),_:1})]),_:1})]),_:1})]),default:t(()=>[h("h3",{innerHTML:x.$t("droptarget"),style:{"max-width":"200px","text-align":"center","word-break":"keep-all","overflow-wrap":"break-word"}},null,8,ni)]),_:1})]),n(F,{show:e(r),"onUpdate:show":c[0]||(c[0]=A=>$e(r)?r.value=A:null),closable:!0,preset:"dialog",title:"Parsing dropped items.",type:"info","mask-closable":!1,"negative-text":x.$t("cancel")},{default:t(()=>[n(k,{vertical:"",align:"center"},{default:t(()=>[h("div",ai,u(e(f)),1),h("div",null,"found "+u(e(s))+" files",1)]),_:1})]),_:1},8,["show","negative-text"])],64)}}}),li=Me(oi,[["__scopeId","data-v-892702c9"]]),hn=a=>(zt("data-v-dec671e4"),a=a(),It(),a),ii={class:"container-1"},si={class:"container-2"},ri=["innerHTML"],ui=["innerHTML"],di={style:{"padding-left":"1em"}},ci=hn(()=>h("br",null,null,-1)),pi=hn(()=>h("ul",null,[h("li",null,"Each extension must begin with a period. "),h("li",null,"Separate each extension with a comma. "),h("li",null,"Use alphameric characters.")],-1)),fi=["innerHTML"],gi=["accept"],mi=be({__name:"file-selector",props:tt({expanded:{type:Boolean},target:{},userExtensions:{},forbidden:{type:Boolean}},{disableNotifyingFolderSelect:{type:Boolean},disableNotifyingFolderSelectModifiers:{}}),emits:tt(["input","click","cancel","on-change-accept","update:target","update:userExtensions","update:expanded"],["update:disableNotifyingFolderSelect"]),setup(a,{emit:l}){const g=dt(),{t:o}=Fe(),i=qe(Pe),r=["avif_only","all_images","all_files","edit_type"],s=a,f=l,T=_(0),b=_(!1),x=_(!1),c=we(()=>Q(m.value)),C=we(()=>F.value.split(",").every(j=>/^\s*(\.[\w\-]+)*\s*$/.test(j))?"success":"error"),k=we(()=>!s.forbidden&&!x.value),p=we({get:()=>s.expanded,set:Z=>{f("update:expanded",Z)}}),m=we({get:()=>r.indexOf(s.target)>=0?s.target:r[0],set:Z=>{f("update:target",Z)}}),F=we({get:()=>s.userExtensions,set:Z=>{f("update:userExtensions",Z)}}),A=Se(a,"disableNotifyingFolderSelect"),I=_(null),E=_(null),O=_(W());xe(m,Z=>{f("on-change-accept",c.value)}),Ce(()=>{});async function z(Z){if(f("click"),Z===E.value&&!A.value){let j=!1;if(await new Promise(te=>{g.info({title:o("loadfolderNotifyingTitle"),positiveText:o("Continue"),negativeText:o("Cancel"),onAfterLeave:()=>te(j),onPositiveClick:()=>j=!0,content:()=>X("div",[X("p",{},o("loadfolderNotifyingMessageTerm1")),X("div",[X(Yt,{width:250,style:{border:"3px solid gray"},src:"/avif2jpeg/dist//notification-folder.png"})]),X("p",{},o("loadfolderNotifyingMessageTerm2")),X("p",[X(an,{onUpdateChecked:pe=>A.value=pe,checked:A.value},()=>o("checkboxTextDontShowThis"))])])})}),!j){A.value=!1,f("cancel");return}}Z.click()}function v(){f("cancel")}function S(Z){const te=[...Z.target.files];I.value.value="",E.value.value="",U(te)}function W(){return"webkitdirectory"in document.createElement("input")}function Q(Z){switch(Z){case"avif_only":return".avif, .webp";case"all_images":return".jpg, .jpeg, .jfif, .pjpeg, .pjp, .gif, .png, .webp, .avif, .bmp, .apng, .ico";case"edit_type":return F.value;case"all_files":default:return".*"}}async function ee(Z){const j=String(c.value).toLowerCase().replace(/\s+/g,"");if(j&&c.value!==".*"){const te=j.split(",");Z=Z.filter(pe=>te.includes(pe.name.replace(/^.+(\.[^.]+)$/,"$1").toLowerCase())),Z.length||(await new Promise(pe=>{g.error({title:"Images Not Found",positiveText:"OK",onAfterLeave:pe,content:()=>X("div",[X(on,{description:"NO IMAGES"}),`${o("noimage")}`,X("br"),c.value])})}),v())}return Z}async function U(Z){x.value=!0,Z=await ee(Z),T.value=Z.length,Z.length>0&&f("input",Z),x.value=!1}return(Z,j)=>{const te=ye,pe=Tt,V=ke,fe=ze,q=Le,le=so,ne=no,L=ao,w=ot,D=oo,y=Lt,P=$t;return M(),se(Ie,null,[h("div",ii,[h("div",si,[n(q,{vertical:"",align:"center",justify:"center",inline:""},{default:t(()=>[n(q,{align:"center",justify:"space-around"},{default:t(()=>[n(pe,{value:e(T),max:999,offset:[-8,0],color:"#999999",style:{"margin-right":"1em"}},{default:t(()=>[n(te,{size:"4em",color:"#CCCCCC"},{default:t(()=>[n(e(lo))]),_:1})]),_:1},8,["value"]),n(q,{vertical:"",align:"stretch",justify:"center"},{default:t(()=>[n(fe,{to:!1,"display-directive":"show",show:e(i).showTooltipsBeforeMounted.value,trigger:"hover","keep-alive-on-hover":!1,placement:e(i).LANDSCAPE.value?"right":"top",duration:0,delay:0,"z-index":10},{trigger:t(()=>[n(V,{disabled:!e(k),onClick:j[0]||(j[0]=N=>z(e(I))),round:"",style:{width:"100%","background-color":"white"}},{icon:t(()=>[n(te,{size:"large",color:"gray"},{default:t(()=>[n(e(sn))]),_:1})]),default:t(()=>[$(" "+u(Z.$t("loadbutton")),1)]),_:1},8,["disabled"])]),default:t(()=>[h("div",{innerHTML:Z.$t("loadbuttontooltip")},null,8,ri)]),_:1},8,["show","placement"]),!e(i).IS_SP&&e(O)||e(i).SSR?(M(),G(fe,{key:0,to:!1,"display-directive":"show",trigger:"hover",placement:"left","keep-alive-on-hover":!1,style:{"max-width":"40vw"},duration:0,delay:0,"z-index":10,show:e(i).showTooltipsBeforeMounted.value},{trigger:t(()=>[n(V,{disabled:!e(k),onClick:j[1]||(j[1]=N=>z(e(E))),round:"",style:{width:"100%","background-color":"white"}},{icon:t(()=>[n(te,{size:"large",color:"gray"},{default:t(()=>[n(e(Ct))]),_:1})]),default:t(()=>[$(" "+u(Z.$t("loadfolderbutton")),1)]),_:1},8,["disabled"])]),default:t(()=>[h("div",{innerHTML:Z.$t("loadfoldertooltip")},null,8,ui)]),_:1},8,["show"])):de("",!0)]),_:1})]),_:1}),h("div",{class:et({"expand-ext-list-container":e(p)})},[n(P,{"display-directive":"show","expanded-names":e(p)?["extItem"]:"","on-update:expanded-names":N=>{p.value=!!(""+N)},class:et({"expand-ext-list":e(p)})},{"header-extra":t(()=>[n(te,{size:"large"},{default:t(()=>[n(e(io))]),_:1})]),default:t(()=>[n(y,{title:Z.$t("fileTypeRadioTitle"),name:"extItem"},{default:t(()=>[n(D,{value:e(m),"onUpdate:value":j[5]||(j[5]=N=>$e(m)?m.value=N:null),name:"filetyperadios",size:"small"},{default:t(()=>[n(q,{vertical:"",style:{"padding-left":"1em"}},{default:t(()=>[(M(),se(Ie,null,We(r,N=>n(fe,{key:N,trigger:"hover","keep-alive-on-hover":!1,"z-index":5,placement:"left",style:{"max-width":"200px"},duration:0,delay:0},{trigger:t(()=>[n(le,{value:N},{default:t(()=>[$(u(Z.$t("fileTypeRadioOptions."+N)),1)]),_:2},1032,["value"])]),default:t(()=>[$(" "+u(Q(N).replace(/,/g,", ")),1)]),_:2},1024)),64)),n(fe,{trigger:"hover","keep-alive-on-hover":!1,placement:"bottom-start",show:e(b),duration:0,delay:0},{trigger:t(()=>[h("div",di,[n(w,{trigger:"manual",placement:"right-end",show:e(m)==="edit_type"&&e(C)!=="success"&&!!e(b)},{trigger:t(()=>[n(ne,{value:e(F),"onUpdate:value":j[2]||(j[2]=N=>$e(F)?F.value=N:null),status:e(C),disabled:e(m)!=="edit_type",onFocus:j[3]||(j[3]=N=>b.value=!0),onBlur:j[4]||(j[4]=N=>b.value=void 0),clearable:!0,size:"small",placeholder:".jpg, .gif, .png",spellcheck:"false"},null,8,["value","status","disabled"])]),default:t(()=>[n(L,{type:"error","show-icon":!0,title:"Validation error"},{default:t(()=>[$(" Please correct the extension list."),ci,pi]),_:1})]),_:1},8,["show"])])]),default:t(()=>[h("span",{innerHTML:Z.$t("editAcceptTypes")},null,8,fi)]),_:1},8,["show"])]),_:1})]),_:1},8,["value"])]),_:1},8,["title"])]),_:1},8,["expanded-names","on-update:expanded-names","class"])],2),e(i).IS_SP?de("",!0):(M(),G(li,{key:0,onDrop:U,forbidden:!e(k)},null,8,["forbidden"]))]),_:1})])]),h("input",{ref_key:"fileinput",ref:I,onInput:S,onCancel:v,type:"file",multiple:"",accept:e(c),style:{display:"none"}},null,40,gi),h("input",{ref_key:"folderinput",ref:E,webkitdirectory:"",directory:"",onInput:S,onCancel:v,type:"file",style:{display:"none"}},null,544)],64)}}}),vi=Me(mi,[["__scopeId","data-v-dec671e4"]]),hi={style:{"white-space":"nowrap"}},_i=be({__name:"settings-output",props:{quality:{},format:{}},emits:["update:format","update:quality"],setup(a,{emit:l}){const g=a,o=l,{t:i}=Fe(),r=qe(Pe),s=_([]),f=["image/jpeg","image/png","image/gif","image/bmp","image/avif","image/webp"],T=we({get:()=>g.format,set:p=>{p=C(p),o("update:format",p)}}),b=we({get:()=>g.quality,set:p=>{o("update:quality",p)}}),x=we(()=>/png|bmp/i.test(T.value)),c=_(null);Ce(()=>{k()});function C(p){return s.value.indexOf(p)<0&&(p=s.value[0]),p}function k(){for(const p of f)c.value.toDataURL(p).indexOf(p)>=0&&s.value.push(p);s.value.length===0&&s.value.push(f[0])}return(p,m)=>{const F=ye,A=rn,I=Le,E=ze,O=St,z=un;return M(),se(Ie,null,[n(I,{justify:"center"},{default:t(()=>[n(I,{vertical:""},{default:t(()=>[n(E,{to:!1,"display-directive":"show",show:e(r).showTooltipsBeforeMounted.value,trigger:"hover",placement:e(r).LANDSCAPE.value?"left":"top-start","keep-alive-on-hover":!1,duration:0,delay:0},{trigger:t(()=>[n(I,{align:"center"},{default:t(()=>[n(F,null,{default:t(()=>[n(e(sn))]),_:1}),$(u(e(i)("settings.imageType"))+": ",1),n(A,{value:T.value,"onUpdate:value":m[0]||(m[0]=v=>T.value=v),options:s.value.map(v=>({value:v,label:v})),"consistent-menu-width":!1,size:"small"},null,8,["value","options"])]),_:1})]),default:t(()=>[$(" "+u(e(i)("settings.imageTypeTooltip")),1)]),_:1},8,["show","placement"]),n(E,{to:!1,"display-directive":"show",show:e(r).showTooltipsBeforeMounted.value,trigger:"hover",placement:e(r).LANDSCAPE.value?"left":"top-start","keep-alive-on-hover":!1,duration:0,delay:0},{trigger:t(()=>[n(I,{align:"center"},{default:t(()=>[n(I,{align:"start",wrap:!1},{default:t(()=>[n(F,null,{default:t(()=>[n(e(ln))]),_:1}),h("span",hi,u(e(i)("settings.quality"))+":",1),n(I,{align:"center",justify:"space-between"},{default:t(()=>[n(O,{tooltip:!1,value:b.value,"onUpdate:value":m[1]||(m[1]=v=>b.value=v),step:1,style:{width:"120px"},disabled:x.value},null,8,["value","disabled"]),n(z,{onBlur:m[2]||(m[2]=v=>b.value??(b.value=0)),value:b.value,"onUpdate:value":m[3]||(m[3]=v=>b.value=v),step:"1",min:"0",max:"100",disabled:x.value,style:{width:"90px"},size:"small"},null,8,["value","disabled"])]),_:1})]),_:1})]),_:1})]),default:t(()=>[$(" "+u(e(i)("settings.qualitytooltip")),1)]),_:1},8,["show","placement"])]),_:1})]),_:1}),h("canvas",{ref_key:"canvas",ref:c,width:"1",height:"1",style:{display:"none"}},null,512)],64)}}}),yi={style:{width:"4em","text-align":"left"}},wi={style:{width:"4em","text-align":"left"}},_t=100,jt=2e3,Bt=4096,Zt=4096,bi=100,ki=100,xi=be({__name:"settings-adv",props:tt({threadMax:{}},{expanded:{type:Boolean,required:!0},expandedModifiers:{},multithread:{type:Boolean,required:!0},multithreadModifiers:{},threadCount:{required:!0},threadCountModifiers:{},maxZipSize:{required:!0},maxZipSizeModifiers:{},retainExt:{type:Boolean,required:!0},retainExtModifiers:{},useFolderNameForZip:{type:Boolean,required:!0},useFolderNameForZipModifiers:{},shrinkImage:{type:Boolean,required:!0},shrinkImageModifiers:{},maxWidth:{required:!0},maxWidthModifiers:{},maxHeight:{required:!0},maxHeightModifiers:{}}),emits:["update:expanded","update:multithread","update:threadCount","update:maxZipSize","update:retainExt","update:useFolderNameForZip","update:shrinkImage","update:maxWidth","update:maxHeight"],setup(a){const l={trigger:"hover",placement:"left",keepAliveOnHover:!1,duration:0,delay:0,style:"max-width: 20vw;"},g=Se(a,"expanded"),o=Se(a,"multithread"),i=Se(a,"threadCount"),r=Se(a,"maxZipSize"),s=Se(a,"retainExt"),f=Se(a,"useFolderNameForZip"),T=Se(a,"shrinkImage"),b=Se(a,"maxWidth"),x=Se(a,"maxHeight"),c=a;xe([i,()=>c.threadMax],()=>{c.threadMax>1&&typeof i.value>"u"&&(i.value=Math.max(c.threadMax/2|0,2))}),xe(()=>c.threadMax,()=>{c.threadMax>1||(o.value=!1)},{immediate:!0});const C=we(()=>o.value&&c.threadMax>1);return(k,p)=>{const m=ye,F=ke,A=ro,I=Ge,E=St,O=un,z=Lt,v=$t;return M(),G(I,{justify:"center"},{default:t(()=>[n(v,{"display-directive":"show","default-expanded-names":g.value?["collapitem"]:"","on-update:expanded-names":S=>g.value=!!String(S),"trigger-areas":["arrow","main"],class:et(["settings-body",g.value?"expand-adv-settings":""])},nn({arrow:t(()=>[n(m,{style:ue(g.value&&{top:"8px"})},{default:t(()=>[n(e(uo))]),_:1},8,["style"]),n(m,null,{default:t(()=>[n(e(co))]),_:1})]),default:t(()=>[n(z,{title:k.$t("settings.advancedSettings"),name:"collapitem"},{default:t(()=>[n(I,{vertical:"",style:{"padding-left":"2em"}},{default:t(()=>[n(e(ze),Ye(Je(l)),{trigger:t(()=>[n(I,{vertical:""},{default:t(()=>[n(I,{wrap:!1,align:"center"},{default:t(()=>[n(F,{text:"",disabled:!k.threadMax,style:{"font-size":"smaller"},bordered:!1,focusable:!1,onClick:p[0]||(p[0]=S=>o.value=!o.value)},{icon:t(()=>[n(m,null,{default:t(()=>[n(e(po))]),_:1})]),default:t(()=>[$(" "+u(k.$t("settings.enableMultiThreads")),1)]),_:1},8,["disabled"]),n(A,{value:o.value,"onUpdate:value":p[1]||(p[1]=S=>o.value=S),disabled:!k.threadMax,size:"small"},null,8,["value","disabled"])]),_:1}),n(I,{wrap:!1,align:"center",style:{"padding-left":"2em"}},{default:t(()=>[n(E,{value:i.value,"onUpdate:value":p[2]||(p[2]=S=>i.value=S),disabled:!k.threadMax||!o.value,step:1,min:2,max:k.threadMax,style:{width:"120px"}},null,8,["value","disabled","max"]),n(O,{onBlur:p[3]||(p[3]=S=>i.value??(i.value=2)),size:"tiny",value:i.value,"onUpdate:value":p[4]||(p[4]=S=>i.value=S),disabled:!k.threadMax||!o.value,step:1,min:2,max:k.threadMax,style:{width:"10em"}},{suffix:t(()=>[$(u(k.$t("threads",i.value)),1)]),_:1},8,["value","disabled","max"])]),_:1})]),_:1})]),default:t(()=>[$(" "+u(k.$t("settings.multiThreadsTooltip")),1)]),_:1},16),n(e(ze),Ye(Je(l)),{trigger:t(()=>[n(I,{vertical:""},{default:t(()=>[n(I,{wrap:!1,align:"center"},{default:t(()=>[n(F,{text:"",focusable:!1,style:{"white-space":"nowrap","font-size":"smaller"}},{icon:t(()=>[n(m,{style:{"vertical-align":"middle"}},{default:t(()=>[n(e(fo))]),_:1})]),default:t(()=>[$(" "+u(k.$t("settings.maxZipFileSize"))+": ",1)]),_:1})]),_:1}),n(I,{wrap:!1,align:"center",style:{"padding-left":"2em"}},{default:t(()=>[n(E,{tooltip:!1,value:r.value,"onUpdate:value":p[5]||(p[5]=S=>r.value=S),step:1,min:_t,max:jt,style:{width:"120px"}},null,8,["value"]),n(O,{onBlur:p[6]||(p[6]=S=>r.value??(r.value=_t)),size:"tiny",value:r.value,"onUpdate:value":p[7]||(p[7]=S=>r.value=S),step:"1",min:_t,max:jt,style:{width:"10em"}},{suffix:t(()=>[$("(MB)")]),_:1},8,["value"])]),_:1})]),_:1})]),default:t(()=>[$(" "+u(k.$t("settings.maxZipFileSizeTooltip")),1)]),_:1},16),n(e(ze),Ye(Je(l)),{trigger:t(()=>[n(I,{wrap:!1,align:"center"},{default:t(()=>[n(F,{text:"",style:{"font-size":"smaller"},bordered:!1,focusable:!1,onClick:p[8]||(p[8]=S=>f.value=!f.value)},{icon:t(()=>[n(m,null,{default:t(()=>[n(e(Ct))]),_:1})]),default:t(()=>[$(" "+u(k.$t("settings.useFolderNameForZip")),1)]),_:1}),n(A,{value:f.value,"onUpdate:value":p[9]||(p[9]=S=>f.value=S),size:"small"},null,8,["value"])]),_:1})]),default:t(()=>[$(" "+u(k.$t("settings.useFolderNameForZipTooltip")),1)]),_:1},16),n(e(ze),Ye(Je(l)),{trigger:t(()=>[n(I,{wrap:!1,align:"center"},{default:t(()=>[n(F,{text:"",style:{"font-size":"smaller"},bordered:!1,focusable:!1,onClick:p[10]||(p[10]=S=>s.value=!s.value)},{icon:t(()=>[n(m,null,{default:t(()=>[n(e(tn))]),_:1})]),default:t(()=>[$(" "+u(k.$t("settings.retainOriginalExtension")),1)]),_:1}),n(A,{value:s.value,"onUpdate:value":p[11]||(p[11]=S=>s.value=S),size:"small"},null,8,["value"])]),_:1})]),default:t(()=>[$(" "+u(k.$t("settings.retainExtTooltip")),1)]),_:1},16),n(e(ze),Ye(Je(l)),{trigger:t(()=>[n(I,{vertical:""},{default:t(()=>[n(I,{wrap:!1,align:"center"},{default:t(()=>[n(F,{disabled:!e(C),text:"",style:{"font-size":"smaller"},bordered:!1,focusable:!1,onClick:p[12]||(p[12]=S=>T.value=!T.value)},{icon:t(()=>[n(m,null,{default:t(()=>[n(e(go))]),_:1})]),default:t(()=>[$(" "+u(k.$t("settings.shrinkImage")),1)]),_:1},8,["disabled"]),n(A,{disabled:!e(C),value:T.value,"onUpdate:value":p[13]||(p[13]=S=>T.value=S),size:"small"},null,8,["disabled","value"])]),_:1}),n(I,{wrap:!1,align:"center",style:{"padding-left":"2em"}},{default:t(()=>[n(E,{value:b.value,"onUpdate:value":p[14]||(p[14]=S=>b.value=S),disabled:!T.value||!e(C),step:1,min:bi,max:Bt,style:{width:"120px"}},null,8,["value","disabled"]),n(O,{size:"tiny",onBlur:p[15]||(p[15]=S=>b.value??(b.value=8)),value:b.value,"onUpdate:value":p[16]||(p[16]=S=>b.value=S),disabled:!T.value||!e(C),step:1,min:8,max:Bt*4,style:{"max-width":"15em","text-align":"right"}},{prefix:t(()=>[h("span",yi,u(k.$t("width")),1)]),suffix:t(()=>[$("px")]),_:1},8,["value","disabled","max"])]),_:1}),n(I,{wrap:!1,align:"center",style:{"padding-left":"2em"}},{default:t(()=>[n(E,{value:x.value,"onUpdate:value":p[17]||(p[17]=S=>x.value=S),disabled:!T.value||!e(C),step:1,min:ki,max:Zt,style:{width:"120px"}},null,8,["value","disabled"]),n(O,{size:"tiny",onBlur:p[18]||(p[18]=S=>x.value??(x.value=8)),value:x.value,"onUpdate:value":p[19]||(p[19]=S=>x.value=S),disabled:!T.value||!e(C),step:1,min:8,max:Zt*4,style:{"max-width":"15em","text-align":"right"}},{prefix:t(()=>[h("span",wi,u(k.$t("height")),1)]),suffix:t(()=>[$("px")]),_:1},8,["value","disabled","max"])]),_:1})]),_:1})]),default:t(()=>[$(" "+u(k.$t("settings.shrinkImageTooltip")),1)]),_:1},16)]),_:1})]),_:1},8,["title"])]),_:2},[g.value?{name:"header-extra",fn:t(()=>[n(e(ze),{"keep-alive-on-hover":!1,duration:0,delay:0},{trigger:t(()=>[n(F,{onClick:e(Lo),size:"tiny",style:{"font-size":"xx-small"}},{default:t(()=>[$(u(k.$t("reset")),1)]),_:1},8,["onClick"])]),default:t(()=>[$(" "+u(k.$t("settings.resetButtonTooltip")),1)]),_:1})]),key:"0"}:void 0]),1032,["default-expanded-names","on-update:expanded-names","class"])]),_:1})}}}),Ai=Me(xi,[["__scopeId","data-v-961cce23"]]),zi={},Ii={style:{color:"gray","padding-left":"20px"}},Ti=["innerHTML"];function Si(a,l){const g=At,o=Le;return M(),G(o,{vertical:"",justify:"end"},{default:t(()=>[n(g,{style:{margin:"0px"}}),n(o,{justify:"center"},{default:t(()=>[h("ul",Ii,[(M(!0),se(Ie,null,We(a.$tm("descriptions"),i=>(M(),se("li",{key:i,style:{"text-align":"left"},innerHTML:i},null,8,Ti))),128))])]),_:1})]),_:1})}const Li=Me(zi,[["render",Si]]),$i="modulepreload",Ci=function(a){return"/avif2jpeg/dist/"+a},Wt={},me=function(l,g,o){let i=Promise.resolve();if(g&&g.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),f=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(g.map(T=>{if(T=Ci(T),T in Wt)return;Wt[T]=!0;const b=T.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${x}`))return;const c=document.createElement("link");if(c.rel=b?"stylesheet":$i,b||(c.as="script"),c.crossOrigin="",c.href=T,f&&c.setAttribute("nonce",f),document.head.appendChild(c),b)return new Promise((C,k)=>{c.addEventListener("load",C),c.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${T}`)))})}))}function r(s){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=s,window.dispatchEvent(f),!f.defaultPrevented)throw s}return i.then(s=>{for(const f of s||[])f.status==="rejected"&&r(f.reason);return l().catch(r)})},_n="English",yn="🇬🇧",wn='AVIF to JPEG "Offline" Batch Converter',bn="It is a free web application to convert AVIF or WebP images to other common image formats such as JPEG or PNG without server communication.",kn="Drag & Drop AVIF Images to Convert",xn=["This is a free web application to batch convert AVIF(or WebP, etc) images to common image formats such as JPEG, PNG.","It uses a browser's built-in function for the conversions, so <strong>no data is sent to any server</strong>.","The converted images will be output as <strong>a zip file</strong> when multiple images are loaded.",'Requires <a href="https://caniuse.com/avif" target="_self" style="color:red">latest</a> version of Firefox or Chrome to load AVIF images.'],An="Select your language",zn="Choose Target File Extentions",In={avif_only:'Only ".avif" or ".webp"',all_images:"All Image Types",all_files:"All Types",edit_type:"Edit File Extension List"},Tn="Input a list of comma separated file extentions to load.<br>e.g.) .jpg,.gif,.png",Sn="Load Images",Ln="Select your images from a dialog window.<br>*Multiple selection allowed.",$n="Load a Whole Folder",Cn=`Convert all images in the selected folder and its subfolders, and add the converted images to a ZIP archive with relative path.<br>*It will show "Upload" button, but it actually doesn't upload anything to any server.`,En="Converting images",Fn="Aborted",Mn="Some files failed to convert",On="Completed",Un="Currently Busy",Pn="No files with the extentions were found.",Nn="Your browser does not support AVIF format. Please use latest version of Firefox or Chrome to convert AVIF images.",Dn="Cancel",Rn="Save",jn="Close",Bn="Open",Zn="Re-convert",Wn="Convert previous selected {n} @:files again",Hn="File | Files",Vn="thread | threads",qn="You have not saved the converted images yet.",Gn="Data have not been saved",Kn="Open Source",Qn="Open the converted image",Yn="Copied to clipboard",Jn="The converted image was copied to your clipboard as DataURL.",Xn="Copy the converted image as DataURL",ea="Convert Again",ta={expandLogTooltip:"Displaying the entire log may severely reduce conversion speed.",expandLog:"Show entire log",autoScroll:"Auto scroll",showOnlyErrors:"Show only errors",log:"Log",outInRate:"Out / In Ratio",elapsedTime:"Elapsed Time",multiThreading:"Multi-Threading",outputSettings:"Output Settings",totalSize:"Total Size",totalFiles:"Number of Files",confirmDownloadMessage:"It will start to download {0} zip files.",inputSize:"Input Size",outputSize:"Output Size",filterSuccess:"Hide completed item",progressErrors:"Failed items",progressStarted:"Started Items",progressTotal:"Total number of files",zippingProgress:"Zipping progress",zipped:"ZIPPED",openFailedList:"Open failed file list",zipFailedList:"Pack failed files into Zips",table:{index:"index",status:"status",core:"thread",details:"file"},saveFailedList:"Save failed file list",done:"done",convertedZips:"successfully completed ZIP",progressSuccess:"Completed Files",downloadConvertedImage:"Download Converted Image",failureZippingFailedFiles:"Failure while zipping the failed files.",browseConvertedImages:"Browse converted images",index:"Index",Original:"Original",Converted:"Converted",saveAllZipsTooltip:"Save all ZIP files",Shrinked:"Shrinked",Shrinking:"Shrinking"},na={maxZipFileSize:"Max zip file size",retainExtTooltip:"New extension will be appended to original extension",retainOriginalExtension:"Keep Original File Extension",qualitytooltip:"Set image quality for output",quality:"Image Quality",maxZipFileSizeTooltip:"Set smaller value if memory problems occur.",ignoreExtTooltip:'Try to load files that don"t have image file extension',ignoreFileExtensions:"Load All File Types",imageTypeTooltip:"Choose image format for output",imageType:"Image Type",advancedSettings:"Advanced Settings",enableMultiThreads:"Enable multi-threading",resetButtonTooltip:"Restore all settings to default.",multiThreadsTooltip:"Convert images in multi-threaded",shrinkImageTooltip:"If the image dimensions are larger than the specified value, shrink the image to that value",shrinkImage:"Shrink images that exceed the following dimensions",useFolderNameForZip:"Use dropped folder name for the zip file",useFolderNameForZipTooltip:"If a folder is dropped or selected, its name is used as the name of the output ZIP file"},aa="Disabled",oa="Download",la="Reset",ia="Back",sa="Failed",ra="Success",ua="Previous version",da=`
Height`,ca="Width",pa="Don't show this message again",fa="About the warning when selecting a folder",ga="OK",ma={},va="You must press the “Upload” button here to load all the images in the folder, but the data loaded by this application is never actually uploaded to the server.",ha="Continue",_a="Cancel",ya="When you select a folder instead of a file as input on a website, major web browsers will display a warning like the image below.",wa="This page may be an outdated version. Please reload the page.",ba="Reload",ka=`If the conversion process frequently fails and an “Out of Memory” message appears, try reducing or disabling the number of "multi-threads" in the "Advanced Settings".
This problem may be resolved with a newer browser version.`,xa={lang:_n,flags:yn,title:wn,metaDescription:bn,droptarget:kn,descriptions:xn,selectLanguage:An,fileTypeRadioTitle:zn,fileTypeRadioOptions:In,editAcceptTypes:Tn,loadbutton:Sn,loadbuttontooltip:Ln,loadfolderbutton:$n,loadfoldertooltip:Cn,processing:En,aborted:Fn,incomplete:Mn,completed:On,interfered:Un,noimage:Pn,avifUnsupported:Nn,cancel:Dn,save:Rn,close:jn,open:Bn,reconvert:Zn,reconvertTip:Wn,files:Hn,threads:Vn,confirmCloseDialog:qn,confirmCloseDialogTitle:Gn,githubOpenSource:Kn,convertedImageUrlTooltip:Qn,copiedDataURLDialogTitle:Yn,copiedDataURLMessage:Jn,convertedImageDataUrlTooltip:Xn,convertAgain:ea,status:ta,settings:na,disabled:aa,Download:oa,reset:la,back:ia,failed:sa,success:ra,previousVersion:ua,height:da,width:ca,checkboxTextDontShowThis:pa,loadfolderNotifyingTitle:fa,OK:ga,loadfolderNotifyingMessage:ma,loadfolderNotifyingMessageTerm2:va,Continue:ha,Cancel:_a,loadfolderNotifyingMessageTerm1:ya,errMsgWorkerLoadError:wa,Reload:ba,annotationOutOfMemory:ka},Ei=Object.freeze(Object.defineProperty({__proto__:null,Cancel:_a,Continue:ha,Download:oa,OK:ga,Reload:ba,aborted:Fn,annotationOutOfMemory:ka,avifUnsupported:Nn,back:ia,cancel:Dn,checkboxTextDontShowThis:pa,close:jn,completed:On,confirmCloseDialog:qn,confirmCloseDialogTitle:Gn,convertAgain:ea,convertedImageDataUrlTooltip:Xn,convertedImageUrlTooltip:Qn,copiedDataURLDialogTitle:Yn,copiedDataURLMessage:Jn,default:xa,descriptions:xn,disabled:aa,droptarget:kn,editAcceptTypes:Tn,errMsgWorkerLoadError:wa,failed:sa,fileTypeRadioOptions:In,fileTypeRadioTitle:zn,files:Hn,flags:yn,githubOpenSource:Kn,height:da,incomplete:Mn,interfered:Un,lang:_n,loadbutton:Sn,loadbuttontooltip:Ln,loadfolderNotifyingMessage:ma,loadfolderNotifyingMessageTerm1:ya,loadfolderNotifyingMessageTerm2:va,loadfolderNotifyingTitle:fa,loadfolderbutton:$n,loadfoldertooltip:Cn,metaDescription:bn,noimage:Pn,open:Bn,previousVersion:ua,processing:En,reconvert:Zn,reconvertTip:Wn,reset:la,save:Rn,selectLanguage:An,settings:na,status:ta,success:ra,threads:Vn,title:wn,width:ca},Symbol.toStringTag,{value:"Module"})),Fi="Arabic",Mi="German",Oi="English",Ui="Spanish",Pi="Finnish",Ni="French",Di="Hindi",Ri="Indonesian",ji="Italian",Bi="Japanese",Zi="Korean",Wi="Dutch",Hi="Polish",Vi="Portuguese",qi="Russian",Gi="Turkish",Ki="Ukrainian",Qi="Chinese",Yi={ar:Fi,de:Mi,en:Oi,es:Ui,fi:Pi,fr:Ni,hi:Di,id:Ri,it:ji,ja:Bi,ko:Zi,nl:Wi,pl:Hi,pt:Vi,ru:qi,tr:Gi,uk:Ki,"zh-hant":"Chinese(hant)",zh:Qi},st=[],Aa={en:xa},Et={},Ht=Object.assign({"./locales/ar.json":()=>me(()=>import("./ar-DvX099_e.js"),[]),"./locales/de.json":()=>me(()=>import("./de-BBORiRvk.js"),[]),"./locales/en.json":()=>me(()=>Promise.resolve().then(()=>Ei),void 0),"./locales/es.json":()=>me(()=>import("./es-K5O-GtoK.js"),[]),"./locales/fi.json":()=>me(()=>import("./fi-biyqYVSJ.js"),[]),"./locales/fr.json":()=>me(()=>import("./fr-DRrgoeto.js"),[]),"./locales/hi.json":()=>me(()=>import("./hi-CVaCAzyu.js"),[]),"./locales/id.json":()=>me(()=>import("./id-C_Z8re3f.js"),[]),"./locales/it.json":()=>me(()=>import("./it-VY2FUzV5.js"),[]),"./locales/ja.json":()=>me(()=>import("./ja-BIGv4sEI.js"),[]),"./locales/ko.json":()=>me(()=>import("./ko-nStKV_iG.js"),[]),"./locales/nl.json":()=>me(()=>import("./nl-DXwbjQmi.js"),[]),"./locales/pl.json":()=>me(()=>import("./pl-DiJp10Z0.js"),[]),"./locales/pt.json":()=>me(()=>import("./pt-BaOc_cTp.js"),[]),"./locales/ru.json":()=>me(()=>import("./ru-DvSnO2Sh.js"),[]),"./locales/tr.json":()=>me(()=>import("./tr-OJP3tuEU.js"),[]),"./locales/uk.json":()=>me(()=>import("./uk-CvI1rzAD.js"),[]),"./locales/zh-hant.json":()=>me(()=>import("./zh-hant-oK2F8RsI.js"),[]),"./locales/zh.json":()=>me(()=>import("./zh-B9t-FUxo.js"),[])});var Vt;for(const a in Ht){const l=(Vt=a.match(/\/([a-z]{2}(?:-[a-z]+)?)\.json$/i))==null?void 0:Vt[1];l&&(st.push(l),!(l in Aa)&&(Et[l]=Ht[a]))}let kt=Xi();kt in Et||(kt="en");const rt=mo({legacy:!1,globalInjection:!0,locale:kt,fallbackLocale:"en",messages:Aa,warnHtmlMessage:!1,missingWarn:!1,fallbackWarn:!1});async function Ji(a){if(rt.global.availableLocales.indexOf(a)>=0)return;const l=await Et[a]();rt.global.setLocaleMessage(a,l),await Xe()}function Xi(){const a=location.pathname;return String(a.match(/[^/]+(?=\/?$)/)||"").toLowerCase()}const es=["innerHTML"],ts=be({__name:"switch-lang",emits:["lang-ready","lang-change"],async setup(a,{emit:l}){let g,o;const i=qe(Pe),r=Gt(),{locale:s,t:f}=Fe(),T=l,b=Object.entries(Yi).map(([m,F])=>({label:F,value:m}));b.sort((m,F)=>{const A=m.label,I=F.label;return A>I?1:A<I?-1:0}),Ce(()=>{r.afterEach((m,F,A)=>{c(),i.switchToolTipVisibility()})}),Xt(async()=>{}),[g,o]=vo(()=>c()),await g,o();async function x(m){(m!==s.value||rt.global.availableLocales.indexOf(m)===-1)&&(T("lang-change",m),await Ji(m),s.value=m,document.title=f("title"),await Xe()),T("lang-ready",m)}async function c(){const m=r.currentRoute.value.path||"",F=String(m.match(new RegExp("(?<=^\\/)[^/]+"))||"");F&&st.includes(F)?(await x(F),s.value=F):await C()}async function C(){const m=k().toLowerCase(),F=m.split(/[-_]/)[0];if(st.includes(F)){let A=F;if(F==="zh")switch(m){case"zh-hant":case"zh-mo":case"zh-hk":case"zh-tw":A="zh-hant"}await x(A)}}function k(){const m=window.navigator;return m.language||m.userLanguage||m.browserLanguage}function p(m){r.push("/"+m+"/")}return(m,F)=>{const A=ye,I=rn,E=ze;return M(),G(E,{to:!1,"display-directive":"show",show:e(i).showTooltipsBeforeMounted.value,trigger:"hover","keep-alive-on-hover":!1,placement:e(i).LANDSCAPE.value?"left":"bottom",duration:0,delay:50},{trigger:t(()=>[n(I,{ref:"langselect",size:"tiny",style:{width:"100%"},"consistent-menu-width":!1,options:e(b),"_v-model:value":"locale",value:e(s),"onUpdate:value":p},{arrow:t(()=>[n(A,null,{default:t(()=>[n(e(ho))]),_:1})]),_:1},8,["options","value"])]),default:t(()=>[h("div",{innerHTML:m.$t("selectLanguage")},null,8,es)]),_:1},8,["show","placement"])}}}),ns=h("span",null,"CONVERT TO👇",-1),Pe=Symbol("global variables"),as=be({__name:"Avif2Jpeg",emits:["ready"],setup(a,{emit:l}){Fe();const g=l,o=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile Safari/.test(navigator.userAgent),i=_(null),r=_(2);let s=_(void 0);const f=_(!0),T=_(!1),b=_(!1),x=_(!1),c=_(!1);_o(Pe,{showTooltipsBeforeMounted:s,LANDSCAPE:f,IS_SP:o,switchToolTipVisibility:A,SSR:!1}),Ce(()=>{I(),window.addEventListener("resize",I),A(),setTimeout(()=>b.value=!0,3e3)});const C=200;let k=0,p=!0;function m(){x.value=!1,k=Date.now()}function F(){const z=p?0:Math.max(0,C-(Date.now()-k));p=!1,setTimeout(()=>x.value=!0,z),g("ready")}async function A(){}function I(){const z=document.body.clientWidth,v=document.body.clientHeight;f.value=z*.75>v||z>900}function E(z){i.value=z}function O(z){c.value=z}return(z,v)=>{const S=Le,W=ye,Q=ot,ee=Ge;return M(),G(ee,{vertical:"",align:"stretch",justify:"start",style:{height:"100%",position:"relative"}},{default:t(()=>[n(Ro,null,{"lang-switch":t(()=>[(M(),G(yo,null,{default:t(()=>[n(ts,{onLangChange:m,onLangReady:F})]),_:1}))]),_:1}),n(Be,{name:"fade"},{default:t(()=>[e(x)?(M(),G(ee,{key:0,vertical:"",align:"stretch",justify:"space-between",style:{height:"100%"}},{default:t(()=>[n(Zo),n(S,{justify:"center"},{default:t(()=>[n(vi,{expanded:e(R).expandExtButtons,"onUpdate:expanded":v[0]||(v[0]=U=>e(R).expandExtButtons=U),target:e(R).acceptTypeValue,"onUpdate:target":v[1]||(v[1]=U=>e(R).acceptTypeValue=U),userExtensions:e(R).editedAcceptTypes,"onUpdate:userExtensions":v[2]||(v[2]=U=>e(R).editedAcceptTypes=U),"disable-notifying-folder-select":e(R).disableNotifyingFolderSelect,"onUpdate:disableNotifyingFolderSelect":v[3]||(v[3]=U=>e(R).disableNotifyingFolderSelect=U),forbidden:e(T),onInput:E,onClick:v[4]||(v[4]=U=>O(!0)),onCancel:v[5]||(v[5]=U=>O(!1))},null,8,["expanded","target","userExtensions","disable-notifying-folder-select","forbidden"])]),_:1}),n(Gl,{input:e(i),format:e(R).imageFormat,quality:e(R).imageQuality,"retain-extension":e(R).retainExtension,maxZipSizeMB:e(R).maxZipSizeMB,threads:e(R).multithread?e(R).threadCount:0,"show-note":e(c),"onUpdate:showNote":v[6]||(v[6]=U=>$e(c)?c.value=U:null),onStart:v[7]||(v[7]=U=>T.value=!0),onEnd:v[8]||(v[8]=U=>T.value=!1),onMultiThreadCount:v[9]||(v[9]=U=>r.value=U)},null,8,["input","format","quality","retain-extension","maxZipSizeMB","threads","show-note"]),n(S,{vertical:"",align:"center"},{default:t(()=>[n(Q,{trigger:"manual",placement:"top","keep-alive-on-hover":!1,duration:0,delay:0},{trigger:t(()=>[n(W,{size:"4vh",color:"#DADADA",style:{margin:"0px"}},{default:t(()=>[n(e(wo))]),_:1})]),default:t(()=>[ns]),_:1})]),_:1}),n(S,{vertical:"",align:"center"},{default:t(()=>[n(_i,{format:e(R).imageFormat,"onUpdate:format":v[10]||(v[10]=U=>e(R).imageFormat=U),quality:e(R).imageQuality,"onUpdate:quality":v[11]||(v[11]=U=>e(R).imageQuality=U)},null,8,["format","quality"]),n(Ai,{"retain-ext":e(R).retainExtension,"onUpdate:retainExt":v[12]||(v[12]=U=>e(R).retainExtension=U),"use-folder-name-for-zip":e(R).useFolderNameForZip,"onUpdate:useFolderNameForZip":v[13]||(v[13]=U=>e(R).useFolderNameForZip=U),"max-zip-size":e(R).maxZipSizeMB,"onUpdate:maxZipSize":v[14]||(v[14]=U=>e(R).maxZipSizeMB=U),expanded:e(R).expandAdvSettings,"onUpdate:expanded":v[15]||(v[15]=U=>e(R).expandAdvSettings=U),multithread:e(R).multithread,"onUpdate:multithread":v[16]||(v[16]=U=>e(R).multithread=U),"thread-count":e(R).threadCount,"onUpdate:threadCount":v[17]||(v[17]=U=>e(R).threadCount=U),"thread-max":e(r)||0,"shrink-image":e(R).shrinkImage,"onUpdate:shrinkImage":v[18]||(v[18]=U=>e(R).shrinkImage=U),"max-width":e(R).maxWidth,"onUpdate:maxWidth":v[19]||(v[19]=U=>e(R).maxWidth=U),"max-height":e(R).maxHeight,"onUpdate:maxHeight":v[20]||(v[20]=U=>e(R).maxHeight=U)},null,8,["retain-ext","use-folder-name-for-zip","max-zip-size","expanded","multithread","thread-count","thread-max","shrink-image","max-width","max-height"])]),_:1}),n(Li)]),_:1})):de("",!0)]),_:1})]),_:1})}}}),Ft=be({__name:"App",setup(a){const l={Statistic:{valueFontSize:"1em"},Popover:{borderRadius:"0.4em",boxShadow:"2px 2px 5px 0px #555555"},Tooltip:{color:"#000000AA"},Image:{toolbarColor:"#00000099"}},g=_(!0);return Ce(()=>{g.value=!1}),(o,i)=>{const r=ko,s=xo,f=Ao,T=zo,b=Io,x=bo;return M(),G(x,{"theme-overrides":l,style:{width:"100%",height:"100%"}},{default:t(()=>[n(b,null,{default:t(()=>[n(T,{placement:"top-right",max:20},{default:t(()=>[n(f,{placement:"top-left",closable:!0,max:50},{default:t(()=>[n(s,null,{default:t(()=>[n(r,null,{default:t(()=>[n(as,{class:et({hide:e(g)})},null,8,["class"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),za=[{path:"/",name:"Home",component:Ft}];for(const a of st)za.push({path:"/"+a+"/",strict:!0,name:a,component:Ft});To(Ft,{routes:za,base:"/avif2jpeg/dist/"},({app:a,router:l,routes:g,isClient:o,initialState:i})=>{a.use(rt)});
